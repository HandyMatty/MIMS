import{E as S,K as C,L as R,N as M,b8 as E,r as c,k as e,B as l,b9 as r,n as I,ak as d,V as z,aJ as P,G as U}from"./index-BY-OqtzB.js";const B=()=>{const{Title:o}=S,{notifications:n,markAsRead:x,deleteNotif:f,markAllasread:h,clearall:u}=C(),{userData:j}=R(),{userData:m}=M(),{userData:g}=E(),a=j||m,N=!!g,[t,b]=c.useState(1),[i,p]=c.useState(5),k=async s=>{a&&await x(s)},y=async s=>{a&&await f(s)},v=async()=>{a&&await h()},w=async()=>{a&&await u()},A=n.slice((t-1)*i,t*i);return e.jsxs("div",{className:"flex flex-col w-full p-8",children:[e.jsxs("div",{className:"mb-5 flex justify-between items-center",children:[e.jsx(o,{level:3,children:"Notifications"}),e.jsxs("div",{children:[e.jsx(l,{onClick:v,className:"mr-4 bg-green-400",type:"default",disabled:!a,children:"Mark All as Read"}),e.jsx(l,{onClick:w,type:"default",className:"bg-red-400",disabled:!a,children:"Empty Notifications"})]})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#A8E1C5] rounded-xl shadow p-6",children:N?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(r,{dataSource:A,pagination:!1,renderItem:s=>e.jsx(r.Item,{children:e.jsx(I,{title:"Notification",extra:s.notification_date?e.jsx("small",{children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:{width:"100%",background:"#eaf4e2",border:"none"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black",children:"Message: "}),e.jsx("span",{className:"text-black text-lg",children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black",children:"Details: "}),e.jsx("span",{className:"text-black text-sm",children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(d,{title:"Mark as read",children:e.jsx(l,{onClick:()=>k(s.id),type:"text",className:"bg-green-400",icon:e.jsx(z,{}),disabled:!a})}),e.jsx(d,{title:"Delete notification",children:e.jsx(l,{onClick:()=>y(s.id),type:"text",className:"bg-red-400",icon:e.jsx(P,{}),disabled:!a})})]})]})})},s.id)}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:`${(t-1)*i+1}-${Math.min(t*i,n.length)} of ${n.length} notifications`}),e.jsx(U,{current:t,pageSize:i,total:n.length,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],onChange:(s,D)=>{b(s),p(D)}})]})]})})]})};export{B as default};
