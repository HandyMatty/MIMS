import{J as D,N as S,O as R,Q as z,bl as M,r as x,k as e,b5 as I,B as n,bm as c,n as E,am as r,X as P,a_ as U,K as $}from"./index-DUYyvjBV.js";const T=()=>{const{Title:o}=D,{notifications:i,markAsRead:d,deleteNotif:m,markAllasread:f,clearall:u}=S(),{userData:h}=R(),{userData:j}=z(),{userData:g}=M(),t=h||j,N=!!g,[a,b]=x.useState(1),[l,p]=x.useState(5),w=async s=>{t&&await d(s)},y=async s=>{t&&await m(s)},k=async()=>{t&&await f()},v=async()=>{t&&await u()},A=i.slice((a-1)*l,a*l);return e.jsxs("div",{className:"container max-w-full",children:[e.jsx(I,{style:{borderColor:"#072C1C"},children:e.jsx(o,{level:3,children:"Notifications"})}),e.jsxs("div",{className:"flex justify-center sm:justify-end mb-2 w-auto",children:[e.jsx(n,{onClick:k,className:"mr-4 bg-green-400 w-auto text-xxs sm:text-xs",type:"default",disabled:!t,children:"Mark All as Read"}),e.jsx(n,{onClick:v,type:"default",className:"bg-red-400 text-xxs sm:text-xs w-auto",disabled:!t,children:"Empty Notifications"})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#A8E1C5] rounded-xl shadow p-6",children:N?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(c,{dataSource:A,pagination:!1,renderItem:s=>e.jsx(c.Item,{children:e.jsx(E,{className:"text-xxs sm:text-xs w-auto",title:e.jsx("span",{className:"text-xs sm:text-base font-semibold",children:"Notification"}),extra:s.notification_date?e.jsx("small",{className:"text-xxs sm:text-xs break-words max-w-[60px] sm:max-w-36 block",children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:{width:"100%",background:"#eaf4e2",border:"none"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",children:"Message: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",children:"Details: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(r,{title:"Mark as read",children:e.jsx(n,{onClick:()=>w(s.id),type:"text",size:"small",className:"bg-green-400",icon:e.jsx(P,{}),disabled:!t})}),e.jsx(r,{title:"Delete notification",children:e.jsx(n,{onClick:()=>y(s.id),type:"text",size:"small",className:"bg-red-400",icon:e.jsx(U,{}),disabled:!t})})]})]})})},s.id)}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"w-full text-xxs sm:text-xs text-wrap text-center sm:text-left",children:`${(a-1)*l+1}-${Math.min(a*l,i.length)} of ${i.length} notifications`}),e.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:e.jsx($,{current:a,pageSize:l,total:i.length,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:(s,C)=>{b(s),p(C)},responsive:!0,className:"text-xxs sm:text-xs"})})]})]})})]})};export{T as default};
