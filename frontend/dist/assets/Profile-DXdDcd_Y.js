import{r as l,a7 as Ot,_ as ze,a8 as $e,a2 as de,a9 as le,aa as Re,ab as Me,ac as Jt,ad as Mn,ae as Et,af as De,ag as Qe,ah as en,ai as In,aj as Qt,ak as sr,al as jn,am as mt,Z as lr,$ as cr,a0 as ur,an as ue,ao as er,R as Ae,a1 as gt,ap as tn,aq as Nn,ar as tr,as as rr,at as rn,au as _n,av as kn,aw as Fn,V as An,I as Mt,ax as nt,ay as Le,az as nn,aA as on,aB as an,aC as Fe,aD as sn,a3 as Tn,aE as ln,aF as cn,aG as Ln,aH as Er,aI as zn,aJ as Wn,aK as Bn,aL as un,a5 as Hn,aM as Un,aN as qn,a6 as Rr,B as Xe,aO as nr,aP as Xn,aQ as Gn,g as Zn,k as P,M as dn,s as It,J as pn,K as fn,aR as dt,aS as _e,aT as Vn,n as hn,aU as Yn,E as dr,aV as Kn,aW as Jn,o as mn,aX as bt,aY as Pr,m as Dr,C as At,aZ as Qn}from"./index-Bf7Skixl.js";import{D as ht}from"./index-CS2U6cW7.js";function or(e,r,t){return(e-r)/(t-r)}function pr(e,r,t,n){var o=or(r,t,n),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function ot(e,r){return Array.isArray(e)?e[r]:e}var et=l.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),eo=l.createContext({}),to=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Or=l.forwardRef(function(e,r){var t=e.prefixCls,n=e.value,o=e.valueIndex,i=e.onStartMove,s=e.onDelete,a=e.style,d=e.render,c=e.dragging,u=e.draggingDelete,g=e.onOffsetChange,y=e.onChangeComplete,v=e.onFocus,m=e.onMouseEnter,h=Ot(e,to),p=l.useContext(et),C=p.min,f=p.max,w=p.direction,S=p.disabled,b=p.keyboard,E=p.range,D=p.tabIndex,N=p.ariaLabelForHandle,O=p.ariaLabelledByForHandle,$=p.ariaValueTextFormatterForHandle,x=p.styles,R=p.classNames,I="".concat(t,"-handle"),A=function(B){S||i(B,o)},W=function(B){v==null||v(B,o)},L=function(B){m(B,o)},k=function(B){if(!S&&b){var j=null;switch(B.which||B.keyCode){case Re.LEFT:j=w==="ltr"||w==="btt"?-1:1;break;case Re.RIGHT:j=w==="ltr"||w==="btt"?1:-1;break;case Re.UP:j=w!=="ttb"?1:-1;break;case Re.DOWN:j=w!=="ttb"?-1:1;break;case Re.HOME:j="min";break;case Re.END:j="max";break;case Re.PAGE_UP:j=2;break;case Re.PAGE_DOWN:j=-2;break;case Re.BACKSPACE:case Re.DELETE:s(o);break}j!==null&&(B.preventDefault(),g(j,o))}},ae=function(B){switch(B.which||B.keyCode){case Re.LEFT:case Re.RIGHT:case Re.UP:case Re.DOWN:case Re.HOME:case Re.END:case Re.PAGE_UP:case Re.PAGE_DOWN:y==null||y();break}},Z=pr(w,n,C,f),te={};if(o!==null){var Y;te={tabIndex:S?null:ot(D,o),role:"slider","aria-valuemin":C,"aria-valuemax":f,"aria-valuenow":n,"aria-disabled":S,"aria-label":ot(N,o),"aria-labelledby":ot(O,o),"aria-valuetext":(Y=ot($,o))===null||Y===void 0?void 0:Y(n),"aria-orientation":w==="ltr"||w==="rtl"?"horizontal":"vertical",onMouseDown:A,onTouchStart:A,onFocus:W,onMouseEnter:L,onKeyDown:k,onKeyUp:ae}}var ne=l.createElement("div",ze({ref:r,className:de(I,le(le(le({},"".concat(I,"-").concat(o+1),o!==null&&E),"".concat(I,"-dragging"),c),"".concat(I,"-dragging-delete"),u),R.handle),style:$e($e($e({},Z),a),x.handle)},te,h));return d&&(ne=d(ne,{index:o,prefixCls:t,value:n,dragging:c,draggingDelete:u})),ne}),ro=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],no=l.forwardRef(function(e,r){var t=e.prefixCls,n=e.style,o=e.onStartMove,i=e.onOffsetChange,s=e.values,a=e.handleRender,d=e.activeHandleRender,c=e.draggingIndex,u=e.draggingDelete,g=e.onFocus,y=Ot(e,ro),v=l.useRef({}),m=l.useState(!1),h=Me(m,2),p=h[0],C=h[1],f=l.useState(-1),w=Me(f,2),S=w[0],b=w[1],E=function(x){b(x),C(!0)},D=function(x,R){E(R),g==null||g(x)},N=function(x,R){E(R)};l.useImperativeHandle(r,function(){return{focus:function(x){var R;(R=v.current[x])===null||R===void 0||R.focus()},hideHelp:function(){Jt.flushSync(function(){C(!1)})}}});var O=$e({prefixCls:t,onStartMove:o,onOffsetChange:i,render:a,onFocus:D,onMouseEnter:N},y);return l.createElement(l.Fragment,null,s.map(function($,x){var R=c===x;return l.createElement(Or,ze({ref:function(A){A?v.current[x]=A:delete v.current[x]},dragging:R,draggingDelete:R&&u,style:ot(n,x),key:x,value:$,valueIndex:x},O))}),d&&p&&l.createElement(Or,ze({key:"a11y"},O,{value:s[S],valueIndex:null,dragging:c!==-1,draggingDelete:u,render:d,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),oo=function(r){var t=r.prefixCls,n=r.style,o=r.children,i=r.value,s=r.onClick,a=l.useContext(et),d=a.min,c=a.max,u=a.direction,g=a.includedStart,y=a.includedEnd,v=a.included,m="".concat(t,"-text"),h=pr(u,i,d,c);return l.createElement("span",{className:de(m,le({},"".concat(m,"-active"),v&&g<=i&&i<=y)),style:$e($e({},h),n),onMouseDown:function(C){C.stopPropagation()},onClick:function(){s(i)}},o)},ao=function(r){var t=r.prefixCls,n=r.marks,o=r.onClick,i="".concat(t,"-mark");return n.length?l.createElement("div",{className:i},n.map(function(s){var a=s.value,d=s.style,c=s.label;return l.createElement(oo,{key:a,prefixCls:i,style:d,value:a,onClick:o},c)})):null},io=function(r){var t=r.prefixCls,n=r.value,o=r.style,i=r.activeStyle,s=l.useContext(et),a=s.min,d=s.max,c=s.direction,u=s.included,g=s.includedStart,y=s.includedEnd,v="".concat(t,"-dot"),m=u&&g<=n&&n<=y,h=$e($e({},pr(c,n,a,d)),typeof o=="function"?o(n):o);return m&&(h=$e($e({},h),typeof i=="function"?i(n):i)),l.createElement("span",{className:de(v,le({},"".concat(v,"-active"),m)),style:h})},so=function(r){var t=r.prefixCls,n=r.marks,o=r.dots,i=r.style,s=r.activeStyle,a=l.useContext(et),d=a.min,c=a.max,u=a.step,g=l.useMemo(function(){var y=new Set;if(n.forEach(function(m){y.add(m.value)}),o&&u!==null)for(var v=d;v<=c;)y.add(v),v+=u;return Array.from(y)},[d,c,u,o,n]);return l.createElement("div",{className:"".concat(t,"-step")},g.map(function(y){return l.createElement(io,{prefixCls:t,key:y,value:y,style:i,activeStyle:s})}))},Mr=function(r){var t=r.prefixCls,n=r.style,o=r.start,i=r.end,s=r.index,a=r.onStartMove,d=r.replaceCls,c=l.useContext(et),u=c.direction,g=c.min,y=c.max,v=c.disabled,m=c.range,h=c.classNames,p="".concat(t,"-track"),C=or(o,g,y),f=or(i,g,y),w=function(D){!v&&a&&a(D,-1)},S={};switch(u){case"rtl":S.right="".concat(C*100,"%"),S.width="".concat(f*100-C*100,"%");break;case"btt":S.bottom="".concat(C*100,"%"),S.height="".concat(f*100-C*100,"%");break;case"ttb":S.top="".concat(C*100,"%"),S.height="".concat(f*100-C*100,"%");break;default:S.left="".concat(C*100,"%"),S.width="".concat(f*100-C*100,"%")}var b=d||de(p,le(le({},"".concat(p,"-").concat(s+1),s!==null&&m),"".concat(t,"-track-draggable"),a),h.track);return l.createElement("div",{className:b,style:$e($e({},S),n),onMouseDown:w,onTouchStart:w})},lo=function(r){var t=r.prefixCls,n=r.style,o=r.values,i=r.startPoint,s=r.onStartMove,a=l.useContext(et),d=a.included,c=a.range,u=a.min,g=a.styles,y=a.classNames,v=l.useMemo(function(){if(!c){if(o.length===0)return[];var h=i??u,p=o[0];return[{start:Math.min(h,p),end:Math.max(h,p)}]}for(var C=[],f=0;f<o.length-1;f+=1)C.push({start:o[f],end:o[f+1]});return C},[o,c,i,u]);if(!d)return null;var m=y.tracks||g.tracks?l.createElement(Mr,{index:null,prefixCls:t,start:v[0].start,end:v[v.length-1].end,replaceCls:de(y.tracks,"".concat(t,"-tracks")),style:g.tracks}):null;return l.createElement(l.Fragment,null,m,v.map(function(h,p){var C=h.start,f=h.end;return l.createElement(Mr,{index:p,prefixCls:t,style:$e($e({},ot(n,p)),g.track),start:C,end:f,key:p,onStartMove:s})}))},co=130;function Ir(e){var r="targetTouches"in e?e.targetTouches[0]:e;return{pageX:r.pageX,pageY:r.pageY}}function uo(e,r,t,n,o,i,s,a,d,c,u){var g=l.useState(null),y=Me(g,2),v=y[0],m=y[1],h=l.useState(-1),p=Me(h,2),C=p[0],f=p[1],w=l.useState(!1),S=Me(w,2),b=S[0],E=S[1],D=l.useState(t),N=Me(D,2),O=N[0],$=N[1],x=l.useState(t),R=Me(x,2),I=R[0],A=R[1],W=l.useRef(null),L=l.useRef(null),k=l.useRef(null),ae=l.useContext(eo),Z=ae.onDragStart,te=ae.onDragChange;Mn(function(){C===-1&&$(t)},[t,C]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",W.current),document.removeEventListener("mouseup",L.current),k.current&&(k.current.removeEventListener("touchmove",W.current),k.current.removeEventListener("touchend",L.current))}},[]);var Y=function(F,T,_){T!==void 0&&m(T),$(F);var Q=F;_&&(Q=F.filter(function(H,U){return U!==C})),s(Q),te&&te({rawValues:F,deleteIndex:_?C:-1,draggingIndex:C,draggingValue:T})},ne=Et(function(j,F,T){if(j===-1){var _=I[0],Q=I[I.length-1],H=n-_,U=o-Q,K=F*(o-n);K=Math.max(K,H),K=Math.min(K,U);var G=i(_+K);K=G-_;var q=I.map(function(ee){return ee+K});Y(q)}else{var oe=(o-n)*F,be=De(O);be[j]=I[j];var re=d(be,oe,j,"dist");Y(re.values,re.value,T)}}),M=function(F,T,_){F.stopPropagation();var Q=_||t,H=Q[T];f(T),m(H),A(Q),$(Q),E(!1);var U=Ir(F),K=U.pageX,G=U.pageY,q=!1;Z&&Z({rawValues:Q,draggingIndex:T,draggingValue:H});var oe=function(ee){ee.preventDefault();var Ce=Ir(ee),ge=Ce.pageX,pe=Ce.pageY,Pe=ge-K,Se=pe-G,ke=e.current.getBoundingClientRect(),fe=ke.width,xe=ke.height,Te,ve;switch(r){case"btt":Te=-Se/xe,ve=Pe;break;case"ttb":Te=Se/xe,ve=Pe;break;case"rtl":Te=-Pe/fe,ve=Se;break;default:Te=Pe/fe,ve=Se}q=c?Math.abs(ve)>co&&u<O.length:!1,E(q),ne(T,Te,q)},be=function re(ee){ee.preventDefault(),document.removeEventListener("mouseup",re),document.removeEventListener("mousemove",oe),k.current&&(k.current.removeEventListener("touchmove",W.current),k.current.removeEventListener("touchend",L.current)),W.current=null,L.current=null,k.current=null,a(q),f(-1),E(!1)};document.addEventListener("mouseup",be),document.addEventListener("mousemove",oe),F.currentTarget.addEventListener("touchend",be),F.currentTarget.addEventListener("touchmove",oe),W.current=oe,L.current=be,k.current=F.currentTarget},B=l.useMemo(function(){var j=De(t).sort(function(H,U){return H-U}),F=De(O).sort(function(H,U){return H-U}),T={};F.forEach(function(H){T[H]=(T[H]||0)+1}),j.forEach(function(H){T[H]=(T[H]||0)-1});var _=c?1:0,Q=Object.values(T).reduce(function(H,U){return H+Math.abs(U)},0);return Q<=_?O:t},[t,O,c]);return[C,v,b,B,M]}function po(e,r,t,n,o,i){var s=l.useCallback(function(v){return Math.max(e,Math.min(r,v))},[e,r]),a=l.useCallback(function(v){if(t!==null){var m=e+Math.round((s(v)-e)/t)*t,h=function(w){return(String(w).split(".")[1]||"").length},p=Math.max(h(t),h(r),h(e)),C=Number(m.toFixed(p));return e<=C&&C<=r?C:null}return null},[t,e,r,s]),d=l.useCallback(function(v){var m=s(v),h=n.map(function(f){return f.value});t!==null&&h.push(a(v)),h.push(e,r);var p=h[0],C=r-e;return h.forEach(function(f){var w=Math.abs(m-f);w<=C&&(p=f,C=w)}),p},[e,r,n,t,s,a]),c=function v(m,h,p){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof h=="number"){var f,w=m[p],S=w+h,b=[];n.forEach(function($){b.push($.value)}),b.push(e,r),b.push(a(w));var E=h>0?1:-1;C==="unit"?b.push(a(w+E*t)):b.push(a(S)),b=b.filter(function($){return $!==null}).filter(function($){return h<0?$<=w:$>=w}),C==="unit"&&(b=b.filter(function($){return $!==w}));var D=C==="unit"?w:S;f=b[0];var N=Math.abs(f-D);if(b.forEach(function($){var x=Math.abs($-D);x<N&&(f=$,N=x)}),f===void 0)return h<0?e:r;if(C==="dist")return f;if(Math.abs(h)>1){var O=De(m);return O[p]=f,v(O,h-E,p,C)}return f}else{if(h==="min")return e;if(h==="max")return r}},u=function(m,h,p){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=m[p],w=c(m,h,p,C);return{value:w,changed:w!==f}},g=function(m){return i===null&&m===0||typeof i=="number"&&m<i},y=function(m,h,p){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=m.map(d),w=f[p],S=c(f,h,p,C);if(f[p]=S,o===!1){var b=i||0;p>0&&f[p-1]!==w&&(f[p]=Math.max(f[p],f[p-1]+b)),p<f.length-1&&f[p+1]!==w&&(f[p]=Math.min(f[p],f[p+1]-b))}else if(typeof i=="number"||i===null){for(var E=p+1;E<f.length;E+=1)for(var D=!0;g(f[E]-f[E-1])&&D;){var N=u(f,1,E);f[E]=N.value,D=N.changed}for(var O=p;O>0;O-=1)for(var $=!0;g(f[O]-f[O-1])&&$;){var x=u(f,-1,O-1);f[O-1]=x.value,$=x.changed}for(var R=f.length-1;R>0;R-=1)for(var I=!0;g(f[R]-f[R-1])&&I;){var A=u(f,-1,R-1);f[R-1]=A.value,I=A.changed}for(var W=0;W<f.length-1;W+=1)for(var L=!0;g(f[W+1]-f[W])&&L;){var k=u(f,1,W+1);f[W+1]=k.value,L=k.changed}}return{value:f[p],values:f}};return[d,y]}function fo(e){return l.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var r=e.editable,t=e.draggableTrack,n=e.minCount,o=e.maxCount;return[!0,r,!r&&t,n||0,o]},[e])}var ho=l.forwardRef(function(e,r){var t=e.prefixCls,n=t===void 0?"rc-slider":t,o=e.className,i=e.style,s=e.classNames,a=e.styles,d=e.id,c=e.disabled,u=c===void 0?!1:c,g=e.keyboard,y=g===void 0?!0:g,v=e.autoFocus,m=e.onFocus,h=e.onBlur,p=e.min,C=p===void 0?0:p,f=e.max,w=f===void 0?100:f,S=e.step,b=S===void 0?1:S,E=e.value,D=e.defaultValue,N=e.range,O=e.count,$=e.onChange,x=e.onBeforeChange,R=e.onAfterChange,I=e.onChangeComplete,A=e.allowCross,W=A===void 0?!0:A,L=e.pushable,k=L===void 0?!1:L,ae=e.reverse,Z=e.vertical,te=e.included,Y=te===void 0?!0:te,ne=e.startPoint,M=e.trackStyle,B=e.handleStyle,j=e.railStyle,F=e.dotStyle,T=e.activeDotStyle,_=e.marks,Q=e.dots,H=e.handleRender,U=e.activeHandleRender,K=e.track,G=e.tabIndex,q=G===void 0?0:G,oe=e.ariaLabelForHandle,be=e.ariaLabelledByForHandle,re=e.ariaValueTextFormatterForHandle,ee=l.useRef(null),Ce=l.useRef(null),ge=l.useMemo(function(){return Z?ae?"ttb":"btt":ae?"rtl":"ltr"},[ae,Z]),pe=fo(N),Pe=Me(pe,5),Se=Pe[0],ke=Pe[1],fe=Pe[2],xe=Pe[3],Te=Pe[4],ve=l.useMemo(function(){return isFinite(C)?C:0},[C]),Ie=l.useMemo(function(){return isFinite(w)?w:100},[w]),je=l.useMemo(function(){return b!==null&&b<=0?1:b},[b]),Ke=l.useMemo(function(){return typeof k=="boolean"?k?je:!1:k>=0?k:!1},[k,je]),tt=l.useMemo(function(){return Object.keys(_||{}).map(function(ie){var z=_[ie],ce={value:Number(ie)};return z&&Qe(z)==="object"&&!l.isValidElement(z)&&("label"in z||"style"in z)?(ce.style=z.style,ce.label=z.label):ce.label=z,ce}).filter(function(ie){var z=ie.label;return z||typeof z=="number"}).sort(function(ie,z){return ie.value-z.value})},[_]),vt=po(ve,Ie,je,tt,W,Ke),X=Me(vt,2),J=X[0],he=X[1],V=en(D,{value:E}),se=Me(V,2),me=se[0],Be=se[1],we=l.useMemo(function(){var ie=me==null?[]:Array.isArray(me)?me:[me],z=Me(ie,1),ce=z[0],ye=ce===void 0?ve:ce,Ee=me===null?[]:[ye];if(Se){if(Ee=De(ie),O||me===void 0){var Ge=O>=0?O+1:2;for(Ee=Ee.slice(0,Ge);Ee.length<Ge;){var He;Ee.push((He=Ee[Ee.length-1])!==null&&He!==void 0?He:ve)}}Ee.sort(function(Ue,qe){return Ue-qe})}return Ee.forEach(function(Ue,qe){Ee[qe]=J(Ue)}),Ee},[me,Se,ve,O,J]),Ne=function(z){return Se?z:z[0]},it=Et(function(ie){var z=De(ie).sort(function(ce,ye){return ce-ye});$&&!In(z,we,!0)&&$(Ne(z)),Be(z)}),fr=Et(function(ie){ie&&ee.current.hideHelp();var z=Ne(we);R==null||R(z),Qt(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(z)}),Cn=function(z){if(!(u||!ke||we.length<=xe)){var ce=De(we);ce.splice(z,1),x==null||x(Ne(ce)),it(ce);var ye=Math.max(0,z-1);ee.current.hideHelp(),ee.current.focus(ye)}},wn=uo(Ce,ge,we,ve,Ie,J,it,fr,he,ke,xe),st=Me(wn,5),hr=st[0],Sn=st[1],xn=st[2],kt=st[3],mr=st[4],gr=function(z,ce){if(!u){var ye=De(we),Ee=0,Ge=0,He=Ie-ve;we.forEach(function(Ze,yt){var $r=Math.abs(z-Ze);$r<=He&&(He=$r,Ee=yt),Ze<z&&(Ge=yt)});var Ue=Ee;ke&&He!==0&&(!Te||we.length<Te)?(ye.splice(Ge+1,0,z),Ue=Ge+1):ye[Ee]=z,Se&&!we.length&&O===void 0&&ye.push(z);var qe=Ne(ye);if(x==null||x(qe),it(ye),ce){var Je,rt;(Je=document.activeElement)===null||Je===void 0||(rt=Je.blur)===null||rt===void 0||rt.call(Je),ee.current.focus(Ue),mr(ce,Ue,ye)}else R==null||R(qe),Qt(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),I==null||I(qe)}},$n=function(z){z.preventDefault();var ce=Ce.current.getBoundingClientRect(),ye=ce.width,Ee=ce.height,Ge=ce.left,He=ce.top,Ue=ce.bottom,qe=ce.right,Je=z.clientX,rt=z.clientY,Ze;switch(ge){case"btt":Ze=(Ue-rt)/Ee;break;case"ttb":Ze=(rt-He)/Ee;break;case"rtl":Ze=(qe-Je)/ye;break;default:Ze=(Je-Ge)/ye}var yt=ve+Ze*(Ie-ve);gr(J(yt),z)},En=l.useState(null),vr=Me(En,2),Ft=vr[0],yr=vr[1],Rn=function(z,ce){if(!u){var ye=he(we,z,ce);x==null||x(Ne(we)),it(ye.values),yr(ye.value)}};l.useEffect(function(){if(Ft!==null){var ie=we.indexOf(Ft);ie>=0&&ee.current.focus(ie)}yr(null)},[Ft]);var Pn=l.useMemo(function(){return fe&&je===null?!1:fe},[fe,je]),br=Et(function(ie,z){mr(ie,z),x==null||x(Ne(we))}),Cr=hr!==-1;l.useEffect(function(){if(!Cr){var ie=we.lastIndexOf(Sn);ee.current.focus(ie)}},[Cr]);var lt=l.useMemo(function(){return De(kt).sort(function(ie,z){return ie-z})},[kt]),Dn=l.useMemo(function(){return Se?[lt[0],lt[lt.length-1]]:[ve,lt[0]]},[lt,Se,ve]),wr=Me(Dn,2),Sr=wr[0],xr=wr[1];l.useImperativeHandle(r,function(){return{focus:function(){ee.current.focus(0)},blur:function(){var z,ce=document,ye=ce.activeElement;(z=Ce.current)!==null&&z!==void 0&&z.contains(ye)&&(ye==null||ye.blur())}}}),l.useEffect(function(){v&&ee.current.focus(0)},[]);var On=l.useMemo(function(){return{min:ve,max:Ie,direction:ge,disabled:u,keyboard:y,step:je,included:Y,includedStart:Sr,includedEnd:xr,range:Se,tabIndex:q,ariaLabelForHandle:oe,ariaLabelledByForHandle:be,ariaValueTextFormatterForHandle:re,styles:a||{},classNames:s||{}}},[ve,Ie,ge,u,y,je,Y,Sr,xr,Se,q,oe,be,re,a,s]);return l.createElement(et.Provider,{value:On},l.createElement("div",{ref:Ce,className:de(n,o,le(le(le(le({},"".concat(n,"-disabled"),u),"".concat(n,"-vertical"),Z),"".concat(n,"-horizontal"),!Z),"".concat(n,"-with-marks"),tt.length)),style:i,onMouseDown:$n,id:d},l.createElement("div",{className:de("".concat(n,"-rail"),s==null?void 0:s.rail),style:$e($e({},j),a==null?void 0:a.rail)}),K!==!1&&l.createElement(lo,{prefixCls:n,style:M,values:we,startPoint:ne,onStartMove:Pn?br:void 0}),l.createElement(so,{prefixCls:n,marks:tt,dots:Q,style:F,activeStyle:T}),l.createElement(no,{ref:ee,prefixCls:n,style:B,values:kt,draggingIndex:hr,draggingDelete:xn,onStartMove:br,onOffsetChange:Rn,onFocus:m,onBlur:h,handleRender:H,activeHandleRender:U,onChangeComplete:fr,onDelete:ke?Cn:void 0}),l.createElement(ao,{prefixCls:n,marks:tt,onClick:gr})))});const jr=l.forwardRef((e,r)=>{const{open:t,draggingDelete:n}=e,o=l.useRef(null),i=t&&!n,s=l.useRef(null);function a(){mt.cancel(s.current),s.current=null}function d(){s.current=mt(()=>{var c;(c=o.current)===null||c===void 0||c.forceAlign(),s.current=null})}return l.useEffect(()=>(i?d():a(),a),[i,e.title]),l.createElement(sr,Object.assign({ref:jn(o,r)},e,{open:i}))}),mo=e=>{const{componentCls:r,antCls:t,controlSize:n,dotSize:o,marginFull:i,marginPart:s,colorFillContentHover:a,handleColorDisabled:d,calc:c,handleSize:u,handleSizeHover:g,handleActiveColor:y,handleActiveOutlineColor:v,handleLineWidth:m,handleLineWidthHover:h,motionDurationMid:p}=e;return{[r]:Object.assign(Object.assign({},ur(e)),{position:"relative",height:n,margin:`${ue(s)} ${ue(i)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ue(i)} ${ue(s)}`},[`${r}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${p}`},[`${r}-track,${r}-tracks`]:{position:"absolute",transition:`background-color ${p}`},[`${r}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${r}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${r}-rail`]:{backgroundColor:e.railHoverBg},[`${r}-track`]:{backgroundColor:e.trackHoverBg},[`${r}-dot`]:{borderColor:a},[`${r}-handle::after`]:{boxShadow:`0 0 0 ${ue(m)} ${e.colorPrimaryBorderHover}`},[`${r}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${r}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(m).mul(-1).equal(),insetBlockStart:c(m).mul(-1).equal(),width:c(u).add(c(m).mul(2)).equal(),height:c(u).add(c(m).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ue(m)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${p},
            inset-block-start ${p},
            width ${p},
            height ${p},
            box-shadow ${p},
            outline ${p}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(g).sub(u).div(2).add(h).mul(-1).equal(),insetBlockStart:c(g).sub(u).div(2).add(h).mul(-1).equal(),width:c(g).add(c(h).mul(2)).equal(),height:c(g).add(c(h).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ue(h)} ${y}`,outline:`6px solid ${v}`,width:g,height:g,insetInlineStart:e.calc(u).sub(g).div(2).equal(),insetBlockStart:e.calc(u).sub(g).div(2).equal()}}},[`&-lock ${r}-handle`]:{"&::before, &::after":{transition:"none"}},[`${r}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${r}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${r}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${r}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${ue(m)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${r}-disabled`]:{cursor:"not-allowed",[`${r}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${r}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${r}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${r}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${ue(m)} ${d}`,insetInlineStart:0,insetBlockStart:0},[`
          ${r}-mark-text,
          ${r}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${t}-tooltip-inner`]:{minWidth:"unset"}})}},gn=(e,r)=>{const{componentCls:t,railSize:n,handleSize:o,dotSize:i,marginFull:s,calc:a}=e,d=r?"paddingBlock":"paddingInline",c=r?"width":"height",u=r?"height":"width",g=r?"insetBlockStart":"insetInlineStart",y=r?"top":"insetInlineStart",v=a(n).mul(3).sub(o).div(2).equal(),m=a(o).sub(n).div(2).equal(),h=r?{borderWidth:`${ue(m)} 0`,transform:`translateY(${ue(a(m).mul(-1).equal())})`}:{borderWidth:`0 ${ue(m)}`,transform:`translateX(${ue(e.calc(m).mul(-1).equal())})`};return{[d]:n,[u]:a(n).mul(3).equal(),[`${t}-rail`]:{[c]:"100%",[u]:n},[`${t}-track,${t}-tracks`]:{[u]:n},[`${t}-track-draggable`]:Object.assign({},h),[`${t}-handle`]:{[g]:v},[`${t}-mark`]:{insetInlineStart:0,top:0,[y]:a(n).mul(3).add(r?0:s).equal(),[c]:"100%"},[`${t}-step`]:{insetInlineStart:0,top:0,[y]:n,[c]:"100%",[u]:n},[`${t}-dot`]:{position:"absolute",[g]:a(n).sub(i).div(2).equal()}}},go=e=>{const{componentCls:r,marginPartWithMark:t}=e;return{[`${r}-horizontal`]:Object.assign(Object.assign({},gn(e,!0)),{[`&${r}-with-marks`]:{marginBottom:t}})}},vo=e=>{const{componentCls:r}=e;return{[`${r}-vertical`]:Object.assign(Object.assign({},gn(e,!1)),{height:"100%"})}},yo=e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,o=e.lineWidth+1,i=e.lineWidth+1*1.5,s=e.colorPrimary,a=new er(s).setAlpha(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:o,handleLineWidthHover:i,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:s,handleActiveOutlineColor:a,handleColorDisabled:new er(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},bo=lr("Slider",e=>{const r=cr(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[mo(r),go(r),vo(r)]},yo),Co=l.createContext({});function Tt(){const[e,r]=l.useState(!1),t=l.useRef(),n=()=>{mt.cancel(t.current)},o=i=>{n(),i?r(i):t.current=mt(()=>{r(i)})};return l.useEffect(()=>n,[]),[e,o]}var wo=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};function So(e,r){return e||e===null?e:r||r===null?r:t=>typeof t=="number"?t.toString():""}const Lt=Ae.forwardRef((e,r)=>{const{prefixCls:t,range:n,className:o,rootClassName:i,style:s,disabled:a,tooltipPrefixCls:d,tipFormatter:c,tooltipVisible:u,getTooltipPopupContainer:g,tooltipPlacement:y,tooltip:v={},onChangeComplete:m}=e,h=wo(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:p}=e,{direction:C,slider:f,getPrefixCls:w,getPopupContainer:S}=Ae.useContext(gt),b=Ae.useContext(tn),E=a??b,{handleRender:D,direction:N}=Ae.useContext(Co),$=(N||C)==="rtl",[x,R]=Tt(),[I,A]=Tt(),W=Object.assign({},v),{open:L,placement:k,getPopupContainer:ae,prefixCls:Z,formatter:te}=W,Y=L??u,ne=(x||I)&&Y!==!1,M=So(te,c),[B,j]=Tt(),F=re=>{m==null||m(re),j(!1)},T=(re,ee)=>re||(ee?$?"left":"right":"top"),_=w("slider",t),[Q,H,U]=bo(_),K=de(o,f==null?void 0:f.className,i,{[`${_}-rtl`]:$,[`${_}-lock`]:B},H,U);$&&!h.vertical&&(h.reverse=!h.reverse),Ae.useEffect(()=>{const re=()=>{mt(()=>{A(!1)},1)};return document.addEventListener("mouseup",re),()=>{document.removeEventListener("mouseup",re)}},[]);const G=n&&!Y,q=D||((re,ee)=>{const{index:Ce}=ee,ge=re.props;function pe(fe,xe,Te){var ve,Ie,je,Ke;Te&&((Ie=(ve=h)[fe])===null||Ie===void 0||Ie.call(ve,xe)),(Ke=(je=ge)[fe])===null||Ke===void 0||Ke.call(je,xe)}const Pe=Object.assign(Object.assign({},ge),{onMouseEnter:fe=>{R(!0),pe("onMouseEnter",fe)},onMouseLeave:fe=>{R(!1),pe("onMouseLeave",fe)},onMouseDown:fe=>{A(!0),j(!0),pe("onMouseDown",fe)},onFocus:fe=>{var xe;A(!0),(xe=h.onFocus)===null||xe===void 0||xe.call(h,fe),pe("onFocus",fe,!0)},onBlur:fe=>{var xe;A(!1),(xe=h.onBlur)===null||xe===void 0||xe.call(h,fe),pe("onBlur",fe,!0)}}),Se=Ae.cloneElement(re,Pe),ke=(!!Y||ne)&&M!==null;return G?Se:Ae.createElement(jr,Object.assign({},W,{prefixCls:w("tooltip",Z??d),title:M?M(ee.value):"",open:ke,placement:T(k??y,p),key:Ce,overlayClassName:`${_}-tooltip`,getPopupContainer:ae||g||S}),Se)}),oe=G?(re,ee)=>{const Ce=Ae.cloneElement(re,{style:Object.assign(Object.assign({},re.props.style),{visibility:"hidden"})});return Ae.createElement(jr,Object.assign({},W,{prefixCls:w("tooltip",Z??d),title:M?M(ee.value):"",open:M!==null&&ne,placement:T(k??y,p),key:"tooltip",overlayClassName:`${_}-tooltip`,getPopupContainer:ae||g||S,draggingDelete:ee.draggingDelete}),Ce)}:void 0,be=Object.assign(Object.assign({},f==null?void 0:f.style),s);return Q(Ae.createElement(ho,Object.assign({},h,{step:h.step,range:n,className:K,style:be,disabled:E,ref:r,prefixCls:_,handleRender:q,activeHandleRender:oe,onChangeComplete:F})))});var xo={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},$o=function(){var r=l.useRef([]),t=l.useRef(null);return l.useEffect(function(){var n=Date.now(),o=!1;r.current.forEach(function(i){if(i){o=!0;var s=i.style;s.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(s.transitionDuration="0s, 0s")}}),o&&(t.current=Date.now())}),r.current},Nr=0,Eo=Nn();function Ro(){var e;return Eo?(e=Nr,Nr+=1):e="TEST_OR_SSR",e}const Po=function(e){var r=l.useState(),t=Me(r,2),n=t[0],o=t[1];return l.useEffect(function(){o("rc_progress_".concat(Ro()))},[]),e||n};var _r=function(r){var t=r.bg,n=r.children;return l.createElement("div",{style:{width:"100%",height:"100%",background:t}},n)};function kr(e,r){return Object.keys(e).map(function(t){var n=parseFloat(t),o="".concat(Math.floor(n*r),"%");return"".concat(e[t]," ").concat(o)})}var Do=l.forwardRef(function(e,r){var t=e.prefixCls,n=e.color,o=e.gradientId,i=e.radius,s=e.style,a=e.ptg,d=e.strokeLinecap,c=e.strokeWidth,u=e.size,g=e.gapDegree,y=n&&Qe(n)==="object",v=y?"#FFF":void 0,m=u/2,h=l.createElement("circle",{className:"".concat(t,"-circle-path"),r:i,cx:m,cy:m,stroke:v,strokeLinecap:d,strokeWidth:c,opacity:a===0?0:1,style:s,ref:r});if(!y)return h;var p="".concat(o,"-conic"),C=g?"".concat(180+g/2,"deg"):"0deg",f=kr(n,(360-g)/360),w=kr(n,1),S="conic-gradient(from ".concat(C,", ").concat(f.join(", "),")"),b="linear-gradient(to ".concat(g?"bottom":"top",", ").concat(w.join(", "),")");return l.createElement(l.Fragment,null,l.createElement("mask",{id:p},h),l.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(p,")")},l.createElement(_r,{bg:b},l.createElement(_r,{bg:S}))))}),pt=100,zt=function(r,t,n,o,i,s,a,d,c,u){var g=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,y=n/100*360*((360-s)/360),v=s===0?0:{bottom:0,top:180,left:90,right:-90}[a],m=(100-o)/100*t;c==="round"&&o!==100&&(m+=u/2,m>=t&&(m=t-.01));var h=pt/2;return{stroke:typeof d=="string"?d:void 0,strokeDasharray:"".concat(t,"px ").concat(r),strokeDashoffset:m+g,transform:"rotate(".concat(i+y+v,"deg)"),transformOrigin:"".concat(h,"px ").concat(h,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Oo=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Fr(e){var r=e??[];return Array.isArray(r)?r:[r]}var Mo=function(r){var t=$e($e({},xo),r),n=t.id,o=t.prefixCls,i=t.steps,s=t.strokeWidth,a=t.trailWidth,d=t.gapDegree,c=d===void 0?0:d,u=t.gapPosition,g=t.trailColor,y=t.strokeLinecap,v=t.style,m=t.className,h=t.strokeColor,p=t.percent,C=Ot(t,Oo),f=pt/2,w=Po(n),S="".concat(w,"-gradient"),b=f-s/2,E=Math.PI*2*b,D=c>0?90+c/2:-90,N=E*((360-c)/360),O=Qe(i)==="object"?i:{count:i,gap:2},$=O.count,x=O.gap,R=Fr(p),I=Fr(h),A=I.find(function(Y){return Y&&Qe(Y)==="object"}),W=A&&Qe(A)==="object",L=W?"butt":y,k=zt(E,N,0,100,D,c,u,g,L,s),ae=$o(),Z=function(){var ne=0;return R.map(function(M,B){var j=I[B]||I[I.length-1],F=zt(E,N,ne,M,D,c,u,j,L,s);return ne+=M,l.createElement(Do,{key:B,color:j,ptg:M,radius:b,prefixCls:o,gradientId:S,style:F,strokeLinecap:L,strokeWidth:s,gapDegree:c,ref:function(_){ae[B]=_},size:pt})}).reverse()},te=function(){var ne=Math.round($*(R[0]/100)),M=100/$,B=0;return new Array($).fill(null).map(function(j,F){var T=F<=ne-1?I[0]:g,_=T&&Qe(T)==="object"?"url(#".concat(S,")"):void 0,Q=zt(E,N,B,M,D,c,u,T,"butt",s,x);return B+=(N-Q.strokeDashoffset+x)*100/N,l.createElement("circle",{key:F,className:"".concat(o,"-circle-path"),r:b,cx:f,cy:f,stroke:_,strokeWidth:s,opacity:1,style:Q,ref:function(U){ae[F]=U}})})};return l.createElement("svg",ze({className:de("".concat(o,"-circle"),m),viewBox:"0 0 ".concat(pt," ").concat(pt),style:v,id:n,role:"presentation"},C),!$&&l.createElement("circle",{className:"".concat(o,"-circle-trail"),r:b,cx:f,cy:f,stroke:g,strokeLinecap:L,strokeWidth:a||s,style:k}),$?te():Z())};function Ye(e){return!e||e<0?0:e>100?100:e}function Pt(e){let{success:r,successPercent:t}=e,n=t;return r&&"progress"in r&&(n=r.progress),r&&"percent"in r&&(n=r.percent),n}const Io=e=>{let{percent:r,success:t,successPercent:n}=e;const o=Ye(Pt({success:t,successPercent:n}));return[o,Ye(Ye(r)-o)]},jo=e=>{let{success:r={},strokeColor:t}=e;const{strokeColor:n}=r;return[n||tr.green,t||null]},jt=(e,r,t)=>{var n,o,i,s;let a=-1,d=-1;if(r==="step"){const c=t.steps,u=t.strokeWidth;typeof e=="string"||typeof e>"u"?(a=e==="small"?2:14,d=u??8):typeof e=="number"?[a,d]=[e,e]:[a=14,d=8]=Array.isArray(e)?e:[e.width,e.height],a*=c}else if(r==="line"){const c=t==null?void 0:t.strokeWidth;typeof e=="string"||typeof e>"u"?d=c||(e==="small"?6:8):typeof e=="number"?[a,d]=[e,e]:[a=-1,d=8]=Array.isArray(e)?e:[e.width,e.height]}else(r==="circle"||r==="dashboard")&&(typeof e=="string"||typeof e>"u"?[a,d]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[a,d]=[e,e]:Array.isArray(e)&&(a=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,d=(s=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&s!==void 0?s:120));return[a,d]},No=3,_o=e=>No/e*100,ko=e=>{const{prefixCls:r,trailColor:t=null,strokeLinecap:n="round",gapPosition:o,gapDegree:i,width:s=120,type:a,children:d,success:c,size:u=s,steps:g}=e,[y,v]=jt(u,"circle");let{strokeWidth:m}=e;m===void 0&&(m=Math.max(_o(y),6));const h={width:y,height:v,fontSize:y*.15+6},p=l.useMemo(()=>{if(i||i===0)return i;if(a==="dashboard")return 75},[i,a]),C=Io(e),f=o||a==="dashboard"&&"bottom"||void 0,w=Object.prototype.toString.call(e.strokeColor)==="[object Object]",S=jo({success:c,strokeColor:e.strokeColor}),b=de(`${r}-inner`,{[`${r}-circle-gradient`]:w}),E=l.createElement(Mo,{steps:g,percent:g?C[1]:C,strokeWidth:m,trailWidth:m,strokeColor:g?S[1]:S,strokeLinecap:n,trailColor:t,prefixCls:r,gapDegree:p,gapPosition:f}),D=y<=20,N=l.createElement("div",{className:b,style:h},E,!D&&d);return D?l.createElement(sr,{title:d},N):N},Dt="--progress-line-stroke-color",vn="--progress-percent",Ar=e=>{const r=e?"100%":"-100%";return new rr(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${r}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${r}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Fo=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:Object.assign(Object.assign({},ur(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${r}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${r}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.defaultColor}},[`${r}-success-bg, ${r}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${r}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${r}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${r}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Dt})`]},height:"100%",width:`calc(1 / var(${vn}) * 100%)`,display:"block"},[`&${r}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${r}-text-inner`]:{color:e.colorWhite,[`&${r}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${r}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${r}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:e.fontSize},[`&${r}-text-outer`]:{width:"max-content"},[`&${r}-text-outer${r}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${r}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${ue(e.paddingXXS)}`,[`&${r}-text-start`]:{justifyContent:"start"},[`&${r}-text-end`]:{justifyContent:"end"}},[`&${r}-status-active`]:{[`${r}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:Ar(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${r}-rtl${r}-status-active`]:{[`${r}-bg::before`]:{animationName:Ar(!0)}},[`&${r}-status-exception`]:{[`${r}-bg`]:{backgroundColor:e.colorError},[`${r}-text`]:{color:e.colorError}},[`&${r}-status-exception ${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.colorError}},[`&${r}-status-success`]:{[`${r}-bg`]:{backgroundColor:e.colorSuccess},[`${r}-text`]:{color:e.colorSuccess}},[`&${r}-status-success ${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.colorSuccess}}})}},Ao=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:{[`${r}-circle-trail`]:{stroke:e.remainingColor},[`&${r}-circle ${r}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${r}-circle ${r}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:e.circleIconFontSize}},[`${r}-circle&-status-exception`]:{[`${r}-text`]:{color:e.colorError}},[`${r}-circle&-status-success`]:{[`${r}-text`]:{color:e.colorSuccess}}},[`${r}-inline-circle`]:{lineHeight:1,[`${r}-inner`]:{verticalAlign:"bottom"}}}},To=e=>{const{componentCls:r}=e;return{[r]:{[`${r}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Lo=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:{[`${r}-small&-line, ${r}-small&-line ${r}-text ${t}`]:{fontSize:e.fontSizeSM}}}},zo=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Wo=lr("Progress",e=>{const r=e.calc(e.marginXXS).div(2).equal(),t=cr(e,{progressStepMarginInlineEnd:r,progressStepMinWidth:r,progressActiveMotionDuration:"2.4s"});return[Fo(t),Ao(t),To(t),Lo(t)]},zo);var Bo=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const Ho=e=>{let r=[];return Object.keys(e).forEach(t=>{const n=parseFloat(t.replace(/%/g,""));isNaN(n)||r.push({key:n,value:e[t]})}),r=r.sort((t,n)=>t.key-n.key),r.map(t=>{let{key:n,value:o}=t;return`${o} ${n}%`}).join(", ")},Uo=(e,r)=>{const{from:t=tr.blue,to:n=tr.blue,direction:o=r==="rtl"?"to left":"to right"}=e,i=Bo(e,["from","to","direction"]);if(Object.keys(i).length!==0){const a=Ho(i),d=`linear-gradient(${o}, ${a})`;return{background:d,[Dt]:d}}const s=`linear-gradient(${o}, ${t}, ${n})`;return{background:s,[Dt]:s}},qo=e=>{const{prefixCls:r,direction:t,percent:n,size:o,strokeWidth:i,strokeColor:s,strokeLinecap:a="round",children:d,trailColor:c=null,percentPosition:u,success:g}=e,{align:y,type:v}=u,m=s&&typeof s!="string"?Uo(s,t):{[Dt]:s,background:s},h=a==="square"||a==="butt"?0:void 0,p=o??[-1,i||(o==="small"?6:8)],[C,f]=jt(p,"line",{strokeWidth:i}),w={backgroundColor:c||void 0,borderRadius:h},S=Object.assign(Object.assign({width:`${Ye(n)}%`,height:f,borderRadius:h},m),{[vn]:Ye(n)/100}),b=Pt(e),E={width:`${Ye(b)}%`,height:f,borderRadius:h,backgroundColor:g==null?void 0:g.strokeColor},D={width:C<0?"100%":C},N=l.createElement("div",{className:`${r}-inner`,style:w},l.createElement("div",{className:de(`${r}-bg`,`${r}-bg-${v}`),style:S},v==="inner"&&d),b!==void 0&&l.createElement("div",{className:`${r}-success-bg`,style:E})),O=v==="outer"&&y==="start",$=v==="outer"&&y==="end";return v==="outer"&&y==="center"?l.createElement("div",{className:`${r}-layout-bottom`},N,d):l.createElement("div",{className:`${r}-outer`,style:D},O&&d,N,$&&d)},Xo=e=>{const{size:r,steps:t,percent:n=0,strokeWidth:o=8,strokeColor:i,trailColor:s=null,prefixCls:a,children:d}=e,c=Math.round(t*(n/100)),g=r??[r==="small"?2:14,o],[y,v]=jt(g,"step",{steps:t,strokeWidth:o}),m=y/t,h=new Array(t);for(let p=0;p<t;p++){const C=Array.isArray(i)?i[p]:i;h[p]=l.createElement("div",{key:p,className:de(`${a}-steps-item`,{[`${a}-steps-item-active`]:p<=c-1}),style:{backgroundColor:p<=c-1?C:s,width:m,height:v}})}return l.createElement("div",{className:`${a}-steps-outer`},h,d)};var Go=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const Zo=["normal","exception","active","success"],Vo=l.forwardRef((e,r)=>{const{prefixCls:t,className:n,rootClassName:o,steps:i,strokeColor:s,percent:a=0,size:d="default",showInfo:c=!0,type:u="line",status:g,format:y,style:v,percentPosition:m={}}=e,h=Go(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:p="end",type:C="outer"}=m,f=Array.isArray(s)?s[0]:s,w=typeof s=="string"||Array.isArray(s)?s:void 0,S=l.useMemo(()=>{if(f){const Z=typeof f=="string"?f:Object.values(f)[0];return new er(Z).isLight()}return!1},[s]),b=l.useMemo(()=>{var Z,te;const Y=Pt(e);return parseInt(Y!==void 0?(Z=Y??0)===null||Z===void 0?void 0:Z.toString():(te=a??0)===null||te===void 0?void 0:te.toString(),10)},[a,e.success,e.successPercent]),E=l.useMemo(()=>!Zo.includes(g)&&b>=100?"success":g||"normal",[g,b]),{getPrefixCls:D,direction:N,progress:O}=l.useContext(gt),$=D("progress",t),[x,R,I]=Wo($),A=u==="line",W=A&&!i,L=l.useMemo(()=>{if(!c)return null;const Z=Pt(e);let te;const Y=y||(M=>`${M}%`),ne=A&&S&&C==="inner";return C==="inner"||y||E!=="exception"&&E!=="success"?te=Y(Ye(a),Ye(Z)):E==="exception"?te=A?l.createElement(_n,null):l.createElement(kn,null):E==="success"&&(te=A?l.createElement(Fn,null):l.createElement(An,null)),l.createElement("span",{className:de(`${$}-text`,{[`${$}-text-bright`]:ne,[`${$}-text-${p}`]:W,[`${$}-text-${C}`]:W}),title:typeof te=="string"?te:void 0},te)},[c,a,b,E,u,$,y]);let k;u==="line"?k=i?l.createElement(Xo,Object.assign({},e,{strokeColor:w,prefixCls:$,steps:typeof i=="object"?i.count:i}),L):l.createElement(qo,Object.assign({},e,{strokeColor:f,prefixCls:$,direction:N,percentPosition:{align:p,type:C}}),L):(u==="circle"||u==="dashboard")&&(k=l.createElement(ko,Object.assign({},e,{strokeColor:f,prefixCls:$,progressStatus:E}),L));const ae=de($,`${$}-status-${E}`,{[`${$}-${u==="dashboard"&&"circle"||u}`]:u!=="line",[`${$}-inline-circle`]:u==="circle"&&jt(d,"circle")[0]<=20,[`${$}-line`]:W,[`${$}-line-align-${p}`]:W,[`${$}-line-position-${C}`]:W,[`${$}-steps`]:i,[`${$}-show-info`]:c,[`${$}-${d}`]:typeof d=="string",[`${$}-rtl`]:N==="rtl"},O==null?void 0:O.className,n,o,R,I);return x(l.createElement("div",Object.assign({ref:r,style:Object.assign(Object.assign({},O==null?void 0:O.style),v),className:ae,role:"progressbar","aria-valuenow":b,"aria-valuemin":0,"aria-valuemax":100},rn(h,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),k))});var Yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Ko=function(r,t){return l.createElement(Mt,ze({},r,{ref:t,icon:Yo}))},Jo=l.forwardRef(Ko),Qo={icon:function(r,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:r}}]}},name:"file",theme:"twotone"},ea=function(r,t){return l.createElement(Mt,ze({},r,{ref:t,icon:Qo}))},ta=l.forwardRef(ea),ra={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},na=function(r,t){return l.createElement(Mt,ze({},r,{ref:t,icon:ra}))},oa=l.forwardRef(na),aa={icon:function(r,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:r}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:r}}]}},name:"picture",theme:"twotone"},ia=function(r,t){return l.createElement(Mt,ze({},r,{ref:t,icon:aa}))},sa=l.forwardRef(ia);const Wt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim();if(/^\*(\/\*)?$/.test(s))return!0;if(a.charAt(0)==="."){var d=n.toLowerCase(),c=a.toLowerCase(),u=[c];return(c===".jpg"||c===".jpeg")&&(u=[".jpg",".jpeg"]),u.some(function(g){return d.endsWith(g)})}return/\/\*$/.test(a)?i===a.replace(/\/.*$/,""):o===a?!0:/^\w+$/.test(a)?(Qt(!1,"Upload takes an invalidate 'accept' type '".concat(a,"'.Skip for check.")),!0):!1})}return!0};function la(e,r){var t="cannot ".concat(e.method," ").concat(e.action," ").concat(r.status,"'"),n=new Error(t);return n.status=r.status,n.method=e.method,n.url=e.action,n}function Tr(e){var r=e.responseText||e.response;if(!r)return r;try{return JSON.parse(r)}catch{return r}}function ca(e){var r=new XMLHttpRequest;e.onProgress&&r.upload&&(r.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),e.onProgress(i)});var t=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var i=e.data[o];if(Array.isArray(i)){i.forEach(function(s){t.append("".concat(o,"[]"),s)});return}t.append(o,i)}),e.file instanceof Blob?t.append(e.filename,e.file,e.file.name):t.append(e.filename,e.file),r.onerror=function(i){e.onError(i)},r.onload=function(){return r.status<200||r.status>=300?e.onError(la(e,r),Tr(r)):e.onSuccess(Tr(r),r)},r.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in r&&(r.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(o){n[o]!==null&&r.setRequestHeader(o,n[o])}),r.send(t),{abort:function(){r.abort()}}}var ua=function(){var e=nt(Le().mark(function r(t,n){var o,i,s,a,d,c,u,g;return Le().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=function(){return c=nt(Le().mark(function h(p){return Le().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",new Promise(function(w){p.file(function(S){n(S)?(p.fullPath&&!S.webkitRelativePath&&(Object.defineProperties(S,{webkitRelativePath:{writable:!0}}),S.webkitRelativePath=p.fullPath.replace(/^\//,""),Object.defineProperties(S,{webkitRelativePath:{writable:!1}})),w(S)):w(null)})}));case 1:case"end":return f.stop()}},h)})),c.apply(this,arguments)},d=function(h){return c.apply(this,arguments)},a=function(){return a=nt(Le().mark(function h(p){var C,f,w,S,b;return Le().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:C=p.createReader(),f=[];case 2:return D.next=5,new Promise(function(N){C.readEntries(N,function(){return N([])})});case 5:if(w=D.sent,S=w.length,S){D.next=9;break}return D.abrupt("break",12);case 9:for(b=0;b<S;b++)f.push(w[b]);D.next=2;break;case 12:return D.abrupt("return",f);case 13:case"end":return D.stop()}},h)})),a.apply(this,arguments)},s=function(h){return a.apply(this,arguments)},o=[],i=[],t.forEach(function(m){return i.push(m.webkitGetAsEntry())}),u=function(){var m=nt(Le().mark(function h(p,C){var f,w;return Le().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(p){b.next=2;break}return b.abrupt("return");case 2:if(p.path=C||"",!p.isFile){b.next=10;break}return b.next=6,d(p);case 6:f=b.sent,f&&o.push(f),b.next=15;break;case 10:if(!p.isDirectory){b.next=15;break}return b.next=13,s(p);case 13:w=b.sent,i.push.apply(i,De(w));case 15:case"end":return b.stop()}},h)}));return function(p,C){return m.apply(this,arguments)}}(),g=0;case 9:if(!(g<i.length)){v.next=15;break}return v.next=12,u(i[g]);case 12:g++,v.next=9;break;case 15:return v.abrupt("return",o);case 16:case"end":return v.stop()}},r)}));return function(t,n){return e.apply(this,arguments)}}(),da=+new Date,pa=0;function Bt(){return"rc-upload-".concat(da,"-").concat(++pa)}var fa=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],ha=function(e){nn(t,e);var r=on(t);function t(){var n;an(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r.call.apply(r,[this].concat(i)),le(Fe(n),"state",{uid:Bt()}),le(Fe(n),"reqs",{}),le(Fe(n),"fileInput",void 0),le(Fe(n),"_isMounted",void 0),le(Fe(n),"onChange",function(a){var d=n.props,c=d.accept,u=d.directory,g=a.target.files,y=De(g).filter(function(v){return!u||Wt(v,c)});n.uploadFiles(y),n.reset()}),le(Fe(n),"onClick",function(a){var d=n.fileInput;if(d){var c=a.target,u=n.props.onClick;if(c&&c.tagName==="BUTTON"){var g=d.parentNode;g.focus(),c.blur()}d.click(),u&&u(a)}}),le(Fe(n),"onKeyDown",function(a){a.key==="Enter"&&n.onClick(a)}),le(Fe(n),"onFileDrop",function(){var a=nt(Le().mark(function d(c){var u,g,y;return Le().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(u=n.props.multiple,c.preventDefault(),c.type!=="dragover"){m.next=4;break}return m.abrupt("return");case 4:if(!n.props.directory){m.next=11;break}return m.next=7,ua(Array.prototype.slice.call(c.dataTransfer.items),function(h){return Wt(h,n.props.accept)});case 7:g=m.sent,n.uploadFiles(g),m.next=14;break;case 11:y=De(c.dataTransfer.files).filter(function(h){return Wt(h,n.props.accept)}),u===!1&&(y=y.slice(0,1)),n.uploadFiles(y);case 14:case"end":return m.stop()}},d)}));return function(d){return a.apply(this,arguments)}}()),le(Fe(n),"uploadFiles",function(a){var d=De(a),c=d.map(function(u){return u.uid=Bt(),n.processFile(u,d)});Promise.all(c).then(function(u){var g=n.props.onBatchStart;g==null||g(u.map(function(y){var v=y.origin,m=y.parsedFile;return{file:v,parsedFile:m}})),u.filter(function(y){return y.parsedFile!==null}).forEach(function(y){n.post(y)})})}),le(Fe(n),"processFile",function(){var a=nt(Le().mark(function d(c,u){var g,y,v,m,h,p,C,f,w;return Le().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(g=n.props.beforeUpload,y=c,!g){b.next=14;break}return b.prev=3,b.next=6,g(c,u);case 6:y=b.sent,b.next=12;break;case 9:b.prev=9,b.t0=b.catch(3),y=!1;case 12:if(y!==!1){b.next=14;break}return b.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(v=n.props.action,typeof v!="function"){b.next=21;break}return b.next=18,v(c);case 18:m=b.sent,b.next=22;break;case 21:m=v;case 22:if(h=n.props.data,typeof h!="function"){b.next=29;break}return b.next=26,h(c);case 26:p=b.sent,b.next=30;break;case 29:p=h;case 30:return C=(Qe(y)==="object"||typeof y=="string")&&y?y:c,C instanceof File?f=C:f=new File([C],c.name,{type:c.type}),w=f,w.uid=c.uid,b.abrupt("return",{origin:c,data:p,parsedFile:w,action:m});case 35:case"end":return b.stop()}},d,null,[[3,9]])}));return function(d,c){return a.apply(this,arguments)}}()),le(Fe(n),"saveFileInput",function(a){n.fileInput=a}),n}return sn(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var i=this,s=o.data,a=o.origin,d=o.action,c=o.parsedFile;if(this._isMounted){var u=this.props,g=u.onStart,y=u.customRequest,v=u.name,m=u.headers,h=u.withCredentials,p=u.method,C=a.uid,f=y||ca,w={action:d,filename:v,data:s,file:c,headers:m,withCredentials:h,method:p||"post",onProgress:function(b){var E=i.props.onProgress;E==null||E(b,c)},onSuccess:function(b,E){var D=i.props.onSuccess;D==null||D(b,c,E),delete i.reqs[C]},onError:function(b,E){var D=i.props.onError;D==null||D(b,E,c),delete i.reqs[C]}};g(a),this.reqs[C]=f(w)}}},{key:"reset",value:function(){this.setState({uid:Bt()})}},{key:"abort",value:function(o){var i=this.reqs;if(o){var s=o.uid?o.uid:o;i[s]&&i[s].abort&&i[s].abort(),delete i[s]}else Object.keys(i).forEach(function(a){i[a]&&i[a].abort&&i[a].abort(),delete i[a]})}},{key:"render",value:function(){var o=this.props,i=o.component,s=o.prefixCls,a=o.className,d=o.classNames,c=d===void 0?{}:d,u=o.disabled,g=o.id,y=o.name,v=o.style,m=o.styles,h=m===void 0?{}:m,p=o.multiple,C=o.accept,f=o.capture,w=o.children,S=o.directory,b=o.openFileDialogOnClick,E=o.onMouseEnter,D=o.onMouseLeave,N=o.hasControlInside,O=Ot(o,fa),$=de(le(le(le({},s,!0),"".concat(s,"-disabled"),u),a,a)),x=S?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},R=u?{}:{onClick:b?this.onClick:function(){},onKeyDown:b?this.onKeyDown:function(){},onMouseEnter:E,onMouseLeave:D,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:N?void 0:"0"};return Ae.createElement(i,ze({},R,{className:$,role:N?void 0:"button",style:v}),Ae.createElement("input",ze({},Tn(O,{aria:!0,data:!0}),{id:g,name:y,disabled:u,type:"file",ref:this.saveFileInput,onClick:function(A){return A.stopPropagation()},key:this.state.uid,style:$e({display:"none"},h.input),className:c.input,accept:C},x,{multiple:p,onChange:this.onChange},f!=null?{capture:f}:{})),w)}}]),t}(l.Component);function Ht(){}var ar=function(e){nn(t,e);var r=on(t);function t(){var n;an(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r.call.apply(r,[this].concat(i)),le(Fe(n),"uploader",void 0),le(Fe(n),"saveUploader",function(a){n.uploader=a}),n}return sn(t,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ae.createElement(ha,ze({},this.props,{ref:this.saveUploader}))}}]),t}(l.Component);le(ar,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Ht,onError:Ht,onSuccess:Ht,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const ma=e=>{const{componentCls:r,iconCls:t}=e;return{[`${r}-wrapper`]:{[`${r}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${ue(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[r]:{padding:e.padding},[`${r}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${ue(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${r}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${r}-disabled):hover,
          &-hover:not(${r}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${r}-drag-icon`]:{marginBottom:e.margin,[t]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${r}-text`]:{margin:`0 0 ${ue(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${r}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${r}-disabled`]:{[`p${r}-drag-icon ${t},
            p${r}-text,
            p${r}-hint
          `]:{color:e.colorTextDisabled}}}}}},ga=e=>{const{componentCls:r,iconCls:t,fontSize:n,lineHeight:o,calc:i}=e,s=`${r}-list-item`,a=`${s}-actions`,d=`${s}-action`;return{[`${r}-wrapper`]:{[`${r}-list`]:Object.assign(Object.assign({},ln()),{lineHeight:e.lineHeight,[s]:{position:"relative",height:i(e.lineHeight).mul(n).equal(),marginTop:e.marginXS,fontSize:n,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${s}-name`]:Object.assign(Object.assign({},cn),{padding:`0 ${ue(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[a]:{whiteSpace:"nowrap",[d]:{opacity:0},[t]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${d}:focus-visible,
              &.picture ${d}
            `]:{opacity:1}},[`${r}-icon ${t}`]:{color:e.colorTextDescription,fontSize:n},[`${s}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:i(n).add(e.paddingXS).equal(),fontSize:n,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${s}:hover ${d}`]:{opacity:1},[`${s}-error`]:{color:e.colorError,[`${s}-name, ${r}-icon ${t}`]:{color:e.colorError},[a]:{[`${t}, ${t}:hover`]:{color:e.colorError},[d]:{opacity:1}}},[`${r}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},va=e=>{const{componentCls:r}=e,t=new rr("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new rr("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${r}-animate-inline`;return[{[`${r}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:t},[`${o}-leave`]:{animationName:n}}},{[`${r}-wrapper`]:Ln(e)},t,n]},ya=e=>{const{componentCls:r,iconCls:t,uploadThumbnailSize:n,uploadProgressOffset:o,calc:i}=e,s=`${r}-list`,a=`${s}-item`;return{[`${r}-wrapper`]:{[`
        ${s}${s}-picture,
        ${s}${s}-picture-card,
        ${s}${s}-picture-circle
      `]:{[a]:{position:"relative",height:i(n).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${ue(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:Object.assign(Object.assign({},cn),{width:n,height:n,lineHeight:ue(i(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:o,width:`calc(100% - ${ue(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(n).add(e.paddingXS).equal()}},[`${a}-error`]:{borderColor:e.colorError,[`${a}-thumbnail ${t}`]:{[`svg path[fill='${Er[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Er.primary}']`]:{fill:e.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:o}}},[`${s}${s}-picture-circle ${a}`]:{[`&, &::before, ${a}-thumbnail`]:{borderRadius:"50%"}}}}},ba=e=>{const{componentCls:r,iconCls:t,fontSizeLG:n,colorTextLightSolid:o,calc:i}=e,s=`${r}-list`,a=`${s}-item`,d=e.uploadPicCardSize;return{[`
      ${r}-wrapper${r}-picture-card-wrapper,
      ${r}-wrapper${r}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},ln()),{display:"block",[`${r}${r}-select`]:{width:d,height:d,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${ue(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${r}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${r}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${s}${s}-picture-card, ${s}${s}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${s}-item-container`]:{display:"inline-block",width:d,height:d,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${ue(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${ue(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:n,margin:`0 ${ue(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${ue(i(e.paddingXS).mul(2).equal())})`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${ue(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${r}-wrapper${r}-picture-circle-wrapper`]:{[`${r}${r}-select`]:{borderRadius:"50%"}}}},Ca=e=>{const{componentCls:r}=e;return{[`${r}-rtl`]:{direction:"rtl"}}},wa=e=>{const{componentCls:r,colorTextDisabled:t}=e;return{[`${r}-wrapper`]:Object.assign(Object.assign({},ur(e)),{[r]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${r}-select`]:{display:"inline-block"},[`${r}-disabled`]:{color:t,cursor:"not-allowed"}})}},Sa=e=>({actionsColor:e.colorTextDescription}),xa=lr("Upload",e=>{const{fontSizeHeading3:r,fontHeight:t,lineWidth:n,controlHeightLG:o,calc:i}=e,s=cr(e,{uploadThumbnailSize:i(r).mul(2).equal(),uploadProgressOffset:i(i(t).div(2)).add(n).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[wa(s),ma(s),ya(s),ba(s),ga(s),va(s),Ca(s),zn(s)]},Sa);function Ct(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function wt(e,r){const t=De(r),n=t.findIndex(o=>{let{uid:i}=o;return i===e.uid});return n===-1?t.push(e):t[n]=e,t}function Ut(e,r){const t=e.uid!==void 0?"uid":"name";return r.filter(n=>n[t]===e[t])[0]}function $a(e,r){const t=e.uid!==void 0?"uid":"name",n=r.filter(o=>o[t]!==e[t]);return n.length===r.length?null:n}const Ea=function(){const r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=r[r.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},yn=e=>e.indexOf("image/")===0,Ra=e=>{if(e.type&&!e.thumbUrl)return yn(e.type);const r=e.thumbUrl||e.url||"",t=Ea(r);return/^data:image\//.test(r)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(r)||t)},Ve=200;function Pa(e){return new Promise(r=>{if(!e.type||!yn(e.type)){r("");return}const t=document.createElement("canvas");t.width=Ve,t.height=Ve,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${Ve}px; height: ${Ve}px; z-index: 9999; display: none;`,document.body.appendChild(t);const n=t.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:i,height:s}=o;let a=Ve,d=Ve,c=0,u=0;i>s?(d=s*(Ve/i),u=-(d-a)/2):(a=i*(Ve/s),c=-(a-d)/2),n.drawImage(o,c,u,a,d);const g=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(o.src),r(g)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(o.src=i.result)},i.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&r(i.result)},i.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}const Da=l.forwardRef((e,r)=>{let{prefixCls:t,className:n,style:o,locale:i,listType:s,file:a,items:d,progress:c,iconRender:u,actionIconRender:g,itemRender:y,isImgUrl:v,showPreviewIcon:m,showRemoveIcon:h,showDownloadIcon:p,previewIcon:C,removeIcon:f,downloadIcon:w,extra:S,onPreview:b,onDownload:E,onClose:D}=e;var N,O;const{status:$}=a,[x,R]=l.useState($);l.useEffect(()=>{$!=="removed"&&R($)},[$]);const[I,A]=l.useState(!1);l.useEffect(()=>{const G=setTimeout(()=>{A(!0)},300);return()=>{clearTimeout(G)}},[]);const W=u(a);let L=l.createElement("div",{className:`${t}-icon`},W);if(s==="picture"||s==="picture-card"||s==="picture-circle")if(x==="uploading"||!a.thumbUrl&&!a.url){const G=de(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:x!=="uploading"});L=l.createElement("div",{className:G},W)}else{const G=v!=null&&v(a)?l.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:`${t}-list-item-image`,crossOrigin:a.crossOrigin}):W,q=de(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:v&&!v(a)});L=l.createElement("a",{className:q,onClick:oe=>b(a,oe),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},G)}const k=de(`${t}-list-item`,`${t}-list-item-${x}`),ae=typeof a.linkProps=="string"?JSON.parse(a.linkProps):a.linkProps,Z=(typeof h=="function"?h(a):h)?g((typeof f=="function"?f(a):f)||l.createElement(Wn,null),()=>D(a),t,i.removeFile,!0):null,te=(typeof p=="function"?p(a):p)&&x==="done"?g((typeof w=="function"?w(a):w)||l.createElement(Jo,null),()=>E(a),t,i.downloadFile):null,Y=s!=="picture-card"&&s!=="picture-circle"&&l.createElement("span",{key:"download-delete",className:de(`${t}-list-item-actions`,{picture:s==="picture"})},te,Z),ne=typeof S=="function"?S(a):S,M=ne&&l.createElement("span",{className:`${t}-list-item-extra`},ne),B=de(`${t}-list-item-name`),j=a.url?l.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:B,title:a.name},ae,{href:a.url,onClick:G=>b(a,G)}),a.name,M):l.createElement("span",{key:"view",className:B,onClick:G=>b(a,G),title:a.name},a.name,M),F=(typeof m=="function"?m(a):m)&&(a.url||a.thumbUrl)?l.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:G=>b(a,G),title:i.previewFile},typeof C=="function"?C(a):C||l.createElement(Bn,null)):null,T=(s==="picture-card"||s==="picture-circle")&&x!=="uploading"&&l.createElement("span",{className:`${t}-list-item-actions`},F,x==="done"&&te,Z),{getPrefixCls:_}=l.useContext(gt),Q=_(),H=l.createElement("div",{className:k},L,j,Y,T,I&&l.createElement(un,{motionName:`${Q}-fade`,visible:x==="uploading",motionDeadline:2e3},G=>{let{className:q}=G;const oe="percent"in a?l.createElement(Vo,Object.assign({},c,{type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]})):null;return l.createElement("div",{className:de(`${t}-list-item-progress`,q)},oe)})),U=a.response&&typeof a.response=="string"?a.response:((N=a.error)===null||N===void 0?void 0:N.statusText)||((O=a.error)===null||O===void 0?void 0:O.message)||i.uploadError,K=x==="error"?l.createElement(sr,{title:U,getPopupContainer:G=>G.parentNode},H):H;return l.createElement("div",{className:de(`${t}-list-item-container`,n),style:o,ref:r},y?y(K,a,d,{download:E.bind(null,a),preview:b.bind(null,a),remove:D.bind(null,a)}):K)}),Oa=(e,r)=>{const{listType:t="text",previewFile:n=Pa,onPreview:o,onDownload:i,onRemove:s,locale:a,iconRender:d,isImageUrl:c=Ra,prefixCls:u,items:g=[],showPreviewIcon:y=!0,showRemoveIcon:v=!0,showDownloadIcon:m=!1,removeIcon:h,previewIcon:p,downloadIcon:C,extra:f,progress:w={size:[-1,2],showInfo:!1},appendAction:S,appendActionVisible:b=!0,itemRender:E,disabled:D}=e,N=Hn(),[O,$]=l.useState(!1),x=["picture-card","picture-circle"].includes(t);l.useEffect(()=>{t.startsWith("picture")&&(g||[]).forEach(M=>{!(M.originFileObj instanceof File||M.originFileObj instanceof Blob)||M.thumbUrl!==void 0||(M.thumbUrl="",n==null||n(M.originFileObj).then(B=>{M.thumbUrl=B||"",N()}))})},[t,g,n]),l.useEffect(()=>{$(!0)},[]);const R=(M,B)=>{if(o)return B==null||B.preventDefault(),o(M)},I=M=>{typeof i=="function"?i(M):M.url&&window.open(M.url)},A=M=>{s==null||s(M)},W=M=>{if(d)return d(M,t);const B=M.status==="uploading";if(t.startsWith("picture")){const j=t==="picture"?l.createElement(nr,null):a.uploading,F=c!=null&&c(M)?l.createElement(sa,null):l.createElement(ta,null);return B?j:F}return B?l.createElement(nr,null):l.createElement(oa,null)},L=(M,B,j,F,T)=>{const _={type:"text",size:"small",title:F,onClick:Q=>{var H,U;B(),l.isValidElement(M)&&((U=(H=M.props).onClick)===null||U===void 0||U.call(H,Q))},className:`${j}-list-item-action`};return T&&(_.disabled=D),l.isValidElement(M)?l.createElement(Xe,Object.assign({},_,{icon:Rr(M,Object.assign(Object.assign({},M.props),{onClick:()=>{}}))})):l.createElement(Xe,Object.assign({},_),l.createElement("span",null,M))};l.useImperativeHandle(r,()=>({handlePreview:R,handleDownload:I}));const{getPrefixCls:k}=l.useContext(gt),ae=k("upload",u),Z=k(),te=de(`${ae}-list`,`${ae}-list-${t}`),Y=l.useMemo(()=>rn(Un(Z),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[Z]),ne=Object.assign(Object.assign({},x?{}:Y),{motionDeadline:2e3,motionName:`${ae}-${x?"animate-inline":"animate"}`,keys:De(g.map(M=>({key:M.uid,file:M}))),motionAppear:O});return l.createElement("div",{className:te},l.createElement(qn,Object.assign({},ne,{component:!1}),M=>{let{key:B,file:j,className:F,style:T}=M;return l.createElement(Da,{key:B,locale:a,prefixCls:ae,className:F,style:T,file:j,items:g,progress:w,listType:t,isImgUrl:c,showPreviewIcon:y,showRemoveIcon:v,showDownloadIcon:m,removeIcon:h,previewIcon:p,downloadIcon:C,extra:f,iconRender:W,actionIconRender:L,itemRender:E,onPreview:R,onDownload:I,onClose:A})}),S&&l.createElement(un,Object.assign({},ne,{visible:b,forceRender:!0}),M=>{let{className:B,style:j}=M;return Rr(S,F=>({className:de(F.className,B),style:Object.assign(Object.assign(Object.assign({},j),{pointerEvents:B?"none":void 0}),F.style)}))}))},Ma=l.forwardRef(Oa);var Ia=function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(n.next(u))}catch(g){s(g)}}function d(u){try{c(n.throw(u))}catch(g){s(g)}}function c(u){u.done?i(u.value):o(u.value).then(a,d)}c((n=n.apply(e,[])).next())})};const ft=`__LIST_IGNORE_${Date.now()}__`,ja=(e,r)=>{const{fileList:t,defaultFileList:n,onRemove:o,showUploadList:i=!0,listType:s="text",onPreview:a,onDownload:d,onChange:c,onDrop:u,previewFile:g,disabled:y,locale:v,iconRender:m,isImageUrl:h,progress:p,prefixCls:C,className:f,type:w="select",children:S,style:b,itemRender:E,maxCount:D,data:N={},multiple:O=!1,hasControlInside:$=!0,action:x="",accept:R="",supportServerRender:I=!0,rootClassName:A}=e,W=l.useContext(tn),L=y??W,[k,ae]=en(n||[],{value:t,postState:X=>X??[]}),[Z,te]=l.useState("drop"),Y=l.useRef(null),ne=l.useRef(null);l.useMemo(()=>{const X=Date.now();(t||[]).forEach((J,he)=>{!J.uid&&!Object.isFrozen(J)&&(J.uid=`__AUTO__${X}_${he}__`)})},[t]);const M=(X,J,he)=>{let V=De(J),se=!1;D===1?V=V.slice(-1):D&&(se=V.length>D,V=V.slice(0,D)),Jt.flushSync(()=>{ae(V)});const me={file:X,fileList:V};he&&(me.event=he),(!se||X.status==="removed"||V.some(Be=>Be.uid===X.uid))&&Jt.flushSync(()=>{c==null||c(me)})},B=(X,J)=>Ia(void 0,void 0,void 0,function*(){const{beforeUpload:he,transformFile:V}=e;let se=X;if(he){const me=yield he(X,J);if(me===!1)return!1;if(delete X[ft],me===ft)return Object.defineProperty(X,ft,{value:!0,configurable:!0}),!1;typeof me=="object"&&me&&(se=me)}return V&&(se=yield V(se)),se}),j=X=>{const J=X.filter(se=>!se.file[ft]);if(!J.length)return;const he=J.map(se=>Ct(se.file));let V=De(k);he.forEach(se=>{V=wt(se,V)}),he.forEach((se,me)=>{let Be=se;if(J[me].parsedFile)se.status="uploading";else{const{originFileObj:we}=se;let Ne;try{Ne=new File([we],we.name,{type:we.type})}catch{Ne=new Blob([we],{type:we.type}),Ne.name=we.name,Ne.lastModifiedDate=new Date,Ne.lastModified=new Date().getTime()}Ne.uid=se.uid,Be=Ne}M(Be,V)})},F=(X,J,he)=>{try{typeof X=="string"&&(X=JSON.parse(X))}catch{}if(!Ut(J,k))return;const V=Ct(J);V.status="done",V.percent=100,V.response=X,V.xhr=he;const se=wt(V,k);M(V,se)},T=(X,J)=>{if(!Ut(J,k))return;const he=Ct(J);he.status="uploading",he.percent=X.percent;const V=wt(he,k);M(he,V,X)},_=(X,J,he)=>{if(!Ut(he,k))return;const V=Ct(he);V.error=X,V.response=J,V.status="error";const se=wt(V,k);M(V,se)},Q=X=>{let J;Promise.resolve(typeof o=="function"?o(X):o).then(he=>{var V;if(he===!1)return;const se=$a(X,k);se&&(J=Object.assign(Object.assign({},X),{status:"removed"}),k==null||k.forEach(me=>{const Be=J.uid!==void 0?"uid":"name";me[Be]===J[Be]&&!Object.isFrozen(me)&&(me.status="removed")}),(V=Y.current)===null||V===void 0||V.abort(J),M(J,se))})},H=X=>{te(X.type),X.type==="drop"&&(u==null||u(X))};l.useImperativeHandle(r,()=>({onBatchStart:j,onSuccess:F,onProgress:T,onError:_,fileList:k,upload:Y.current,nativeElement:ne.current}));const{getPrefixCls:U,direction:K,upload:G}=l.useContext(gt),q=U("upload",C),oe=Object.assign(Object.assign({onBatchStart:j,onError:_,onProgress:T,onSuccess:F},e),{data:N,multiple:O,action:x,accept:R,supportServerRender:I,prefixCls:q,disabled:L,beforeUpload:B,onChange:void 0,hasControlInside:$});delete oe.className,delete oe.style,(!S||L)&&delete oe.id;const be=`${q}-wrapper`,[re,ee,Ce]=xa(q,be),[ge]=Xn("Upload",Gn.Upload),{showRemoveIcon:pe,showPreviewIcon:Pe,showDownloadIcon:Se,removeIcon:ke,previewIcon:fe,downloadIcon:xe,extra:Te}=typeof i=="boolean"?{}:i,ve=typeof pe>"u"?!L:pe,Ie=(X,J)=>i?l.createElement(Ma,{prefixCls:q,listType:s,items:k,previewFile:g,onPreview:a,onDownload:d,onRemove:Q,showRemoveIcon:ve,showPreviewIcon:Pe,showDownloadIcon:Se,removeIcon:ke,previewIcon:fe,downloadIcon:xe,iconRender:m,extra:Te,locale:Object.assign(Object.assign({},ge),v),isImageUrl:h,progress:p,appendAction:X,appendActionVisible:J,itemRender:E,disabled:L}):X,je=de(be,f,A,ee,Ce,G==null?void 0:G.className,{[`${q}-rtl`]:K==="rtl",[`${q}-picture-card-wrapper`]:s==="picture-card",[`${q}-picture-circle-wrapper`]:s==="picture-circle"}),Ke=Object.assign(Object.assign({},G==null?void 0:G.style),b);if(w==="drag"){const X=de(ee,q,`${q}-drag`,{[`${q}-drag-uploading`]:k.some(J=>J.status==="uploading"),[`${q}-drag-hover`]:Z==="dragover",[`${q}-disabled`]:L,[`${q}-rtl`]:K==="rtl"});return re(l.createElement("span",{className:je,ref:ne},l.createElement("div",{className:X,style:Ke,onDrop:H,onDragOver:H,onDragLeave:H},l.createElement(ar,Object.assign({},oe,{ref:Y,className:`${q}-btn`}),l.createElement("div",{className:`${q}-drag-container`},S))),Ie()))}const tt=de(q,`${q}-select`,{[`${q}-disabled`]:L}),vt=l.createElement("div",{className:tt,style:S?void 0:{display:"none"}},l.createElement(ar,Object.assign({},oe,{ref:Y})));return re(s==="picture-card"||s==="picture-circle"?l.createElement("span",{className:je,ref:ne},Ie(vt,!!S)):l.createElement("span",{className:je,ref:ne},vt,Ie()))},bn=l.forwardRef(ja);var Na=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const _a=l.forwardRef((e,r)=>{var{style:t,height:n,hasControlInside:o=!1}=e,i=Na(e,["style","height","hasControlInside"]);return l.createElement(bn,Object.assign({ref:r,hasControlInside:o},i,{type:"drag",style:Object.assign(Object.assign({},t),{height:n})}))}),Nt=bn;Nt.Dragger=_a;Nt.LIST_IGNORE=ft;var ir=function(e,r){return ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},ir(e,r)};function ka(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ir(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Oe=function(){return Oe=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Oe.apply(this,arguments)};function Fa(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}function St(e,r,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(n.next(u))}catch(g){s(g)}}function d(u){try{c(n.throw(u))}catch(g){s(g)}}function c(u){u.done?i(u.value):o(u.value).then(a,d)}c((n=n.apply(e,r||[])).next())})}var qt,Lr;function Aa(){if(Lr)return qt;Lr=1;var e=!1,r,t,n,o,i,s,a,d,c,u,g,y,v,m,h;function p(){if(!e){e=!0;var f=navigator.userAgent,w=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(f),S=/(Mac OS X)|(Windows)|(Linux)/.exec(f);if(y=/\b(iPhone|iP[ao]d)/.exec(f),v=/\b(iP[ao]d)/.exec(f),u=/Android/i.exec(f),m=/FBAN\/\w+;/i.exec(f),h=/Mobile/i.exec(f),g=!!/Win64/.exec(f),w){r=w[1]?parseFloat(w[1]):w[5]?parseFloat(w[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(f);s=b?parseFloat(b[1])+4:r,t=w[2]?parseFloat(w[2]):NaN,n=w[3]?parseFloat(w[3]):NaN,o=w[4]?parseFloat(w[4]):NaN,o?(w=/(?:Chrome\/(\d+\.\d+))/.exec(f),i=w&&w[1]?parseFloat(w[1]):NaN):i=NaN}else r=t=n=i=o=NaN;if(S){if(S[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(f);a=E?parseFloat(E[1].replace("_",".")):!0}else a=!1;d=!!S[2],c=!!S[3]}else a=d=c=!1}}var C={ie:function(){return p()||r},ieCompatibilityMode:function(){return p()||s>r},ie64:function(){return C.ie()&&g},firefox:function(){return p()||t},opera:function(){return p()||n},webkit:function(){return p()||o},safari:function(){return C.webkit()},chrome:function(){return p()||i},windows:function(){return p()||d},osx:function(){return p()||a},linux:function(){return p()||c},iphone:function(){return p()||y},mobile:function(){return p()||y||v||u||h},nativeApp:function(){return p()||m},android:function(){return p()||u},ipad:function(){return p()||v}};return qt=C,qt}var Xt,zr;function Ta(){if(zr)return Xt;zr=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Xt=r,Xt}var Gt,Wr;function La(){if(Wr)return Gt;Wr=1;var e=Ta(),r;e.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(n,o){if(!e.canUseDOM||o&&!("addEventListener"in document))return!1;var i="on"+n,s=i in document;if(!s){var a=document.createElement("div");a.setAttribute(i,"return;"),s=typeof a[i]=="function"}return!s&&r&&n==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}return Gt=t,Gt}var Zt,Br;function za(){if(Br)return Zt;Br=1;var e=Aa(),r=La(),t=10,n=40,o=800;function i(s){var a=0,d=0,c=0,u=0;return"detail"in s&&(d=s.detail),"wheelDelta"in s&&(d=-s.wheelDelta/120),"wheelDeltaY"in s&&(d=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(a=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(a=d,d=0),c=a*t,u=d*t,"deltaY"in s&&(u=s.deltaY),"deltaX"in s&&(c=s.deltaX),(c||u)&&s.deltaMode&&(s.deltaMode==1?(c*=n,u*=n):(c*=o,u*=o)),c&&!a&&(a=c<1?-1:1),u&&!d&&(d=u<1?-1:1),{spinX:a,spinY:d,pixelX:c,pixelY:u}}return i.getEventType=function(){return e.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},Zt=i,Zt}var Vt,Hr;function Wa(){return Hr||(Hr=1,Vt=za()),Vt}var Ba=Wa();const Ha=Zn(Ba);function Ua(e,r,t,n,o,i){i===void 0&&(i=0);var s=at(e,r,i),a=s.width,d=s.height,c=Math.min(a,t),u=Math.min(d,n);return c>u*o?{width:u*o,height:u}:{width:c,height:c/o}}function qa(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function xt(e,r,t,n,o){o===void 0&&(o=0);var i=at(r.width,r.height,o),s=i.width,a=i.height;return{x:Ur(e.x,s,t.width,n),y:Ur(e.y,a,t.height,n)}}function Ur(e,r,t,n){var o=r*n/2-t/2;return _t(e,-o,o)}function qr(e,r){return Math.sqrt(Math.pow(e.y-r.y,2)+Math.pow(e.x-r.x,2))}function Xr(e,r){return Math.atan2(r.y-e.y,r.x-e.x)*180/Math.PI}function Xa(e,r,t,n,o,i,s){i===void 0&&(i=0),s===void 0&&(s=!0);var a=s?Ga:Za,d=at(r.width,r.height,i),c=at(r.naturalWidth,r.naturalHeight,i),u={x:a(100,((d.width-t.width/o)/2-e.x/o)/d.width*100),y:a(100,((d.height-t.height/o)/2-e.y/o)/d.height*100),width:a(100,t.width/d.width*100/o),height:a(100,t.height/d.height*100/o)},g=Math.round(a(c.width,u.width*c.width/100)),y=Math.round(a(c.height,u.height*c.height/100)),v=c.width>=c.height*n,m=v?{width:Math.round(y*n),height:y}:{width:g,height:Math.round(g/n)},h=Oe(Oe({},m),{x:Math.round(a(c.width-m.width,u.x*c.width/100)),y:Math.round(a(c.height-m.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:h}}function Ga(e,r){return Math.min(e,Math.max(0,r))}function Za(e,r){return r}function Va(e,r,t,n,o,i){var s=at(r.width,r.height,t),a=_t(n.width/s.width*(100/e.width),o,i),d={x:a*s.width/2-n.width/2-s.width*a*(e.x/100),y:a*s.height/2-n.height/2-s.height*a*(e.y/100)};return{crop:d,zoom:a}}function Ya(e,r,t){var n=qa(r);return t.height>t.width?t.height/(e.height*n):t.width/(e.width*n)}function Ka(e,r,t,n,o,i){t===void 0&&(t=0);var s=at(r.naturalWidth,r.naturalHeight,t),a=_t(Ya(e,r,n),o,i),d=n.height>n.width?n.height/e.height:n.width/e.width,c={x:((s.width-e.width)/2-e.x)*d,y:((s.height-e.height)/2-e.y)*d};return{crop:c,zoom:a}}function Gr(e,r){return{x:(r.x+e.x)/2,y:(r.y+e.y)/2}}function Ja(e){return e*Math.PI/180}function at(e,r,t){var n=Ja(t);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*r),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*r)}}function _t(e,r,t){return Math.min(Math.max(e,r),t)}function $t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var Qa=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ei=1,ti=3,ri=function(e){ka(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.imageRef=l.createRef(),t.videoRef=l.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var n=!0;t.resizeObserver=new window.ResizeObserver(function(o){if(n){n=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(n){return n.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturemove",t.onGestureMove),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var n=t.computeSizes();n&&(t.emitCropData(),t.setInitialCrop(n)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(n){if(t.props.initialCroppedAreaPercentages){var o=Va(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),i=o.crop,s=o.zoom;t.props.onCropChange(i),t.props.onZoomChange&&t.props.onZoomChange(s)}else if(t.props.initialCroppedAreaPixels){var a=Ka(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),i=a.crop,s=a.zoom;t.props.onCropChange(i),t.props.onZoomChange&&t.props.onZoomChange(s)}},t.computeSizes=function(){var n,o,i,s,a,d,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var u=t.containerRect.width/t.containerRect.height,g=((n=t.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,y=((i=t.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=t.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,v=c.offsetWidth<g||c.offsetHeight<y,m=g/y,h=void 0;if(v)switch(t.state.mediaObjectFit){default:case"contain":h=u>m?{width:t.containerRect.height*m,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/m};break;case"horizontal-cover":h={width:t.containerRect.width,height:t.containerRect.width/m};break;case"vertical-cover":h={width:t.containerRect.height*m,height:t.containerRect.height};break}else h={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=Oe(Oe({},h),{naturalWidth:g,naturalHeight:y}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var p=t.props.cropSize?t.props.cropSize:Ua(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((a=t.state.cropSize)===null||a===void 0?void 0:a.height)!==p.height||((d=t.state.cropSize)===null||d===void 0?void 0:d.width)!==p.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(p),t.setState({cropSize:p},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(p),p}},t.saveContainerPosition=function(){if(t.containerRef){var n=t.containerRef.getBoundingClientRect();t.containerPosition={x:n.left,y:n.top}}},t.onMouseDown=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(r.getMousePoint(n)))},t.onMouseMove=function(n){return t.onDrag(r.getMousePoint(n))},t.onScroll=function(n){t.currentDoc&&(n.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(n){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(n))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),n.touches.length===2?t.onPinchStart(n):n.touches.length===1&&t.onDragStart(r.getTouchPoint(n.touches[0]))))},t.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?t.onPinchMove(n):n.touches.length===1&&t.onDrag(r.getTouchPoint(n.touches[0]))},t.onGestureStart=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureMove),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureMove=function(n){if(n.preventDefault(),!t.isTouching){var o=r.getMousePoint(n),i=t.gestureZoomStart-1+n.scale;if(t.setNewZoom(i,o,{shouldUpdatePosition:!0}),t.props.onRotationChange){var s=t.gestureRotationStart+n.rotation;t.props.onRotationChange(s)}}},t.onGestureEnd=function(n){t.cleanEvents()},t.onDragStart=function(n){var o,i,s=n.x,a=n.y;t.dragStartPosition={x:s,y:a},t.dragStartCrop=Oe({},t.props.crop),(i=(o=t.props).onInteractionStart)===null||i===void 0||i.call(o)},t.onDrag=function(n){var o=n.x,i=n.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(o===void 0||i===void 0)){var s=o-t.dragStartPosition.x,a=i-t.dragStartPosition.y,d={x:t.dragStartCrop.x+s,y:t.dragStartCrop.y+a},c=t.props.restrictPosition?xt(d,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):d;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var n,o;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(o=(n=t.props).onInteractionEnd)===null||o===void 0||o.call(n)},t.onWheel=function(n){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(n))){n.preventDefault();var o=r.getMousePoint(n),i=Ha(n).pixelY,s=t.props.zoom-i*t.props.zoomSpeed/200;t.setNewZoom(s,o,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var a,d;return(d=(a=t.props).onInteractionStart)===null||d===void 0?void 0:d.call(a)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var a,d;return(d=(a=t.props).onInteractionEnd)===null||d===void 0?void 0:d.call(a)})},250)}},t.getPointOnContainer=function(n,o){var i=n.x,s=n.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(i-o.x),y:t.containerRect.height/2-(s-o.y)}},t.getPointOnMedia=function(n){var o=n.x,i=n.y,s=t.props,a=s.crop,d=s.zoom;return{x:(o+a.x)/d,y:(i+a.y)/d}},t.setNewZoom=function(n,o,i){var s=i===void 0?{}:i,a=s.shouldUpdatePosition,d=a===void 0?!0:a;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=_t(n,t.props.minZoom,t.props.maxZoom);if(d){var u=t.getPointOnContainer(o,t.containerPosition),g=t.getPointOnMedia(u),y={x:g.x*c-u.x,y:g.y*c-u.y},v=t.props.restrictPosition?xt(y,t.mediaSize,t.state.cropSize,c,t.props.rotation):y;t.props.onCropChange(v)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var n=t.props.restrictPosition?xt(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return Xa(n,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var n=t.getCropData();if(n){var o=n.croppedAreaPercentages,i=n.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(o,i),t.props.onCropAreaChange&&t.props.onCropAreaChange(o,i)}},t.emitCropAreaChange=function(){var n=t.getCropData();if(n){var o=n.croppedAreaPercentages,i=n.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(o,i)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var n=t.props.restrictPosition?xt(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(n),t.emitCropData()}},t}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Qa,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},r.prototype.componentWillUnmount=function(){var t,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(t){var n,o,i,s,a,d,c,u,g;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((n=t.cropSize)===null||n===void 0?void 0:n.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=t.cropSize)===null||i===void 0?void 0:i.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((a=t.crop)===null||a===void 0?void 0:a.x)!==((d=this.props.crop)===null||d===void 0?void 0:d.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var y=this.getObjectFit();y!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:y},this.computeSizes)},r.prototype.getAspect=function(){var t=this.props,n=t.cropSize,o=t.aspect;return n?n.width/n.height:o},r.prototype.getObjectFit=function(){var t,n,o,i;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,d=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,c=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,u=d/c;return u<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(t){var n=r.getTouchPoint(t.touches[0]),o=r.getTouchPoint(t.touches[1]);this.lastPinchDistance=qr(n,o),this.lastPinchRotation=Xr(n,o),this.onDragStart(Gr(n,o))},r.prototype.onPinchMove=function(t){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var o=r.getTouchPoint(t.touches[0]),i=r.getTouchPoint(t.touches[1]),s=Gr(o,i);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=qr(o,i),d=n.props.zoom*(a/n.lastPinchDistance);n.setNewZoom(d,s,{shouldUpdatePosition:!1}),n.lastPinchDistance=a;var c=Xr(o,i),u=n.props.rotation+(c-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(u),n.lastPinchRotation=c})}},r.prototype.render=function(){var t=this,n,o=this.props,i=o.image,s=o.video,a=o.mediaProps,d=o.transform,c=o.crop,u=c.x,g=c.y,y=o.rotation,v=o.zoom,m=o.cropShape,h=o.showGrid,p=o.style,C=p.containerStyle,f=p.cropAreaStyle,w=p.mediaStyle,S=o.classes,b=S.containerClassName,E=S.cropAreaClassName,D=S.mediaClassName,N=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return l.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return t.containerRef=$},"data-testid":"container",style:C,className:$t("reactEasyCrop_Container",b)},i?l.createElement("img",Oe({alt:"",className:$t("reactEasyCrop_Image",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},a,{src:i,ref:this.imageRef,style:Oe(Oe({},w),{transform:d||"translate(".concat(u,"px, ").concat(g,"px) rotate(").concat(y,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):s&&l.createElement("video",Oe({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:$t("reactEasyCrop_Video",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",D)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Oe(Oe({},w),{transform:d||"translate(".concat(u,"px, ").concat(g,"px) rotate(").concat(y,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(O){return l.createElement("source",Oe({key:O.src},O))})),this.state.cropSize&&l.createElement("div",{style:Oe(Oe({},f),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:$t("reactEasyCrop_CropArea",m==="round"&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",E)}))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:ti,minZoom:ei,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},r.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},r.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},r}(l.Component);const We="img-crop",Yt=1,ct=.1,Rt=0,Zr=-180,Vr=180,Kt=1,Yr=.5,Kr=2,ut=.01,ni=l.forwardRef((e,r)=>{const{cropperRef:t,zoomSlider:n,rotationSlider:o,aspectSlider:i,showReset:s,resetBtnText:a,modalImage:d,aspect:c,minZoom:u,maxZoom:g,cropShape:y,showGrid:v,cropperProps:m}=e,[h,p]=l.useState(Yt),[C,f]=l.useState(Rt),[w,S]=l.useState(c),b=h!==Yt||C!==Rt||w!==c,E=()=>{p(Yt),f(Rt),S(c)},[D,N]=l.useState({x:0,y:0}),O=l.useRef({width:0,height:0,x:0,y:0}),$=l.useCallback((A,W)=>{O.current=W},[]);l.useImperativeHandle(r,()=>({rotation:C,cropPixelsRef:O,onReset:E}));const x="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",R="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",I="[flex:1]";return P.jsxs(P.Fragment,{children:[P.jsx(ri,Object.assign({},m,{ref:t,image:d,crop:D,zoom:h,rotation:C,aspect:w,minZoom:u,maxZoom:g,zoomWithScroll:n,cropShape:y,showGrid:v,onCropChange:N,onZoomChange:p,onRotationChange:f,onCropComplete:$,classes:{containerClassName:`${We}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${We}-media`}})),n&&P.jsxs("section",{className:`${We}-control ${We}-control-zoom ${x}`,children:[P.jsx("button",{className:R,onClick:()=>p(+(h-ct).toFixed(1)),disabled:h-ct<u,children:"－"}),P.jsx(Lt,{className:I,min:u,max:g,step:ct,value:h,onChange:p}),P.jsx("button",{className:R,onClick:()=>p(+(h+ct).toFixed(1)),disabled:h+ct>g,children:"＋"})]}),o&&P.jsxs("section",{className:`${We}-control ${We}-control-rotation ${x}`,children:[P.jsx("button",{className:`${R} [font-size:16px]`,onClick:()=>f(C-Kt),disabled:C===Zr,children:"↺"}),P.jsx(Lt,{className:I,min:Zr,max:Vr,step:Kt,value:C,onChange:f}),P.jsx("button",{className:`${R} [font-size:16px]`,onClick:()=>f(C+Kt),disabled:C===Vr,children:"↻"})]}),i&&P.jsxs("section",{className:`${We}-control ${We}-control-aspect ${x}`,children:[P.jsx("button",{className:R,onClick:()=>S(+(w-ut).toFixed(2)),disabled:w-ut<Yr,children:"↕️"}),P.jsx(Lt,{className:I,min:Yr,max:Kr,step:ut,value:w,onChange:S}),P.jsx("button",{className:R,onClick:()=>S(+(w+ut).toFixed(2)),disabled:w+ut>Kr,children:"↔️"})]}),s&&(n||o||i)&&P.jsx(Xe,{className:"[bottom:20px] [position:absolute]",style:b?{}:{opacity:.3,pointerEvents:"none"},onClick:E,children:a})]})});var oi=l.memo(ni);function ai(e,r){r===void 0&&(r={});var t=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var ii=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";ai(ii,{insertAt:"top"});const si=l.forwardRef((e,r)=>{const{quality:t=.4,fillColor:n="white",zoomSlider:o=!0,rotationSlider:i=!1,aspectSlider:s=!1,showReset:a=!1,resetText:d,aspect:c=1,minZoom:u=1,maxZoom:g=3,cropShape:y="rect",showGrid:v=!1,cropperProps:m,modalClassName:h,modalTitle:p,modalWidth:C,modalOk:f,modalCancel:w,onModalOk:S,onModalCancel:b,modalProps:E,beforeCrop:D,children:N}=e,O=l.useRef({});O.current.onModalOk=S,O.current.onModalCancel=b,O.current.beforeCrop=D;const $=l.useRef(null),x=l.useCallback(j=>{var F;const T=document.createElement("canvas"),_=T.getContext("2d"),H=(((F=j==null?void 0:j.getRootNode)===null||F===void 0?void 0:F.call(j))||document).querySelector(`.${We}-media`),{width:U,height:K,x:G,y:q}=$.current.cropPixelsRef.current;if(i&&$.current.rotation!==Rt){const{naturalWidth:oe,naturalHeight:be}=H,re=$.current.rotation*(Math.PI/180),ee=Math.abs(Math.sin(re)),Ce=Math.abs(Math.cos(re)),ge=oe*Ce+be*ee,pe=be*Ce+oe*ee;T.width=ge,T.height=pe,_.fillStyle=n,_.fillRect(0,0,ge,pe);const Pe=ge/2,Se=pe/2;_.translate(Pe,Se),_.rotate(re),_.translate(-Pe,-Se);const ke=(ge-oe)/2,fe=(pe-be)/2;_.drawImage(H,0,0,oe,be,ke,fe,oe,be);const xe=_.getImageData(0,0,ge,pe);T.width=U,T.height=K,_.putImageData(xe,-G,-q)}else T.width=U,T.height=K,_.fillStyle=n,_.fillRect(0,0,U,K),_.drawImage(H,G,q,U,K,0,0,U,K);return T},[n,i]),[R,I]=l.useState(""),A=l.useRef(),W=l.useRef(),L=l.useCallback(j=>St(void 0,[j],void 0,function*({beforeUpload:F,file:T,resolve:_,reject:Q}){const H=T;if(typeof F!="function"){_(H);return}try{const U=yield F(T,[T]);_(U===!1?!1:U!==!0&&U||H)}catch(U){Q(U)}}),[]),k=l.useCallback(j=>(F,T)=>new Promise((_,Q)=>St(void 0,void 0,void 0,function*(){let H=F;if(typeof O.current.beforeCrop=="function")try{const K=yield O.current.beforeCrop(F,T);if(K===!1)return L({beforeUpload:j,file:F,resolve:_,reject:Q});K!==!0&&(H=K||F)}catch{return L({beforeUpload:j,file:F,resolve:_,reject:Q})}const U=new FileReader;U.addEventListener("load",()=>{typeof U.result=="string"&&I(U.result)}),U.readAsDataURL(H),A.current=()=>{var K,G;I(""),$.current.onReset();let q=!1;(G=(K=O.current).onModalCancel)===null||G===void 0||G.call(K,oe=>{_(oe),q=!0}),q||_(Nt.LIST_IGNORE)},W.current=K=>St(void 0,void 0,void 0,function*(){I(""),$.current.onReset();const G=x(K.target),{type:q,name:oe,uid:be}=H;G.toBlob(re=>St(void 0,void 0,void 0,function*(){const ee=new File([re],oe,{type:q});Object.assign(ee,{uid:be}),L({beforeUpload:j,file:ee,resolve:Ce=>{var ge,pe;_(Ce),(pe=(ge=O.current).onModalOk)===null||pe===void 0||pe.call(ge,Ce)},reject:Ce=>{var ge,pe;Q(Ce),(pe=(ge=O.current).onModalOk)===null||pe===void 0||pe.call(ge,Ce)}})}),q,t)})})),[x,t,L]),ae=l.useCallback(j=>{const F=Array.isArray(j)?j[0]:j,T=F.props,{beforeUpload:_,accept:Q}=T,H=Fa(T,["beforeUpload","accept"]);return Object.assign(Object.assign({},F),{props:Object.assign(Object.assign({},H),{accept:Q||"image/*",beforeUpload:k(_)})})},[k]),Z=l.useMemo(()=>{const j={};return C!==void 0&&(j.width=C),f!==void 0&&(j.okText=f),w!==void 0&&(j.cancelText=w),j},[w,f,C]),te=`${We}-modal${h?` ${h}`:""}`,ne=(typeof window>"u"?"":window.navigator.language)==="zh-CN",M=p||(ne?"编辑图片":"Edit image"),B=d||(ne?"重置":"Reset");return P.jsxs(P.Fragment,{children:[ae(N),R&&P.jsx(dn,Object.assign({},E,Z,{open:!0,title:M,onCancel:A.current,onOk:W.current,wrapClassName:te,maskClosable:!1,destroyOnClose:!0,children:P.jsx(oi,{ref:$,cropperRef:r,zoomSlider:o,rotationSlider:i,aspectSlider:s,showReset:a,resetBtnText:B,modalImage:R,aspect:c,minZoom:u,maxZoom:g,cropShape:y,showGrid:v,cropperProps:m})}))]})}),li=async e=>{try{return(await It.get("/profile.php",{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){throw console.error("Fetch profile API Error:",r),r}},ci=async(e,r)=>{try{return(await It.put("/updateProfile.php",r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(t){throw console.error("Profile update API Error:",t),t}},{Title:ui,Text:Jr}=dr,Qr=["userAuth","adminAuth","guestAuth"],di=()=>{const[e,r]=l.useState(!1),[t,n]=l.useState(""),[o,i]=l.useState(""),[s,a]=l.useState(""),[d,c]=l.useState(!1),[u,g]=l.useState(""),[y,v]=l.useState([]),[m,h]=l.useState(!1),[p,C]=l.useState({username:"",department:""}),{logUserActivity:f}=pn(),{logUserNotification:w}=fn(),[S,b]=l.useState(""),E=l.useCallback(()=>{var x,R;for(const I of Qr){const A=JSON.parse(localStorage.getItem(I))||JSON.parse(sessionStorage.getItem(I));if((R=(x=A==null?void 0:A.state)==null?void 0:x.userData)!=null&&R.username){const W=A.state.userData.username,L=dt.get(`authToken_${W}`)||A.state.token;return L||(_e.error("Authentication token missing. Please log in again."),window.location.href="/login"),b(W),{token:L,username:W}}}return window.location.href="/login",{}},[]),D=(x,R)=>{dt.remove(`authToken_${t}`,{path:"/"}),dt.set(`authToken_${x}`,R,{expires:7,secure:window.location.protocol==="https:",sameSite:"Lax",path:"/"}),Qr.forEach(I=>{var W,L;const A=JSON.parse(localStorage.getItem(I))||JSON.parse(sessionStorage.getItem(I));if(((L=(W=A==null?void 0:A.state)==null?void 0:W.userData)==null?void 0:L.username)===t){const k={state:{userData:{username:x,role:A.state.userData.role},token:R}},ae=JSON.stringify(k);localStorage.setItem(I,ae),sessionStorage.setItem(I,ae)}})};l.useEffect(()=>{const{token:x}=E();x&&li(x).then(({username:R,department:I,avatar:A})=>{n(R),i(R),a(I),C({username:R,department:I}),g(A||""),A&&Vn([A])}).catch(()=>_e.error("Failed to fetch profile data"))},[E]);const N=async()=>{if(!e)return r(!0);dn.confirm({title:"Save Changes?",content:"Are you sure you want to save these changes?",onOk:async()=>{const{token:x}=E();if(x){h(!0);try{await ci(x,{username:o,department:s}),_e.success("Profile updated successfully!"),D(o,x),f(o,"Profile Update",`Updated username to: ${o}`),w("Profile Update","Your profile was updated successfully."),window.location.reload()}catch(R){console.error(R),_e.error("Failed to update profile.")}finally{h(!1)}}}})},O=()=>{i(p.username),a(p.department),r(!1)},$=({file:x,fileList:R})=>{var I;if(v(R),x.status==="uploading")return c(!0);x.status==="done"?(I=x.response)!=null&&I.avatar?(g(x.response.avatar),_e.success("Avatar uploaded successfully!"),f(t,"Avatar","User updated their avatar."),w("Avatar Updated","Your avatar was updated successfully.")):_e.error("Avatar upload response missing avatar field!"):x.status==="error"&&_e.error("Avatar upload failed!"),c(!1)};return P.jsxs(hn,{className:"flex flex-col w-full h-full bg-[#A8E1C5] rounded-3xl shadow p-6 border-none",children:[P.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[u&&P.jsx(Yn,{src:u,alt:"avatar",width:100,height:100,style:{borderRadius:"50%",objectFit:"cover"}}),P.jsxs("div",{children:[P.jsx(Jr,{className:"text-green-600",children:"Active"}),P.jsx(ui,{level:4,className:"text-neutral-700 mb-0",children:t})]})]}),P.jsx(si,{rotationSlider:!0,children:P.jsx(Nt,{name:"avatar",action:"https://sentinelphils.com/Sentinel-MIMS/backend/api/upload.php",showUploadList:!1,beforeUpload:Kn,onChange:$,fileList:y,accept:"image/*",headers:{Authorization:`Bearer ${dt.get(`authToken_${S}`)}`},children:P.jsx(Xe,{type:"primary",icon:d?P.jsx(nr,{}):P.jsx(Jn,{}),className:"w-full mt-4 bg-lime-200 text-green-950",children:d?"Uploading...":"Change Avatar"})})}),P.jsx("div",{className:"flex flex-col gap-5 mt-8",children:["Username","Department"].map(x=>P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx(Jr,{children:x}),e?P.jsx(mn,{className:"w-full bg-emerald-200",value:x==="Username"?o:s,onChange:R=>x==="Username"?i(R.target.value):a(R.target.value),placeholder:`Enter your ${x.toLowerCase()}`}):P.jsx(ht,{children:P.jsx(ht.Item,{children:x==="Username"?t:s})})]},x))}),P.jsxs("div",{className:"flex justify-center mt-8",children:[e&&P.jsx(Xe,{type:"default",className:"bg-red-500 text-white w-1/5 mr-4",onClick:O,children:"Cancel"}),P.jsx(Xe,{type:"primary",className:"bg-lime-200 text-green-950 w-1/5",onClick:N,disabled:m,children:e?m?"Saving...":"Save":"Edit"})]})]})},pi=async e=>{try{return(await It.get("/getSecurityQuestion.php",{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){throw console.error("Error fetching security question:",r),r}},fi=async(e,r,t)=>{try{return(await It.post("/getSecurityQuestion.php",{security_question:r,security_answer:t},{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){throw console.error("Error updating security question:",n),n}},hi=()=>{const[e,r]=l.useState(!1),[t]=bt.useForm(),[n,o]=l.useState({question:"",answer:""}),[i,s]=l.useState(!1),{logUserActivity:a}=pn(),{logUserNotification:d}=fn(),{Text:c}=dr,u=["What is your mother's maiden name?","What was the name of your first pet?","What is your favorite color?","In what city were you born?","What is the name of your first school?","What is your favorite movie?","Who is your favorite author?","What is the name of your best friend?","What is your dream job?","Where did you go on your last vacation?"],g=()=>{var C,f,w,S,b,E;const v=JSON.parse(localStorage.getItem("userAuth"))||JSON.parse(sessionStorage.getItem("userAuth")),m=JSON.parse(localStorage.getItem("adminAuth"))||JSON.parse(sessionStorage.getItem("adminAuth")),h=((f=(C=v==null?void 0:v.state)==null?void 0:C.userData)==null?void 0:f.username)||((S=(w=m==null?void 0:m.state)==null?void 0:w.userData)==null?void 0:S.username);if(!h)return _e.error("User not authenticated!"),null;let p=dt.get(`authToken_${h}`);return!p&&(p=((b=v==null?void 0:v.state)==null?void 0:b.token)||((E=m==null?void 0:m.state)==null?void 0:E.token),!p)?(_e.error("Authentication token is missing. Please log in again."),null):p};l.useEffect(()=>{(async()=>{const m=g();if(m)try{s(!0);const h=await pi(m);h.success?o({question:h.security_question,answer:""}):_e.error(h.message||"Failed to fetch security question.")}catch{_e.error("Failed to fetch security question.")}finally{s(!1)}})()},[]);const y=async v=>{const m=g();if(m)try{s(!0);const h=await fi(m,v.security_question,v.security_answer);h.success?(_e.success("Security question updated successfully."),a("Profile Update",`Updated security question: "${v.security_question}"`),d("Security Question Updated","Your security question was successfully updated."),r(!1),o({question:v.security_question,answer:v.security_answer})):_e.error(h.message||"Failed to update security question.")}catch{_e.error("Failed to update security question.")}finally{s(!1),t.resetFields()}};return P.jsxs(hn,{className:"flex flex-col w-full bg-[#A8E1C5] rounded-3xl shadow p-6 border-none",children:[P.jsx("div",{className:"flex justify-center mb-4",children:P.jsx(c,{className:"text-xl font-semibold",children:"Security Question"})}),e?P.jsxs(bt,{form:t,onFinish:y,initialValues:n,children:[P.jsx(bt.Item,{name:"security_question",label:"Select a Security Question",rules:[{required:!0,message:"Please select a security question!"}],children:P.jsx(Pr,{placeholder:"Select a security question",children:u.map((v,m)=>P.jsx(Pr.Option,{value:v,children:v},m))})}),P.jsx(bt.Item,{name:"security_answer",label:"Security Answer",rules:[{required:!0,message:"Please provide an answer!"}],children:P.jsx(mn.Password,{placeholder:"Enter your answer"})}),P.jsxs("div",{className:"flex justify-center",children:[P.jsx(Xe,{onClick:()=>r(!1),className:"bg-red-500 text-white mr-2",children:"Cancel"}),P.jsx(Xe,{type:"primary",htmlType:"submit",loading:i,className:"bg-lime-200 text-green-950 ml-2",children:"Submit"})]})]}):P.jsxs(ht,{column:1,layout:"horizontal",bordered:!0,children:[P.jsx(ht.Item,{label:"Current Security Question",children:n.question||"Not set"}),P.jsx(ht.Item,{label:"Security Answer",children:(n.answer,"********")})]}),!e&&P.jsx("div",{className:"flex justify-center mt-4",children:P.jsx(Xe,{type:"primary",onClick:()=>r(!0),className:"bg-lime-200 text-green-950",children:"Edit"})})]})},{Title:mi}=dr,yi=()=>P.jsxs("div",{className:"flex flex-col w-full p-8",children:[P.jsx("div",{className:"mb-5",children:P.jsx(mi,{level:3,children:"PROFILE"})}),P.jsxs(Dr,{gutter:16,children:[P.jsx(At,{span:12,children:P.jsx(di,{})}),P.jsx(At,{span:12,children:P.jsx(Qn,{})})]}),P.jsx(Dr,{justify:"center",align:"middle",className:"mt-5",children:P.jsx(At,{span:12,children:P.jsx(hi,{})})})]});export{yi as default};
