import{as as D,at as S,au as R,c2 as M,r as c,j as e,a5 as l,c3 as r,aq as o,aG as I,av as z,e as E,T as P}from"./index-CXzfmlPR.js";import{C as T}from"./index-CC7Ff95b.js";import"./PlusOutlined-CG85mdBA.js";const B=()=>{const{Title:d}=P,{notifications:n,markAsRead:x,deleteNotif:f,markAllasread:h,clearall:u}=D(),{userData:m}=S(),{userData:j}=R(),{userData:g}=M(),a=m||j,p=!!g,[t,N]=c.useState(1),[i,b]=c.useState(5),v=async s=>{a&&await x(s)},y=async s=>{a&&await f(s)},k=async()=>{a&&await h()},w=async()=>{a&&await u()},A=n.slice((t-1)*i,t*i);return e.jsxs("div",{className:"flex flex-col w-full p-8",children:[e.jsxs("div",{className:"mb-5 flex justify-between items-center",children:[e.jsx(d,{level:3,children:"Notifications"}),e.jsxs("div",{children:[e.jsx(l,{onClick:k,className:"mr-4 bg-green-400",type:"default",disabled:!a,children:"Mark All as Read"}),e.jsx(l,{onClick:w,type:"default",className:"bg-red-400",disabled:!a,children:"Empty Notifications"})]})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#A8E1C5] rounded-xl shadow p-6",children:p?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(r,{dataSource:A,pagination:!1,renderItem:s=>e.jsx(r.Item,{children:e.jsx(T,{title:"Notification",extra:s.notification_date?e.jsx("small",{children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:{width:"100%",background:"#eaf4e2",border:"none"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black",children:"Message: "}),e.jsx("span",{className:"text-black text-lg",children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black",children:"Details: "}),e.jsx("span",{className:"text-black text-sm",children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(o,{title:"Mark as read",children:e.jsx(l,{onClick:()=>v(s.id),type:"text",className:"bg-green-400",icon:e.jsx(I,{}),disabled:!a})}),e.jsx(o,{title:"Delete notification",children:e.jsx(l,{onClick:()=>y(s.id),type:"text",className:"bg-red-400",icon:e.jsx(z,{}),disabled:!a})})]})]})})},s.id)}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{children:`${(t-1)*i+1}-${Math.min(t*i,n.length)} of ${n.length} notifications`}),e.jsx(E,{current:t,pageSize:i,total:n.length,showSizeChanger:!0,pageSizeOptions:["5","10","20","50"],onChange:(s,C)=>{N(s),b(C)}})]})]})})]})};export{B as default};
