import{r,b as S,u as N,j as b,y as w}from"./index-Cq9w5H2m.js";import{B as v}from"./index-BYQFZGcZ.js";import"./lodash-BtMPIWye.js";import"./createForOfIteratorHelper-ZMyofER8.js";var h=function(){return h=Object.assign||function(i){for(var t,n=1,e=arguments.length;n<e;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},h.apply(this,arguments)},O=r.forwardRef(function(i,t){return S.createElement(v,h({},i,{chartType:"Bar",ref:t}))});const p=["#f4664a","#faad14","#a0d911","#52c41a","#13c2c2","#1890ff","#2f54eb","#722ed1","#eb2f96","#fa541c","#fa8c16","#fadb14","#b7eb8f","#87e8de","#91d5ff","#adc6ff","#d3adf7","#ffadd2","#ffd6e7","#ffe7ba","#fff566","#d9f7be","#e6fffb","#bae7ff","#d6e4ff","#efdbff","#ffccc7","#ffe58f","#fff1b8","#f4ffb8","#d9f7be","#e6fffb","#b5f5ec","#adc6ff"],L=({searchText:i,inventoryData:t,loading:n})=>{const[e,o]=r.useState(window.innerWidth<640),{theme:d,currentTheme:g}=N(),m=r.useCallback(()=>{o(window.innerWidth<640)},[]);r.useEffect(()=>(window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)),[m]);const s=r.useMemo(()=>{if(!t||t.length===0)return[];const a=t.reduce((l,f)=>{const{type:u,quantity:F}=f;return u&&(l[u]||(l[u]=0),l[u]+=parseInt(F)||0),l},{});return Object.entries(a).map(([l,f])=>({labelName:l,value:f})).sort((l,f)=>l.labelName.localeCompare(f.labelName))},[t]),y=r.useMemo(()=>({data:s,xField:"labelName",yField:"value",colorField:"labelName",paddingRight:e?20:75,style:{maxWidth:e?7:18},markBackground:{label:{text:({originData:a})=>`${a.value/1e3*100}% | ${a.value}`,position:"bottom",dx:e?40:80,style:{fill:"#072C1C",fillOpacity:1,fontSize:e?7:9}},style:{fill:"#eee"}},legend:{color:{itemLabelFontSize:e?7:10,title:!1,position:"top",maxCols:s.length,maxRows:1,itemName:{style:{fill:"#072C1C"}},layout:{justifyContent:"center"},items:s.slice().sort((a,c)=>a.labelName.localeCompare(c.labelName)).map(a=>({name:a.labelName,value:a.labelName,marker:{symbol:"square",style:{fill:p[s.findIndex(c=>c.labelName===a.labelName)%p.length],r:5}}}))}},scale:{y:{nice:!0},color:{range:p}},axis:{x:{grid:!0,gridStrokeOpacity:.2,gridLineDash:[1],tick:!0,label:!0,labelFontSize:e?5:9,labelFontStyle:"bold",labelFill:"#072C1C",labelFillOpacity:2},y:{grid:!0,gridStrokeOpacity:.2,gridLineDash:[1],tick:!0,label:!0,title:"Inventory Types Quantity",titleFontSize:e?10:12,titleFontStyle:"bold",scrollY:!e,labelFontSize:e?8:12,labelFill:"#072C1C",labelFillOpacity:2}},interaction:{elementHighlight:!0},autoFit:!0,height:e?270:420}),[s,e]),x=r.useMemo(()=>({height:e?270:420,width:"100%",minWidth:320,padding:e?"2px":"10px",...g!=="default"&&{"--tooltip-bg":d.header,"--tooltip-text":d.textLight,background:d.componentBackground}}),[e,g,d]),C=r.useMemo(()=>b.jsx("div",{className:"loading-spinner",children:b.jsx(w,{size:"large"})}),[]);return b.jsx("div",{className:"history-bar-graph-container",style:x,children:n?C:b.jsx(O,{...y})})};export{L as default};
