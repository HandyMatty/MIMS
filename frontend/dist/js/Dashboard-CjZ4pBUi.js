const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Graph-AlaSfEbV.js","js/index-D_DjqwU6.js","css/index-1RobZ94W.css","js/index-B1CpHeSI.js","js/lodash-acZijzff.js","js/createForOfIteratorHelper-BG_wcgzh.js","css/Graph-pIoUDoxK.css","js/StatisticsBoard-DEwg1FbS.js","js/index-o4RaDSJb.js","js/ToolOutlined-BNQw_Ffh.js","css/StatisticsBoard-7HMhE_z-.css","js/Calendar-sngYxWmt.js","js/index-Bc3K6vAP.js","js/index-B7DcSxpR.js","js/Pagination-B3MLnmFW.js","js/index-Z_iRrtms.js","js/index-CRHxdFZf.js","js/useBubbleLock-BNMpLRc-.js","css/Calendar-BgFIZsnr.css","js/DashboardTable-im24M82U.js","js/QrCodeModal-92HbiXnI.js","js/qrCodeUtils-DyUbhdI5.js","js/HighlightText-BHuCeSLK.js","js/index-BlUNoHI2.js","js/index-GL6TR608.js","js/index-DG92omOn.js","js/index-CYk8aGXX.js","js/BatchPrintItemModal-DkVt5K-6.js","js/addItemToInventory-Bv13ONqm.js","js/offlineUtils-CjPJFgFK.js","js/ExportModal-DlIubpvc.js","js/cacheUtils-rgXBj3X0.js","js/PrinterOutlined-D-ModBVM.js","js/HistoryBarGraph-qHwS50rO.js","css/HistoryBarGraph-BaepREtq.css"])))=>i.map(i=>d[i]);
import{r as l,j as e,I as S,R as D,a as j,C as i,b as u,p as E,S as T,u as m,_ as x}from"./index-D_DjqwU6.js";import{getInventoryData as A}from"./addItemToInventory-Bv13ONqm.js";import{f as I}from"./eventService-BWRv56zX.js";import"./offlineUtils-CjPJFgFK.js";const L=u.lazy(()=>x(()=>import("./Graph-AlaSfEbV.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),R=u.lazy(()=>x(()=>import("./StatisticsBoard-DEwg1FbS.js"),__vite__mapDeps([7,1,2,8,9,10]))),z=u.lazy(()=>x(()=>import("./Calendar-sngYxWmt.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18]))),B=u.lazy(()=>x(()=>import("./DashboardTable-im24M82U.js"),__vite__mapDeps([19,1,2,20,21,5,22,23,24,25,17,26,16,14,27,28,29,30,31,32]))),P=u.lazy(()=>x(()=>import("./HistoryBarGraph-qHwS50rO.js"),__vite__mapDeps([33,1,2,3,4,5,34]))),y=()=>{const{theme:a,currentTheme:r}=m(),s=r!=="default"&&a.border||"#d1d5db",t=r!=="default"&&a.componentBackground||"#A8E1C5";return e.jsxs("div",{className:"status-dashboard skeleton-container",children:[e.jsx(j,{gutter:[12,24],justify:"space-around",className:"mb-5",children:[...Array(4)].map((n,o)=>e.jsx(i,{xs:12,sm:8,md:6,children:e.jsxs("div",{className:"rounded-xl shadow-md border-none p-4 skeleton-optimized",style:{backgroundColor:t},children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded mr-2 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-4 rounded w-20 animate-pulse",style:{backgroundColor:s}})]}),e.jsx("div",{className:"h-8 rounded w-16 mx-auto animate-pulse",style:{backgroundColor:s}})]})},o))}),e.jsx(j,{gutter:[12,24],justify:"space-around",children:[...Array(3)].map((n,o)=>e.jsx(i,{xs:12,sm:8,md:8,children:e.jsxs("div",{className:"rounded-xl shadow-md border-none p-4 skeleton-optimized",style:{backgroundColor:t},children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded mr-2 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-4 rounded w-20 animate-pulse",style:{backgroundColor:s}})]}),e.jsx("div",{className:"h-8 rounded w-16 mx-auto animate-pulse",style:{backgroundColor:s}})]})},o))})]})},v=()=>{const{theme:a,currentTheme:r}=m(),s=r!=="default"&&a.border||"#d1d5db",t=r!=="default"&&a.componentBackground||"#a7f3d0";return e.jsx("div",{className:"w-auto h-full rounded-xl shadow-md flex justify-center items-center chart-skeleton skeleton-container",style:{height:"420px",backgroundColor:t},children:e.jsxs("div",{className:"w-full h-full p-4",children:[e.jsx("div",{className:"h-6 rounded w-32 mb-4 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-64 rounded w-full animate-pulse",style:{backgroundColor:s}}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[e.jsx("div",{className:"h-4 rounded w-16 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-4 rounded w-16 animate-pulse",style:{backgroundColor:s}})]})]})})},k=()=>{const{theme:a,currentTheme:r}=m(),s=r!=="default"&&a.border||"#d1d5db",t=r!=="default"&&a.componentBackground||"#a7f3d0";return e.jsxs("div",{className:"w-full h-full rounded-xl shadow-md p-4 skeleton-container",style:{height:"420px",backgroundColor:t},children:[e.jsx("div",{className:"h-6 rounded w-24 mb-4 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"calendar-skeleton mb-2",children:[...Array(7)].map((n,o)=>e.jsx("div",{className:"h-6 rounded animate-pulse",style:{backgroundColor:s}},o))}),e.jsx("div",{className:"calendar-skeleton",children:[...Array(35)].map((n,o)=>e.jsx("div",{className:"calendar-skeleton-cell rounded animate-pulse",style:{backgroundColor:s}},o))})]})},g=()=>{const{theme:a,currentTheme:r}=m(),s=r!=="default"&&a.border||"#d1d5db",t=r!=="default"&&a.componentBackground||"#a7f3d0";return e.jsxs("div",{className:"w-full h-full mx-auto rounded-xl shadow border-none p-8 table-skeleton",style:{backgroundColor:t},children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mb-4 space-y-2 sm:space-y-0",children:[...Array(5)].map((n,o)=>e.jsx("div",{className:"h-8 rounded w-20 animate-pulse",style:{backgroundColor:s}},o))}),e.jsx("div",{className:"w-auto overflow-x-auto",children:e.jsxs("div",{className:"table-skeleton",children:[e.jsx("div",{className:"table-skeleton-row rounded mb-2",style:{backgroundColor:s}}),[...Array(5)].map((n,o)=>e.jsx("div",{className:"table-skeleton-row rounded mb-2",style:{backgroundColor:s}},o))]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{className:"h-4 rounded w-32 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-8 rounded w-48 animate-pulse",style:{backgroundColor:s}})]})]})},C=()=>{const{theme:a,currentTheme:r}=m(),s=r!=="default"&&a.border||"#d1d5db",t=r!=="default"&&a.componentBackground||"#a7f3d0";return e.jsxs("div",{className:"history-bar-graph-container rounded-xl shadow-md p-4 chart-skeleton skeleton-container",style:{height:"420px",backgroundColor:t},children:[e.jsx("div",{className:"h-6 rounded w-32 mb-4 animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"h-64 rounded w-full animate-pulse",style:{backgroundColor:s}}),e.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:[...Array(6)].map((n,o)=>e.jsx("div",{className:"h-3 rounded w-8 animate-pulse",style:{backgroundColor:s}},o))})]})},H=()=>{const[a,r]=l.useState(""),[s,t]=l.useState([]),[n,o]=l.useState([]),[d,p]=l.useState(!0),[N,f]=l.useState(null);l.useEffect(()=>{(async()=>{try{E([T]);const[b,_]=await Promise.all([A(),I()]);t(b),o(_),f(Date.now())}catch(b){console.error("Error initializing dashboard:",b)}finally{p(!1)}})()},[]);const h=l.useMemo(()=>a.trim()?s.filter(c=>Object.values(c).join(" ").toLowerCase().includes(a.toLowerCase())):s,[s,a]),w=l.useCallback(c=>{r(c.target.value)},[]);return e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center sm:justify-end mb-4 mt-2",children:e.jsx(S,{placeholder:"Search...",prefix:e.jsx(D,{}),onChange:w,className:"w-auto border border-black",allowClear:!0})}),d?e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"mt-5",children:e.jsx(C,{})}),e.jsx("div",{className:"mt-5",children:e.jsx(g,{})}),e.jsxs(j,{gutter:[16,16],className:"mt-5",children:[e.jsx(i,{xs:24,md:16,children:e.jsx(v,{})}),e.jsx(i,{xs:24,md:8,children:e.jsx(k,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(R,{searchText:a,inventoryData:h,loading:d})}),e.jsx("div",{className:"mt-5",children:e.jsx(l.Suspense,{fallback:e.jsx(C,{}),children:e.jsx(P,{searchText:a,inventoryData:h,loading:d})})}),e.jsx("div",{className:"mt-5",children:e.jsx(l.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(B,{searchText:a,inventoryData:h,loading:d,setParentLoading:p,lastSyncTime:N,onRefresh:c=>{t(c),f(Date.now())}})})}),e.jsxs(j,{gutter:[16,16],className:"mt-5",children:[e.jsx(i,{xs:24,md:16,children:e.jsx(l.Suspense,{fallback:e.jsx(v,{}),children:e.jsx(L,{inventoryData:h,loading:d})})}),e.jsx(i,{xs:24,md:8,children:e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(z,{eventsData:n,loading:d})})})]})]})]})};export{H as default};
