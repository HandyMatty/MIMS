import{r as u,b as D,u as j,j as p,n as E}from"./index-D_DjqwU6.js";import{B as S}from"./index-B1CpHeSI.js";import"./lodash-acZijzff.js";import"./createForOfIteratorHelper-BG_wcgzh.js";var g=function(){return g=Object.assign||function(t){for(var r,a=1,d=arguments.length;a<d;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g.apply(this,arguments)},v=u.forwardRef(function(t,r){return D.createElement(S,g({},t,{chartType:"Column",ref:r}))});const O=({inventoryData:t,loading:r})=>{const[a,d]=u.useState(window.innerWidth<640),{theme:n,currentTheme:m}=j(),h=u.useCallback(()=>{d(window.innerWidth<640)},[]);u.useEffect(()=>(window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)),[h]);const w=u.useMemo(()=>{if(!t||t.length===0)return[];const l={},i={};t.forEach(e=>{const c=parseInt(e.quantity)||0;if(e.purchaseDate){const o=new Date(e.purchaseDate);let s;!isNaN(o)&&e.purchaseDate!==""&&e.purchaseDate!==null?s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`:s="NO DATE",l[s]=(l[s]||0)+c}if(e.issuedDate){const o=new Date(e.issuedDate);let s;!isNaN(o)&&e.issuedDate!==""&&e.issuedDate!==null?s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`:s="NO DATE",i[s]=(i[s]||0)+c}});const x=Array.from(new Set([...Object.keys(l),...Object.keys(i)])).sort((e,c)=>new Date(e+"-01")-new Date(c+"-01")),f=[];return x.forEach(e=>{f.push({month:e,type:"Purchased",value:l[e]||0}),f.push({month:e,type:"Issued",value:i[e]||0})}),f},[t]),y=u.useMemo(()=>({data:w,isGroup:!0,xField:"month",yField:"value",seriesField:"type",columnWidthRatio:.4,colorField:"type",color:["#34d399","#60a5fa"],legend:{color:{position:"top",layout:{justifyContent:"center"}}},axis:{x:{label:{autoRotate:!1},labelFontSize:a?7:10},y:{minInterval:1,label:{formatter:l=>`${l}`},labelFontSize:a?7:10}}}),[w,a]),b=u.useMemo(()=>({height:a?270:420,width:"100%",...m!=="default"&&{background:n.componentBackground,color:n.text,"--tooltip-bg":n.header,"--tooltip-text":n.textLight}}),[a,m,n]);return p.jsx("div",{className:"w-auto h-full rounded-xl bg-[#a7f3d0] shadow-md flex justify-center items-center graph-container",style:b,children:r?p.jsx(E,{size:"large"}):p.jsx(v,{...y})})};export{O as default};
