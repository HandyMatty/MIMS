const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/QrCodeGenerator-DeZRKa5f.js","js/index-D_DjqwU6.js","css/index-1RobZ94W.css","js/index-GL6TR608.js","js/index-DG92omOn.js","js/useBubbleLock-BNMpLRc-.js","js/index-CYk8aGXX.js","js/index-CRHxdFZf.js","js/Pagination-B3MLnmFW.js","js/qrCodeUtils-DyUbhdI5.js","js/createForOfIteratorHelper-BG_wcgzh.js","js/QrCodeTable-bsgmkmmt.js","js/QrCodeModal-92HbiXnI.js","js/HighlightText-BHuCeSLK.js","js/index-BlUNoHI2.js","js/debounce-BtCwp3QT.js","js/cacheUtils-rgXBj3X0.js","js/addItemToInventory-Bv13ONqm.js","js/offlineUtils-CjPJFgFK.js","js/FilterOutlined-B9-Kq489.js","js/QrCodeList-BjA829W5.js","js/PrinterOutlined-D-ModBVM.js"])))=>i.map(i=>d[i]);
import{r as s,p as D,j as e,b as h,T as E,_ as x,u as N,S as L}from"./index-D_DjqwU6.js";import{getInventoryData as R}from"./addItemToInventory-Bv13ONqm.js";import"./offlineUtils-CjPJFgFK.js";const g=h.lazy(()=>x(()=>import("./QrCodeGenerator-DeZRKa5f.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),w=h.lazy(()=>x(()=>import("./QrCodeTable-bsgmkmmt.js"),__vite__mapDeps([11,1,2,12,9,10,13,14,15,3,4,5,6,7,8,16,17,18,19]))),Q=h.lazy(()=>x(()=>import("./QrCodeList-BjA829W5.js"),__vite__mapDeps([20,1,2,9,10,4,5,21,8]))),S=()=>{const{theme:o,currentTheme:l}=N(),t=l!=="default"&&o.border||"#d1d5db",r=l!=="default"&&o.componentBackground||"#a7f3d0";return e.jsxs("div",{className:"rounded-xl shadow border-none p-6 skeleton-container",style:{backgroundColor:r},children:[e.jsx("div",{className:"h-8 rounded mb-4 animate-pulse",style:{backgroundColor:t}}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 rounded animate-pulse",style:{backgroundColor:t}}),e.jsx("div",{className:"h-64 rounded animate-pulse",style:{backgroundColor:t}}),e.jsx("div",{className:"h-8 rounded animate-pulse",style:{backgroundColor:t}})]})]})},A=()=>{const{theme:o,currentTheme:l}=N(),t=l!=="default"&&o.border||"#d1d5db",r=l!=="default"&&o.componentBackground||"#a7f3d0";return e.jsxs("div",{className:"rounded-xl shadow border-none p-6 skeleton-container",style:{backgroundColor:r},children:[e.jsx("div",{className:"h-8 rounded mb-4 animate-pulse",style:{backgroundColor:t}}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 rounded animate-pulse",style:{backgroundColor:t}}),e.jsx("div",{className:"h-96 rounded animate-pulse",style:{backgroundColor:t}}),e.jsx("div",{className:"h-8 rounded animate-pulse",style:{backgroundColor:t}})]})]})},M=()=>{const[o,l]=s.useState(null),[t,r]=s.useState("table"),[d,I]=s.useState([]),[c,v]=s.useState(!0),[i,m]=s.useState(null),[b,p]=s.useState([]),[y,C]=s.useState(null),n=s.useCallback(async()=>{try{v(!0),m(null);const a=await R();Array.isArray(a)?(I(a),a.length>0&&!o&&l(a[0]),C(Date.now())):(console.error("Received invalid data:",a),m("Invalid data received"))}catch(a){console.error("Failed to load inventory data:",a),m(a.message)}finally{v(!1)}},[]);s.useEffect(()=>{D([L]),n()},[n]);const u=s.useCallback(()=>{n(),C(Date.now())},[n]),j=s.useCallback(a=>{l(a)},[]),_=s.useCallback(a=>{r(a),a==="list"&&n()},[n]),f=s.useMemo(()=>e.jsx(w,{inventoryData:d,loading:c,error:i,onRefresh:u,onItemSelect:j,lastSyncTime:y}),[d,c,i,u,j,y]),k=s.useMemo(()=>c&&t==="list"?e.jsx(A,{}):e.jsx(Q,{inventoryData:d,error:i,onRefresh:u,selectedIds:b,setSelectedIds:p}),[d,i,u,c,t,b,p]),T=s.useMemo(()=>[{key:"table",label:e.jsx("span",{className:"text-xs",children:"Table View"}),children:f},{key:"list",label:e.jsx("span",{className:"text-xs",children:"QR Code List"}),children:k}],[f,k]);return e.jsxs("div",{className:"container max-w-full",children:[e.jsx("div",{className:"mt-5",children:c?e.jsx(S,{}):e.jsx(s.Suspense,{fallback:e.jsx(S,{}),children:t==="list"?e.jsx(g,{previewItems:d.filter(a=>b.includes(a.id))}):e.jsx(g,{itemDetails:o})})}),e.jsx("div",{className:"mt-5",children:e.jsx(E,{className:"custom-tabs",activeKey:t,onChange:_,type:"card",items:T})})]})};export{M as default};
