import{r,p as D,b as I,d as R,c as z,e as L,j as e,B as n,T as o,L as M,S as c,a as E}from"./index-1bUjThPI.js";import{T as P}from"./index-0WLxIj05.js";import{D as T}from"./index-CdxV5g3D.js";import{L as x}from"./index-B0UM-bpe.js";import{C as U}from"./index-yJHKc8mb.js";import{R as $}from"./CheckOutlined-DLAhGfjk.js";import{R as B}from"./DeleteOutlined-mNjCBndF.js";import{P as G}from"./Pagination-DXStCYex.js";import"./TextArea-DpRMIGjb.js";import"./responsiveObserver-D0DgaF8s.js";import"./index-qPlGQ91r.js";import"./SearchOutlined-CVLzcg_r.js";import"./useBreakpoint-GvLrBt9J.js";import"./useForceUpdate-CHj89O7T.js";import"./row-AIHCUI2m.js";import"./PlusOutlined-DjyVkQwf.js";const ae=()=>{r.useEffect(()=>{D([c])},[]);const{Title:d}=P,{notifications:l,markAsRead:m,deleteNotif:f,markAllasread:u,clearall:h}=I(),{userData:j}=R(),{userData:p}=z(),{userData:g}=L(),t=j||p,N=!!g,[a,b]=r.useState(1),[i,w]=r.useState(5),y=async s=>{t&&await m(s)},S=async s=>{t&&await f(s)},k=async()=>{t&&await u()},v=async()=>{t&&await h()},C=l.slice((a-1)*i,a*i);return e.jsx(r.Suspense,{fallback:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-honeydew",children:[e.jsx(M,{className:"h-[183px] w-[171px] object-cover mb-4 logo-bounce",src:c,alt:"SINSSI Logo",width:171,height:183}),e.jsx(E,{size:"large"}),e.jsx("p",{className:"mt-4 text-darkslategray-200",children:"Loading..."})]}),children:e.jsxs("div",{className:"container max-w-full",children:[e.jsx(T,{style:{borderColor:"#072C1C"},children:e.jsx(d,{level:3,children:"Notifications"})}),e.jsxs("div",{className:"flex justify-center sm:justify-end mb-2 w-auto",children:[e.jsx(n,{onClick:k,className:"mr-4 bg-green-400 w-auto text-xxs sm:text-xs",type:"default",disabled:!t,children:"Mark All as Read"}),e.jsx(n,{onClick:v,type:"default",className:"bg-red-400 text-xxs sm:text-xs w-auto",disabled:!t,children:"Empty Notifications"})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#A8E1C5] rounded-xl shadow p-6",children:N?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(x,{dataSource:C,pagination:!1,renderItem:s=>e.jsx(x.Item,{children:e.jsx(U,{className:"text-xxs sm:text-xs w-auto",title:e.jsx("span",{className:"text-xs sm:text-base font-semibold",children:"Notification"}),extra:s.notification_date?e.jsx("small",{className:"text-xxs sm:text-xs break-words max-w-[60px] sm:max-w-36 block",children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:{width:"100%",background:"#eaf4e2",border:"none"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",children:"Message: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",children:"Details: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(o,{title:"Mark as read",children:e.jsx(n,{onClick:()=>y(s.id),type:"text",size:"small",className:"bg-green-400",icon:e.jsx($,{}),disabled:!t})}),e.jsx(o,{title:"Delete notification",children:e.jsx(n,{onClick:()=>S(s.id),type:"text",size:"small",className:"bg-red-400",icon:e.jsx(B,{}),disabled:!t})})]})]})})},s.id)}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"w-full text-xxs sm:text-xs text-wrap text-center sm:text-left",children:`${(a-1)*i+1}-${Math.min(a*i,l.length)} of ${l.length} notifications`}),e.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:e.jsx(G,{current:a,pageSize:i,total:l.length,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:(s,A)=>{b(s),w(A)},responsive:!0,className:"text-xxs sm:text-xs"})})]})]})})]})})};export{ae as default};
