import{r as s,ac as Xe,f as Me,a7 as oe,x as le,aa as ue,X as Oe,a9 as ve,ba as or,ar as qn,an as Nt,a1 as _e,am as Ge,V as wt,bb as dn,ap as ar,T as mr,E as Yn,ao as ft,n as Lt,o as St,t as vr,v as ye,aC as Ue,R as De,C as nt,av as fn,z as gr,bv as Gn,bw as Vn,I as Ve,bx as Kn,by as pn,J as Jn,aJ as hr,b4 as Qn,bt as eo,ak as mn,G as vn,aw as gn,W as kt,bq as ir,bg as to,bz as sr,K as lr,as as hn,ah as ro,aj as no,ab as st,ad as Be,a5 as bn,bk as Cn,a8 as yn,bl as ze,a6 as wn,ae as oo,aZ as Sn,bA as Nr,bm as ao,bo as io,bB as so,y as Tr,B as dt,bn as cr,$ as lo,a3 as co,j as ne,M as xn,A as $n,u as uo,b as fo,i as Et,s as rt,bC as po}from"./index-CvNWCSBk.js";import{b as mo,_ as Le,h as Rt,d as vo}from"./tslib.es6-DBPwE56R.js";import{u as go}from"./useForceUpdate-Ca9qVhq8.js";import{R as ho}from"./DeleteOutlined-DPK9oQDC.js";import{R as En}from"./EyeOutlined-CuRghNh0.js";import{R as bo}from"./CheckOutlined-BwOprb5D.js";import{C as Co}from"./index-CJlEdl2c.js";import{b as Rn,a as lt,g as yo}from"./addEventListener-CV8oBG-h.js";import{T as wo}from"./index-BM5eBLhp.js";import{D as So}from"./index-DHMA2N0b.js";import{R as xo}from"./PlusOutlined-BYHHjC0-.js";import{S as $o}from"./index-0-1sKDQJ.js";import{I as Eo}from"./index-Dw12Oms-.js";import{D as kr}from"./index-eqT48hrU.js";import"./TextArea-B9qNAVSo.js";import"./SearchOutlined-BNWm_Ebr.js";import"./responsiveObserver-CmNDpH0p.js";import"./useBreakpoint-Dkqa_54G.js";function ur(e,r,t){return(e-r)/(t-r)}function br(e,r,t,n){var o=ur(r,t,n),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function ct(e,r){return Array.isArray(e)?e[r]:e}var ot=s.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Ro=s.createContext({}),Io=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],_r=s.forwardRef(function(e,r){var t=e.prefixCls,n=e.value,o=e.valueIndex,i=e.onStartMove,l=e.onDelete,a=e.style,u=e.render,c=e.dragging,d=e.draggingDelete,f=e.onOffsetChange,b=e.onChangeComplete,C=e.onFocus,v=e.onMouseEnter,g=Xe(e,Io),p=s.useContext(ot),y=p.min,m=p.max,w=p.direction,$=p.disabled,h=p.keyboard,I=p.range,E=p.tabIndex,R=p.ariaLabelForHandle,M=p.ariaLabelledByForHandle,x=p.ariaValueTextFormatterForHandle,S=p.styles,P=p.classNames,O="".concat(t,"-handle"),k=function(B){$||i(B,o)},L=function(B){C==null||C(B,o)},z=function(B){v(B,o)},_=function(B){if(!$&&h){var N=null;switch(B.which||B.keyCode){case Oe.LEFT:N=w==="ltr"||w==="btt"?-1:1;break;case Oe.RIGHT:N=w==="ltr"||w==="btt"?1:-1;break;case Oe.UP:N=w!=="ttb"?1:-1;break;case Oe.DOWN:N=w!=="ttb"?-1:1;break;case Oe.HOME:N="min";break;case Oe.END:N="max";break;case Oe.PAGE_UP:N=2;break;case Oe.PAGE_DOWN:N=-2;break;case Oe.BACKSPACE:case Oe.DELETE:l(o);break}N!==null&&(B.preventDefault(),f(N,o))}},ee=function(B){switch(B.which||B.keyCode){case Oe.LEFT:case Oe.RIGHT:case Oe.UP:case Oe.DOWN:case Oe.HOME:case Oe.END:case Oe.PAGE_UP:case Oe.PAGE_DOWN:b==null||b();break}},Y=br(w,n,y,m),K={};if(o!==null){var G;K={tabIndex:$?null:ct(E,o),role:"slider","aria-valuemin":y,"aria-valuemax":m,"aria-valuenow":n,"aria-disabled":$,"aria-label":ct(R,o),"aria-labelledby":ct(M,o),"aria-valuetext":(G=ct(x,o))===null||G===void 0?void 0:G(n),"aria-orientation":w==="ltr"||w==="rtl"?"horizontal":"vertical",onMouseDown:k,onTouchStart:k,onFocus:L,onMouseEnter:z,onKeyDown:_,onKeyUp:ee}}var te=s.createElement("div",Me({ref:r,className:le(O,ue(ue(ue({},"".concat(O,"-").concat(o+1),o!==null&&I),"".concat(O,"-dragging"),c),"".concat(O,"-dragging-delete"),d),P.handle),style:oe(oe(oe({},Y),a),S.handle)},K,g));return u&&(te=u(te,{index:o,prefixCls:t,value:n,dragging:c,draggingDelete:d})),te}),Po=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Mo=s.forwardRef(function(e,r){var t=e.prefixCls,n=e.style,o=e.onStartMove,i=e.onOffsetChange,l=e.values,a=e.handleRender,u=e.activeHandleRender,c=e.draggingIndex,d=e.draggingDelete,f=e.onFocus,b=Xe(e,Po),C=s.useRef({}),v=s.useState(!1),g=ve(v,2),p=g[0],y=g[1],m=s.useState(-1),w=ve(m,2),$=w[0],h=w[1],I=function(S){h(S),y(!0)},E=function(S,P){I(P),f==null||f(S)},R=function(S,P){I(P)};s.useImperativeHandle(r,function(){return{focus:function(S){var P;(P=C.current[S])===null||P===void 0||P.focus()},hideHelp:function(){or.flushSync(function(){y(!1)})}}});var M=oe({prefixCls:t,onStartMove:o,onOffsetChange:i,render:a,onFocus:E,onMouseEnter:R},b);return s.createElement(s.Fragment,null,l.map(function(x,S){var P=c===S;return s.createElement(_r,Me({ref:function(k){k?C.current[S]=k:delete C.current[S]},dragging:P,draggingDelete:P&&d,style:ct(n,S),key:S,value:x,valueIndex:S},M))}),u&&p&&s.createElement(_r,Me({key:"a11y"},M,{value:l[$],valueIndex:null,dragging:c!==-1,draggingDelete:d,render:u,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Oo=function(r){var t=r.prefixCls,n=r.style,o=r.children,i=r.value,l=r.onClick,a=s.useContext(ot),u=a.min,c=a.max,d=a.direction,f=a.includedStart,b=a.includedEnd,C=a.included,v="".concat(t,"-text"),g=br(d,i,u,c);return s.createElement("span",{className:le(v,ue({},"".concat(v,"-active"),C&&f<=i&&i<=b)),style:oe(oe({},g),n),onMouseDown:function(y){y.stopPropagation()},onClick:function(){l(i)}},o)},Do=function(r){var t=r.prefixCls,n=r.marks,o=r.onClick,i="".concat(t,"-mark");return n.length?s.createElement("div",{className:i},n.map(function(l){var a=l.value,u=l.style,c=l.label;return s.createElement(Oo,{key:a,prefixCls:i,style:u,value:a,onClick:o},c)})):null},No=function(r){var t=r.prefixCls,n=r.value,o=r.style,i=r.activeStyle,l=s.useContext(ot),a=l.min,u=l.max,c=l.direction,d=l.included,f=l.includedStart,b=l.includedEnd,C="".concat(t,"-dot"),v=d&&f<=n&&n<=b,g=oe(oe({},br(c,n,a,u)),typeof o=="function"?o(n):o);return v&&(g=oe(oe({},g),typeof i=="function"?i(n):i)),s.createElement("span",{className:le(C,ue({},"".concat(C,"-active"),v)),style:g})},To=function(r){var t=r.prefixCls,n=r.marks,o=r.dots,i=r.style,l=r.activeStyle,a=s.useContext(ot),u=a.min,c=a.max,d=a.step,f=s.useMemo(function(){var b=new Set;if(n.forEach(function(v){b.add(v.value)}),o&&d!==null)for(var C=u;C<=c;)b.add(C),C+=d;return Array.from(b)},[u,c,d,o,n]);return s.createElement("div",{className:"".concat(t,"-step")},f.map(function(b){return s.createElement(No,{prefixCls:t,key:b,value:b,style:i,activeStyle:l})}))},Ar=function(r){var t=r.prefixCls,n=r.style,o=r.start,i=r.end,l=r.index,a=r.onStartMove,u=r.replaceCls,c=s.useContext(ot),d=c.direction,f=c.min,b=c.max,C=c.disabled,v=c.range,g=c.classNames,p="".concat(t,"-track"),y=ur(o,f,b),m=ur(i,f,b),w=function(E){!C&&a&&a(E,-1)},$={};switch(d){case"rtl":$.right="".concat(y*100,"%"),$.width="".concat(m*100-y*100,"%");break;case"btt":$.bottom="".concat(y*100,"%"),$.height="".concat(m*100-y*100,"%");break;case"ttb":$.top="".concat(y*100,"%"),$.height="".concat(m*100-y*100,"%");break;default:$.left="".concat(y*100,"%"),$.width="".concat(m*100-y*100,"%")}var h=u||le(p,ue(ue({},"".concat(p,"-").concat(l+1),l!==null&&v),"".concat(t,"-track-draggable"),a),g.track);return s.createElement("div",{className:h,style:oe(oe({},$),n),onMouseDown:w,onTouchStart:w})},ko=function(r){var t=r.prefixCls,n=r.style,o=r.values,i=r.startPoint,l=r.onStartMove,a=s.useContext(ot),u=a.included,c=a.range,d=a.min,f=a.styles,b=a.classNames,C=s.useMemo(function(){if(!c){if(o.length===0)return[];var g=i??d,p=o[0];return[{start:Math.min(g,p),end:Math.max(g,p)}]}for(var y=[],m=0;m<o.length-1;m+=1)y.push({start:o[m],end:o[m+1]});return y},[o,c,i,d]);if(!u)return null;var v=b.tracks||f.tracks?s.createElement(Ar,{index:null,prefixCls:t,start:C[0].start,end:C[C.length-1].end,replaceCls:le(b.tracks,"".concat(t,"-tracks")),style:f.tracks}):null;return s.createElement(s.Fragment,null,v,C.map(function(g,p){var y=g.start,m=g.end;return s.createElement(Ar,{index:p,prefixCls:t,style:oe(oe({},ct(n,p)),f.track),start:y,end:m,key:p,onStartMove:l})}))},_o=130;function jr(e){var r="targetTouches"in e?e.targetTouches[0]:e;return{pageX:r.pageX,pageY:r.pageY}}function Ao(e,r,t,n,o,i,l,a,u,c,d){var f=s.useState(null),b=ve(f,2),C=b[0],v=b[1],g=s.useState(-1),p=ve(g,2),y=p[0],m=p[1],w=s.useState(!1),$=ve(w,2),h=$[0],I=$[1],E=s.useState(t),R=ve(E,2),M=R[0],x=R[1],S=s.useState(t),P=ve(S,2),O=P[0],k=P[1],L=s.useRef(null),z=s.useRef(null),_=s.useRef(null),ee=s.useContext(Ro),Y=ee.onDragStart,K=ee.onDragChange;qn(function(){y===-1&&x(t)},[t,y]),s.useEffect(function(){return function(){document.removeEventListener("mousemove",L.current),document.removeEventListener("mouseup",z.current),_.current&&(_.current.removeEventListener("touchmove",L.current),_.current.removeEventListener("touchend",z.current))}},[]);var G=function(T,F,A){F!==void 0&&v(F),x(T);var J=T;A&&(J=T.filter(function(j,W){return W!==y})),l(J),K&&K({rawValues:T,deleteIndex:A?y:-1,draggingIndex:y,draggingValue:F})},te=Nt(function(N,T,F){if(N===-1){var A=O[0],J=O[O.length-1],j=n-A,W=o-J,Z=T*(o-n);Z=Math.max(Z,j),Z=Math.min(Z,W);var H=i(A+Z);Z=H-A;var U=O.map(function(X){return X+Z});G(U)}else{var ae=(o-n)*T,re=_e(M);re[N]=O[N];var q=u(re,ae,N,"dist");G(q.values,q.value,F)}}),D=function(T,F,A){T.stopPropagation();var J=A||t,j=J[F];m(F),v(j),k(J),x(J),I(!1);var W=jr(T),Z=W.pageX,H=W.pageY,U=!1;Y&&Y({rawValues:J,draggingIndex:F,draggingValue:j});var ae=function(X){X.preventDefault();var ce=jr(X),ie=ce.pageX,pe=ce.pageY,$e=ie-Z,ge=pe-H,Re=e.current.getBoundingClientRect(),be=Re.width,Ee=Re.height,Ae,me;switch(r){case"btt":Ae=-ge/Ee,me=$e;break;case"ttb":Ae=ge/Ee,me=$e;break;case"rtl":Ae=-$e/be,me=ge;break;default:Ae=$e/be,me=ge}U=c?Math.abs(me)>_o&&d<M.length:!1,I(U),te(F,Ae,U)},re=function q(X){X.preventDefault(),document.removeEventListener("mouseup",q),document.removeEventListener("mousemove",ae),_.current&&(_.current.removeEventListener("touchmove",L.current),_.current.removeEventListener("touchend",z.current)),L.current=null,z.current=null,_.current=null,a(U),m(-1),I(!1)};document.addEventListener("mouseup",re),document.addEventListener("mousemove",ae),T.currentTarget.addEventListener("touchend",re),T.currentTarget.addEventListener("touchmove",ae),L.current=ae,z.current=re,_.current=T.currentTarget},B=s.useMemo(function(){var N=_e(t).sort(function(j,W){return j-W}),T=_e(M).sort(function(j,W){return j-W}),F={};T.forEach(function(j){F[j]=(F[j]||0)+1}),N.forEach(function(j){F[j]=(F[j]||0)-1});var A=c?1:0,J=Object.values(F).reduce(function(j,W){return j+Math.abs(W)},0);return J<=A?M:t},[t,M,c]);return[y,C,h,B,D]}function jo(e,r,t,n,o,i){var l=s.useCallback(function(C){return Math.max(e,Math.min(r,C))},[e,r]),a=s.useCallback(function(C){if(t!==null){var v=e+Math.round((l(C)-e)/t)*t,g=function(w){return(String(w).split(".")[1]||"").length},p=Math.max(g(t),g(r),g(e)),y=Number(v.toFixed(p));return e<=y&&y<=r?y:null}return null},[t,e,r,l]),u=s.useCallback(function(C){var v=l(C),g=n.map(function(m){return m.value});t!==null&&g.push(a(C)),g.push(e,r);var p=g[0],y=r-e;return g.forEach(function(m){var w=Math.abs(v-m);w<=y&&(p=m,y=w)}),p},[e,r,n,t,l,a]),c=function C(v,g,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var m,w=v[p],$=w+g,h=[];n.forEach(function(x){h.push(x.value)}),h.push(e,r),h.push(a(w));var I=g>0?1:-1;y==="unit"?h.push(a(w+I*t)):h.push(a($)),h=h.filter(function(x){return x!==null}).filter(function(x){return g<0?x<=w:x>=w}),y==="unit"&&(h=h.filter(function(x){return x!==w}));var E=y==="unit"?w:$;m=h[0];var R=Math.abs(m-E);if(h.forEach(function(x){var S=Math.abs(x-E);S<R&&(m=x,R=S)}),m===void 0)return g<0?e:r;if(y==="dist")return m;if(Math.abs(g)>1){var M=_e(v);return M[p]=m,C(M,g-I,p,y)}return m}else{if(g==="min")return e;if(g==="max")return r}},d=function(v,g,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",m=v[p],w=c(v,g,p,y);return{value:w,changed:w!==m}},f=function(v){return i===null&&v===0||typeof i=="number"&&v<i},b=function(v,g,p){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",m=v.map(u),w=m[p],$=c(m,g,p,y);if(m[p]=$,o===!1){var h=i||0;p>0&&m[p-1]!==w&&(m[p]=Math.max(m[p],m[p-1]+h)),p<m.length-1&&m[p+1]!==w&&(m[p]=Math.min(m[p],m[p+1]-h))}else if(typeof i=="number"||i===null){for(var I=p+1;I<m.length;I+=1)for(var E=!0;f(m[I]-m[I-1])&&E;){var R=d(m,1,I);m[I]=R.value,E=R.changed}for(var M=p;M>0;M-=1)for(var x=!0;f(m[M]-m[M-1])&&x;){var S=d(m,-1,M-1);m[M-1]=S.value,x=S.changed}for(var P=m.length-1;P>0;P-=1)for(var O=!0;f(m[P]-m[P-1])&&O;){var k=d(m,-1,P-1);m[P-1]=k.value,O=k.changed}for(var L=0;L<m.length-1;L+=1)for(var z=!0;f(m[L+1]-m[L])&&z;){var _=d(m,1,L+1);m[L+1]=_.value,z=_.changed}}return{value:m[p],values:m}};return[u,b]}function Lo(e){return s.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var r=e.editable,t=e.draggableTrack,n=e.minCount,o=e.maxCount;return[!0,r,!r&&t,n||0,o]},[e])}var zo=s.forwardRef(function(e,r){var t=e.prefixCls,n=t===void 0?"rc-slider":t,o=e.className,i=e.style,l=e.classNames,a=e.styles,u=e.id,c=e.disabled,d=c===void 0?!1:c,f=e.keyboard,b=f===void 0?!0:f,C=e.autoFocus,v=e.onFocus,g=e.onBlur,p=e.min,y=p===void 0?0:p,m=e.max,w=m===void 0?100:m,$=e.step,h=$===void 0?1:$,I=e.value,E=e.defaultValue,R=e.range,M=e.count,x=e.onChange,S=e.onBeforeChange,P=e.onAfterChange,O=e.onChangeComplete,k=e.allowCross,L=k===void 0?!0:k,z=e.pushable,_=z===void 0?!1:z,ee=e.reverse,Y=e.vertical,K=e.included,G=K===void 0?!0:K,te=e.startPoint,D=e.trackStyle,B=e.handleStyle,N=e.railStyle,T=e.dotStyle,F=e.activeDotStyle,A=e.marks,J=e.dots,j=e.handleRender,W=e.activeHandleRender,Z=e.track,H=e.tabIndex,U=H===void 0?0:H,ae=e.ariaLabelForHandle,re=e.ariaLabelledByForHandle,q=e.ariaValueTextFormatterForHandle,X=s.useRef(null),ce=s.useRef(null),ie=s.useMemo(function(){return Y?ee?"ttb":"btt":ee?"rtl":"ltr"},[ee,Y]),pe=Lo(R),$e=ve(pe,5),ge=$e[0],Re=$e[1],be=$e[2],Ee=$e[3],Ae=$e[4],me=s.useMemo(function(){return isFinite(y)?y:0},[y]),Ie=s.useMemo(function(){return isFinite(w)?w:100},[w]),Ne=s.useMemo(function(){return h!==null&&h<=0?1:h},[h]),Fe=s.useMemo(function(){return typeof _=="boolean"?_?Ne:!1:_>=0?_:!1},[_,Ne]),We=s.useMemo(function(){return Object.keys(A||{}).map(function(Ce){var V=A[Ce],xe={value:Number(Ce)};return V&&Ge(V)==="object"&&!s.isValidElement(V)&&("label"in V||"style"in V)?(xe.style=V.style,xe.label=V.label):xe.label=V,xe}).filter(function(Ce){var V=Ce.label;return V||typeof V=="number"}).sort(function(Ce,V){return Ce.value-V.value})},[A]),at=jo(me,Ie,Ne,We,L,Fe),Q=ve(at,2),fe=Q[0],we=Q[1],se=wt(E,{value:I}),he=ve(se,2),de=he[0],Te=he[1],Se=s.useMemo(function(){var Ce=de==null?[]:Array.isArray(de)?de:[de],V=ve(Ce,1),xe=V[0],Pe=xe===void 0?me:xe,ke=de===null?[]:[Pe];if(ge){if(ke=_e(Ce),M||de===void 0){var Ke=M>=0?M+1:2;for(ke=ke.slice(0,Ke);ke.length<Ke;){var Ze;ke.push((Ze=ke[ke.length-1])!==null&&Ze!==void 0?Ze:me)}}ke.sort(function(qe,Ye){return qe-Ye})}return ke.forEach(function(qe,Ye){ke[Ye]=fe(qe)}),ke},[de,ge,me,M,fe]),je=function(V){return ge?V:V[0]},mt=Nt(function(Ce){var V=_e(Ce).sort(function(xe,Pe){return xe-Pe});x&&!dn(V,Se,!0)&&x(je(V)),Te(V)}),yr=Nt(function(Ce){Ce&&X.current.hideHelp();var V=je(Se);P==null||P(V),ar(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(V)}),jn=function(V){if(!(d||!Re||Se.length<=Ee)){var xe=_e(Se);xe.splice(V,1),S==null||S(je(xe)),mt(xe);var Pe=Math.max(0,V-1);X.current.hideHelp(),X.current.focus(Pe)}},Ln=Ao(ce,ie,Se,me,Ie,fe,mt,yr,we,Re,Ee),vt=ve(Ln,5),wr=vt[0],zn=vt[1],Fn=vt[2],Wt=vt[3],Sr=vt[4],xr=function(V,xe){if(!d){var Pe=_e(Se),ke=0,Ke=0,Ze=Ie-me;Se.forEach(function(Je,$t){var Dr=Math.abs(V-Je);Dr<=Ze&&(Ze=Dr,ke=$t),Je<V&&(Ke=$t)});var qe=ke;Re&&Ze!==0&&(!Ae||Se.length<Ae)?(Pe.splice(Ke+1,0,V),qe=Ke+1):Pe[ke]=V,ge&&!Se.length&&M===void 0&&Pe.push(V);var Ye=je(Pe);if(S==null||S(Ye),mt(Pe),xe){var tt,it;(tt=document.activeElement)===null||tt===void 0||(it=tt.blur)===null||it===void 0||it.call(tt),X.current.focus(qe),Sr(xe,qe,Pe)}else P==null||P(Ye),ar(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(Ye)}},Bn=function(V){V.preventDefault();var xe=ce.current.getBoundingClientRect(),Pe=xe.width,ke=xe.height,Ke=xe.left,Ze=xe.top,qe=xe.bottom,Ye=xe.right,tt=V.clientX,it=V.clientY,Je;switch(ie){case"btt":Je=(qe-it)/ke;break;case"ttb":Je=(it-Ze)/ke;break;case"rtl":Je=(Ye-tt)/Pe;break;default:Je=(tt-Ke)/Pe}var $t=me+Je*(Ie-me);xr(fe($t),V)},Wn=s.useState(null),$r=ve(Wn,2),Ht=$r[0],Er=$r[1],Hn=function(V,xe){if(!d){var Pe=we(Se,V,xe);S==null||S(je(Se)),mt(Pe.values),Er(Pe.value)}};s.useEffect(function(){if(Ht!==null){var Ce=Se.indexOf(Ht);Ce>=0&&X.current.focus(Ce)}Er(null)},[Ht]);var Un=s.useMemo(function(){return be&&Ne===null?!1:be},[be,Ne]),Rr=Nt(function(Ce,V){Sr(Ce,V),S==null||S(je(Se))}),Ir=wr!==-1;s.useEffect(function(){if(!Ir){var Ce=Se.lastIndexOf(zn);X.current.focus(Ce)}},[Ir]);var gt=s.useMemo(function(){return _e(Wt).sort(function(Ce,V){return Ce-V})},[Wt]),Xn=s.useMemo(function(){return ge?[gt[0],gt[gt.length-1]]:[me,gt[0]]},[gt,ge,me]),Pr=ve(Xn,2),Mr=Pr[0],Or=Pr[1];s.useImperativeHandle(r,function(){return{focus:function(){X.current.focus(0)},blur:function(){var V,xe=document,Pe=xe.activeElement;(V=ce.current)!==null&&V!==void 0&&V.contains(Pe)&&(Pe==null||Pe.blur())}}}),s.useEffect(function(){C&&X.current.focus(0)},[]);var Zn=s.useMemo(function(){return{min:me,max:Ie,direction:ie,disabled:d,keyboard:b,step:Ne,included:G,includedStart:Mr,includedEnd:Or,range:ge,tabIndex:U,ariaLabelForHandle:ae,ariaLabelledByForHandle:re,ariaValueTextFormatterForHandle:q,styles:a||{},classNames:l||{}}},[me,Ie,ie,d,b,Ne,G,Mr,Or,ge,U,ae,re,q,a,l]);return s.createElement(ot.Provider,{value:Zn},s.createElement("div",{ref:ce,className:le(n,o,ue(ue(ue(ue({},"".concat(n,"-disabled"),d),"".concat(n,"-vertical"),Y),"".concat(n,"-horizontal"),!Y),"".concat(n,"-with-marks"),We.length)),style:i,onMouseDown:Bn,id:u},s.createElement("div",{className:le("".concat(n,"-rail"),l==null?void 0:l.rail),style:oe(oe({},N),a==null?void 0:a.rail)}),Z!==!1&&s.createElement(ko,{prefixCls:n,style:D,values:Se,startPoint:te,onStartMove:Un?Rr:void 0}),s.createElement(To,{prefixCls:n,marks:We,dots:J,style:T,activeStyle:F}),s.createElement(Mo,{ref:X,prefixCls:n,style:B,values:Wt,draggingIndex:wr,draggingDelete:Fn,onStartMove:Rr,onOffsetChange:Hn,onFocus:v,onBlur:g,handleRender:j,activeHandleRender:W,onChangeComplete:yr,onDelete:Re?jn:void 0}),s.createElement(Do,{prefixCls:n,marks:We,onClick:xr})))});const Lr=s.forwardRef((e,r)=>{const{open:t,draggingDelete:n}=e,o=s.useRef(null),i=t&&!n,l=s.useRef(null);function a(){ft.cancel(l.current),l.current=null}function u(){l.current=ft(()=>{var c;(c=o.current)===null||c===void 0||c.forceAlign(),l.current=null})}return s.useEffect(()=>(i?u():a(),a),[i,e.title]),s.createElement(mr,Object.assign({ref:Yn(o,r)},e,{open:i}))}),Fo=e=>{const{componentCls:r,antCls:t,controlSize:n,dotSize:o,marginFull:i,marginPart:l,colorFillContentHover:a,handleColorDisabled:u,calc:c,handleSize:d,handleSizeHover:f,handleActiveColor:b,handleActiveOutlineColor:C,handleLineWidth:v,handleLineWidthHover:g,motionDurationMid:p}=e;return{[r]:Object.assign(Object.assign({},vr(e)),{position:"relative",height:n,margin:`${ye(l)} ${ye(i)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ye(i)} ${ye(l)}`},[`${r}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${p}`},[`${r}-track,${r}-tracks`]:{position:"absolute",transition:`background-color ${p}`},[`${r}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${r}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${r}-rail`]:{backgroundColor:e.railHoverBg},[`${r}-track`]:{backgroundColor:e.trackHoverBg},[`${r}-dot`]:{borderColor:a},[`${r}-handle::after`]:{boxShadow:`0 0 0 ${ye(v)} ${e.colorPrimaryBorderHover}`},[`${r}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${r}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(v).mul(-1).equal(),insetBlockStart:c(v).mul(-1).equal(),width:c(d).add(c(v).mul(2)).equal(),height:c(d).add(c(v).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ye(v)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${p},
            inset-block-start ${p},
            width ${p},
            height ${p},
            box-shadow ${p},
            outline ${p}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(f).sub(d).div(2).add(g).mul(-1).equal(),insetBlockStart:c(f).sub(d).div(2).add(g).mul(-1).equal(),width:c(f).add(c(g).mul(2)).equal(),height:c(f).add(c(g).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ye(g)} ${b}`,outline:`6px solid ${C}`,width:f,height:f,insetInlineStart:e.calc(d).sub(f).div(2).equal(),insetBlockStart:e.calc(d).sub(f).div(2).equal()}}},[`&-lock ${r}-handle`]:{"&::before, &::after":{transition:"none"}},[`${r}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${r}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${r}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${r}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${ye(v)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${r}-disabled`]:{cursor:"not-allowed",[`${r}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${r}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${r}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${r}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${ye(v)} ${u}`,insetInlineStart:0,insetBlockStart:0},[`
          ${r}-mark-text,
          ${r}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${t}-tooltip-inner`]:{minWidth:"unset"}})}},In=(e,r)=>{const{componentCls:t,railSize:n,handleSize:o,dotSize:i,marginFull:l,calc:a}=e,u=r?"paddingBlock":"paddingInline",c=r?"width":"height",d=r?"height":"width",f=r?"insetBlockStart":"insetInlineStart",b=r?"top":"insetInlineStart",C=a(n).mul(3).sub(o).div(2).equal(),v=a(o).sub(n).div(2).equal(),g=r?{borderWidth:`${ye(v)} 0`,transform:`translateY(${ye(a(v).mul(-1).equal())})`}:{borderWidth:`0 ${ye(v)}`,transform:`translateX(${ye(e.calc(v).mul(-1).equal())})`};return{[u]:n,[d]:a(n).mul(3).equal(),[`${t}-rail`]:{[c]:"100%",[d]:n},[`${t}-track,${t}-tracks`]:{[d]:n},[`${t}-track-draggable`]:Object.assign({},g),[`${t}-handle`]:{[f]:C},[`${t}-mark`]:{insetInlineStart:0,top:0,[b]:a(n).mul(3).add(r?0:l).equal(),[c]:"100%"},[`${t}-step`]:{insetInlineStart:0,top:0,[b]:n,[c]:"100%",[d]:n},[`${t}-dot`]:{position:"absolute",[f]:a(n).sub(i).div(2).equal()}}},Bo=e=>{const{componentCls:r,marginPartWithMark:t}=e;return{[`${r}-horizontal`]:Object.assign(Object.assign({},In(e,!0)),{[`&${r}-with-marks`]:{marginBottom:t}})}},Wo=e=>{const{componentCls:r}=e;return{[`${r}-vertical`]:Object.assign(Object.assign({},In(e,!1)),{height:"100%"})}},Ho=e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,o=e.lineWidth+1,i=e.lineWidth+1*1.5,l=e.colorPrimary,a=new Ue(l).setAlpha(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:o,handleLineWidthHover:i,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:l,handleActiveOutlineColor:a,handleColorDisabled:new Ue(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Uo=Lt("Slider",e=>{const r=St(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Fo(r),Bo(r),Wo(r)]},Ho),Xo=s.createContext({});function Ut(){const[e,r]=s.useState(!1),t=s.useRef(),n=()=>{ft.cancel(t.current)},o=i=>{n(),i?r(i):t.current=ft(()=>{r(i)})};return s.useEffect(()=>n,[]),[e,o]}var Zo=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};function qo(e,r){return e||e===null?e:r||r===null?r:t=>typeof t=="number"?t.toString():""}const Xt=De.forwardRef((e,r)=>{const{prefixCls:t,range:n,className:o,rootClassName:i,style:l,disabled:a,tooltipPrefixCls:u,tipFormatter:c,tooltipVisible:d,getTooltipPopupContainer:f,tooltipPlacement:b,tooltip:C={},onChangeComplete:v}=e,g=Zo(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:p}=e,{direction:y,slider:m,getPrefixCls:w,getPopupContainer:$}=De.useContext(nt),h=De.useContext(fn),I=a??h,{handleRender:E,direction:R}=De.useContext(Xo),x=(R||y)==="rtl",[S,P]=Ut(),[O,k]=Ut(),L=Object.assign({},C),{open:z,placement:_,getPopupContainer:ee,prefixCls:Y,formatter:K}=L,G=z??d,te=(S||O)&&G!==!1,D=qo(K,c),[B,N]=Ut(),T=q=>{v==null||v(q),N(!1)},F=(q,X)=>q||(X?x?"left":"right":"top"),A=w("slider",t),[J,j,W]=Uo(A),Z=le(o,m==null?void 0:m.className,i,{[`${A}-rtl`]:x,[`${A}-lock`]:B},j,W);x&&!g.vertical&&(g.reverse=!g.reverse),De.useEffect(()=>{const q=()=>{ft(()=>{k(!1)},1)};return document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}},[]);const H=n&&!G,U=E||((q,X)=>{const{index:ce}=X,ie=q.props;function pe(be,Ee,Ae){var me,Ie,Ne,Fe;Ae&&((Ie=(me=g)[be])===null||Ie===void 0||Ie.call(me,Ee)),(Fe=(Ne=ie)[be])===null||Fe===void 0||Fe.call(Ne,Ee)}const $e=Object.assign(Object.assign({},ie),{onMouseEnter:be=>{P(!0),pe("onMouseEnter",be)},onMouseLeave:be=>{P(!1),pe("onMouseLeave",be)},onMouseDown:be=>{k(!0),N(!0),pe("onMouseDown",be)},onFocus:be=>{var Ee;k(!0),(Ee=g.onFocus)===null||Ee===void 0||Ee.call(g,be),pe("onFocus",be,!0)},onBlur:be=>{var Ee;k(!1),(Ee=g.onBlur)===null||Ee===void 0||Ee.call(g,be),pe("onBlur",be,!0)}}),ge=De.cloneElement(q,$e),Re=(!!G||te)&&D!==null;return H?ge:De.createElement(Lr,Object.assign({},L,{prefixCls:w("tooltip",Y??u),title:D?D(X.value):"",open:Re,placement:F(_??b,p),key:ce,overlayClassName:`${A}-tooltip`,getPopupContainer:ee||f||$}),ge)}),ae=H?(q,X)=>{const ce=De.cloneElement(q,{style:Object.assign(Object.assign({},q.props.style),{visibility:"hidden"})});return De.createElement(Lr,Object.assign({},L,{prefixCls:w("tooltip",Y??u),title:D?D(X.value):"",open:D!==null&&te,placement:F(_??b,p),key:"tooltip",overlayClassName:`${A}-tooltip`,getPopupContainer:ee||f||$,draggingDelete:X.draggingDelete}),ce)}:void 0,re=Object.assign(Object.assign({},m==null?void 0:m.style),l);return J(De.createElement(zo,Object.assign({},g,{step:g.step,range:n,className:Z,style:re,disabled:I,ref:r,prefixCls:A,handleRender:U,activeHandleRender:ae,onChangeComplete:T})))});var xt=s.createContext(null),Yo=function(r){var t=r.visible,n=r.maskTransitionName,o=r.getContainer,i=r.prefixCls,l=r.rootClassName,a=r.icons,u=r.countRender,c=r.showSwitch,d=r.showProgress,f=r.current,b=r.transform,C=r.count,v=r.scale,g=r.minScale,p=r.maxScale,y=r.closeIcon,m=r.onActive,w=r.onClose,$=r.onZoomIn,h=r.onZoomOut,I=r.onRotateRight,E=r.onRotateLeft,R=r.onFlipX,M=r.onFlipY,x=r.onReset,S=r.toolbarRender,P=r.zIndex,O=r.image,k=s.useContext(xt),L=a.rotateLeft,z=a.rotateRight,_=a.zoomIn,ee=a.zoomOut,Y=a.close,K=a.left,G=a.right,te=a.flipX,D=a.flipY,B="".concat(i,"-operations-operation");s.useEffect(function(){var re=function(X){X.keyCode===Oe.ESC&&w()};return t&&window.addEventListener("keydown",re),function(){window.removeEventListener("keydown",re)}},[t]);var N=function(q,X){q.preventDefault(),q.stopPropagation(),m(X)},T=s.useCallback(function(re){var q=re.type,X=re.disabled,ce=re.onClick,ie=re.icon;return s.createElement("div",{key:q,className:le(B,"".concat(i,"-operations-operation-").concat(q),ue({},"".concat(i,"-operations-operation-disabled"),!!X)),onClick:ce},ie)},[B,i]),F=c?T({icon:K,onClick:function(q){return N(q,-1)},type:"prev",disabled:f===0}):void 0,A=c?T({icon:G,onClick:function(q){return N(q,1)},type:"next",disabled:f===C-1}):void 0,J=T({icon:D,onClick:M,type:"flipY"}),j=T({icon:te,onClick:R,type:"flipX"}),W=T({icon:L,onClick:E,type:"rotateLeft"}),Z=T({icon:z,onClick:I,type:"rotateRight"}),H=T({icon:ee,onClick:h,type:"zoomOut",disabled:v<=g}),U=T({icon:_,onClick:$,type:"zoomIn",disabled:v===p}),ae=s.createElement("div",{className:"".concat(i,"-operations")},J,j,W,Z,H,U);return s.createElement(gr,{visible:t,motionName:n},function(re){var q=re.className,X=re.style;return s.createElement(Gn,{open:!0,getContainer:o??document.body},s.createElement("div",{className:le("".concat(i,"-operations-wrapper"),q,l),style:oe(oe({},X),{},{zIndex:P})},y===null?null:s.createElement("button",{className:"".concat(i,"-close"),onClick:w},y||Y),c&&s.createElement(s.Fragment,null,s.createElement("div",{className:le("".concat(i,"-switch-left"),ue({},"".concat(i,"-switch-left-disabled"),f===0)),onClick:function(ie){return N(ie,-1)}},K),s.createElement("div",{className:le("".concat(i,"-switch-right"),ue({},"".concat(i,"-switch-right-disabled"),f===C-1)),onClick:function(ie){return N(ie,1)}},G)),s.createElement("div",{className:"".concat(i,"-footer")},d&&s.createElement("div",{className:"".concat(i,"-progress")},u?u(f+1,C):"".concat(f+1," / ").concat(C)),S?S(ae,oe(oe({icons:{prevIcon:F,nextIcon:A,flipYIcon:J,flipXIcon:j,rotateLeftIcon:W,rotateRightIcon:Z,zoomOutIcon:H,zoomInIcon:U},actions:{onActive:m,onFlipY:M,onFlipX:R,onRotateLeft:E,onRotateRight:I,onZoomOut:h,onZoomIn:$,onReset:x,onClose:w},transform:b},k?{current:f,total:C}:{}),{},{image:O})):ae)))})},It={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Go(e,r,t,n){var o=s.useRef(null),i=s.useRef([]),l=s.useState(It),a=ve(l,2),u=a[0],c=a[1],d=function(v){c(It),dn(It,u)||n==null||n({transform:It,action:v})},f=function(v,g){o.current===null&&(i.current=[],o.current=ft(function(){c(function(p){var y=p;return i.current.forEach(function(m){y=oe(oe({},y),m)}),o.current=null,n==null||n({transform:y,action:g}),y})})),i.current.push(oe(oe({},u),v))},b=function(v,g,p,y,m){var w=e.current,$=w.width,h=w.height,I=w.offsetWidth,E=w.offsetHeight,R=w.offsetLeft,M=w.offsetTop,x=v,S=u.scale*v;S>t?(S=t,x=t/u.scale):S<r&&(S=m?S:r,x=S/u.scale);var P=p??innerWidth/2,O=y??innerHeight/2,k=x-1,L=k*$*.5,z=k*h*.5,_=k*(P-u.x-R),ee=k*(O-u.y-M),Y=u.x-(_-L),K=u.y-(ee-z);if(v<1&&S===1){var G=I*S,te=E*S,D=Rn(),B=D.width,N=D.height;G<=B&&te<=N&&(Y=0,K=0)}f({x:Y,y:K,scale:S},g)};return{transform:u,resetTransform:d,updateTransform:f,dispatchZoomChange:b}}function zr(e,r,t,n){var o=r+t,i=(t-n)/2;if(t>n){if(r>0)return ue({},e,i);if(r<0&&o<n)return ue({},e,-i)}else if(r<0||o>n)return ue({},e,r<0?i:-i);return{}}function Pn(e,r,t,n){var o=Rn(),i=o.width,l=o.height,a=null;return e<=i&&r<=l?a={x:0,y:0}:(e>i||r>l)&&(a=oe(oe({},zr("x",t,e,i)),zr("y",n,r,l))),a}var ut=1,Vo=1;function Ko(e,r,t,n,o,i,l){var a=o.rotate,u=o.scale,c=o.x,d=o.y,f=s.useState(!1),b=ve(f,2),C=b[0],v=b[1],g=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),p=function(h){!r||h.button!==0||(h.preventDefault(),h.stopPropagation(),g.current={diffX:h.pageX-c,diffY:h.pageY-d,transformX:c,transformY:d},v(!0))},y=function(h){t&&C&&i({x:h.pageX-g.current.diffX,y:h.pageY-g.current.diffY},"move")},m=function(){if(t&&C){v(!1);var h=g.current,I=h.transformX,E=h.transformY,R=c!==I&&d!==E;if(!R)return;var M=e.current.offsetWidth*u,x=e.current.offsetHeight*u,S=e.current.getBoundingClientRect(),P=S.left,O=S.top,k=a%180!==0,L=Pn(k?x:M,k?M:x,P,O);L&&i(oe({},L),"dragRebound")}},w=function(h){if(!(!t||h.deltaY==0)){var I=Math.abs(h.deltaY/100),E=Math.min(I,Vo),R=ut+E*n;h.deltaY>0&&(R=ut/R),l(R,"wheel",h.clientX,h.clientY)}};return s.useEffect(function(){var $,h,I,E;if(r){I=lt(window,"mouseup",m,!1),E=lt(window,"mousemove",y,!1);try{window.top!==window.self&&($=lt(window.top,"mouseup",m,!1),h=lt(window.top,"mousemove",y,!1))}catch{}}return function(){var R,M,x,S;(R=I)===null||R===void 0||R.remove(),(M=E)===null||M===void 0||M.remove(),(x=$)===null||x===void 0||x.remove(),(S=h)===null||S===void 0||S.remove()}},[t,C,c,d,a,r]),{isMoving:C,onMouseDown:p,onMouseMove:y,onMouseUp:m,onWheel:w}}function Jo(e){return new Promise(function(r){var t=document.createElement("img");t.onerror=function(){return r(!1)},t.onload=function(){return r(!0)},t.src=e})}function Mn(e){var r=e.src,t=e.isCustomPlaceholder,n=e.fallback,o=s.useState(t?"loading":"normal"),i=ve(o,2),l=i[0],a=i[1],u=s.useRef(!1),c=l==="error";s.useEffect(function(){var C=!0;return Jo(r).then(function(v){!v&&C&&a("error")}),function(){C=!1}},[r]),s.useEffect(function(){t&&!u.current?a("loading"):c&&a("normal")},[r]);var d=function(){a("normal")},f=function(v){u.current=!1,l==="loading"&&v!==null&&v!==void 0&&v.complete&&(v.naturalWidth||v.naturalHeight)&&(u.current=!0,d())},b=c&&n?{src:n}:{onLoad:d,src:r};return[f,b,l]}function _t(e,r){var t=e.x-r.x,n=e.y-r.y;return Math.hypot(t,n)}function Qo(e,r,t,n){var o=_t(e,t),i=_t(r,n);if(o===0&&i===0)return[e.x,e.y];var l=o/(o+i),a=e.x+l*(r.x-e.x),u=e.y+l*(r.y-e.y);return[a,u]}function ea(e,r,t,n,o,i,l){var a=o.rotate,u=o.scale,c=o.x,d=o.y,f=s.useState(!1),b=ve(f,2),C=b[0],v=b[1],g=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),p=function(h){g.current=oe(oe({},g.current),h)},y=function(h){if(r){h.stopPropagation(),v(!0);var I=h.touches,E=I===void 0?[]:I;E.length>1?p({point1:{x:E[0].clientX,y:E[0].clientY},point2:{x:E[1].clientX,y:E[1].clientY},eventType:"touchZoom"}):p({point1:{x:E[0].clientX-c,y:E[0].clientY-d},eventType:"move"})}},m=function(h){var I=h.touches,E=I===void 0?[]:I,R=g.current,M=R.point1,x=R.point2,S=R.eventType;if(E.length>1&&S==="touchZoom"){var P={x:E[0].clientX,y:E[0].clientY},O={x:E[1].clientX,y:E[1].clientY},k=Qo(M,x,P,O),L=ve(k,2),z=L[0],_=L[1],ee=_t(P,O)/_t(M,x);l(ee,"touchZoom",z,_,!0),p({point1:P,point2:O,eventType:"touchZoom"})}else S==="move"&&(i({x:E[0].clientX-M.x,y:E[0].clientY-M.y},"move"),p({eventType:"move"}))},w=function(){if(t){if(C&&v(!1),p({eventType:"none"}),n>u)return i({x:0,y:0,scale:n},"touchZoom");var h=e.current.offsetWidth*u,I=e.current.offsetHeight*u,E=e.current.getBoundingClientRect(),R=E.left,M=E.top,x=a%180!==0,S=Pn(x?I:h,x?h:I,R,M);S&&i(oe({},S),"dragRebound")}};return s.useEffect(function(){var $;return t&&r&&($=lt(window,"touchmove",function(h){return h.preventDefault()},{passive:!1})),function(){var h;(h=$)===null||h===void 0||h.remove()}},[t,r]),{isTouching:C,onTouchStart:y,onTouchMove:m,onTouchEnd:w}}var ta=["fallback","src","imgRef"],ra=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],na=function(r){var t=r.fallback,n=r.src,o=r.imgRef,i=Xe(r,ta),l=Mn({src:n,fallback:t}),a=ve(l,2),u=a[0],c=a[1];return De.createElement("img",Me({ref:function(f){o.current=f,u(f)}},i,c))},On=function(r){var t=r.prefixCls,n=r.src,o=r.alt,i=r.imageInfo,l=r.fallback,a=r.movable,u=a===void 0?!0:a,c=r.onClose,d=r.visible,f=r.icons,b=f===void 0?{}:f,C=r.rootClassName,v=r.closeIcon,g=r.getContainer,p=r.current,y=p===void 0?0:p,m=r.count,w=m===void 0?1:m,$=r.countRender,h=r.scaleStep,I=h===void 0?.5:h,E=r.minScale,R=E===void 0?1:E,M=r.maxScale,x=M===void 0?50:M,S=r.transitionName,P=S===void 0?"zoom":S,O=r.maskTransitionName,k=O===void 0?"fade":O,L=r.imageRender,z=r.imgCommonProps,_=r.toolbarRender,ee=r.onTransform,Y=r.onChange,K=Xe(r,ra),G=s.useRef(),te=s.useContext(xt),D=te&&w>1,B=te&&w>=1,N=s.useState(!0),T=ve(N,2),F=T[0],A=T[1],J=Go(G,R,x,ee),j=J.transform,W=J.resetTransform,Z=J.updateTransform,H=J.dispatchZoomChange,U=Ko(G,u,d,I,j,Z,H),ae=U.isMoving,re=U.onMouseDown,q=U.onWheel,X=ea(G,u,d,R,j,Z,H),ce=X.isTouching,ie=X.onTouchStart,pe=X.onTouchMove,$e=X.onTouchEnd,ge=j.rotate,Re=j.scale,be=le(ue({},"".concat(t,"-moving"),ae));s.useEffect(function(){F||A(!0)},[F]);var Ee=function(){W("close")},Ae=function(){H(ut+I,"zoomIn")},me=function(){H(ut/(ut+I),"zoomOut")},Ie=function(){Z({rotate:ge+90},"rotateRight")},Ne=function(){Z({rotate:ge-90},"rotateLeft")},Fe=function(){Z({flipX:!j.flipX},"flipX")},We=function(){Z({flipY:!j.flipY},"flipY")},at=function(){W("reset")},Q=function(Te){var Se=y+Te;!Number.isInteger(Se)||Se<0||Se>w-1||(A(!1),W(Te<0?"prev":"next"),Y==null||Y(Se,y))},fe=function(Te){!d||!D||(Te.keyCode===Oe.LEFT?Q(-1):Te.keyCode===Oe.RIGHT&&Q(1))},we=function(Te){d&&(Re!==1?Z({x:0,y:0,scale:1},"doubleClick"):H(ut+I,"doubleClick",Te.clientX,Te.clientY))};s.useEffect(function(){var de=lt(window,"keydown",fe,!1);return function(){de.remove()}},[d,D,y]);var se=De.createElement(na,Me({},z,{width:r.width,height:r.height,imgRef:G,className:"".concat(t,"-img"),alt:o,style:{transform:"translate3d(".concat(j.x,"px, ").concat(j.y,"px, 0) scale3d(").concat(j.flipX?"-":"").concat(Re,", ").concat(j.flipY?"-":"").concat(Re,", 1) rotate(").concat(ge,"deg)"),transitionDuration:(!F||ce)&&"0s"},fallback:l,src:n,onWheel:q,onMouseDown:re,onDoubleClick:we,onTouchStart:ie,onTouchMove:pe,onTouchEnd:$e,onTouchCancel:$e})),he=oe({url:n,alt:o},i);return De.createElement(De.Fragment,null,De.createElement(Vn,Me({transitionName:P,maskTransitionName:k,closable:!1,keyboard:!0,prefixCls:t,onClose:c,visible:d,classNames:{wrapper:be},rootClassName:C,getContainer:g},K,{afterClose:Ee}),De.createElement("div",{className:"".concat(t,"-img-wrapper")},L?L(se,oe({transform:j,image:he},te?{current:y}:{})):se)),De.createElement(Yo,{visible:d,transform:j,maskTransitionName:k,closeIcon:v,getContainer:g,prefixCls:t,rootClassName:C,icons:b,countRender:$,showSwitch:D,showProgress:B,current:y,count:w,scale:Re,minScale:R,maxScale:x,toolbarRender:_,onActive:Q,onZoomIn:Ae,onZoomOut:me,onRotateRight:Ie,onRotateLeft:Ne,onFlipX:Fe,onFlipY:We,onClose:c,onReset:at,zIndex:K.zIndex!==void 0?K.zIndex+1:void 0,image:he}))},dr=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function oa(e){var r=s.useState({}),t=ve(r,2),n=t[0],o=t[1],i=s.useCallback(function(a,u){return o(function(c){return oe(oe({},c),{},ue({},a,u))}),function(){o(function(c){var d=oe({},c);return delete d[a],d})}},[]),l=s.useMemo(function(){return e?e.map(function(a){if(typeof a=="string")return{data:{src:a}};var u={};return Object.keys(a).forEach(function(c){["src"].concat(_e(dr)).includes(c)&&(u[c]=a[c])}),{data:u}}):Object.keys(n).reduce(function(a,u){var c=n[u],d=c.canPreview,f=c.data;return d&&a.push({data:f,id:u}),a},[])},[e,n]);return[l,i,!!e]}var aa=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],ia=["src"],sa=function(r){var t,n=r.previewPrefixCls,o=n===void 0?"rc-image-preview":n,i=r.children,l=r.icons,a=l===void 0?{}:l,u=r.items,c=r.preview,d=r.fallback,f=Ge(c)==="object"?c:{},b=f.visible,C=f.onVisibleChange,v=f.getContainer,g=f.current,p=f.movable,y=f.minScale,m=f.maxScale,w=f.countRender,$=f.closeIcon,h=f.onChange,I=f.onTransform,E=f.toolbarRender,R=f.imageRender,M=Xe(f,aa),x=oa(u),S=ve(x,3),P=S[0],O=S[1],k=S[2],L=wt(0,{value:g}),z=ve(L,2),_=z[0],ee=z[1],Y=s.useState(!1),K=ve(Y,2),G=K[0],te=K[1],D=((t=P[_])===null||t===void 0?void 0:t.data)||{},B=D.src,N=Xe(D,ia),T=wt(!!b,{value:b,onChange:function(ce,ie){C==null||C(ce,ie,_)}}),F=ve(T,2),A=F[0],J=F[1],j=s.useState(null),W=ve(j,2),Z=W[0],H=W[1],U=s.useCallback(function(X,ce,ie,pe){var $e=k?P.findIndex(function(ge){return ge.data.src===ce}):P.findIndex(function(ge){return ge.id===X});ee($e<0?0:$e),J(!0),H({x:ie,y:pe}),te(!0)},[P,k]);s.useEffect(function(){A?G||ee(0):te(!1)},[A]);var ae=function(ce,ie){ee(ce),h==null||h(ce,ie)},re=function(){J(!1),H(null)},q=s.useMemo(function(){return{register:O,onPreview:U}},[O,U]);return s.createElement(xt.Provider,{value:q},i,s.createElement(On,Me({"aria-hidden":!A,movable:p,visible:A,prefixCls:o,closeIcon:$,onClose:re,mousePosition:Z,imgCommonProps:N,src:B,fallback:d,icons:a,minScale:y,maxScale:m,getContainer:v,current:_,count:P.length,countRender:w,onTransform:I,toolbarRender:E,imageRender:R,onChange:ae},M)))},Fr=0;function la(e,r){var t=s.useState(function(){return Fr+=1,String(Fr)}),n=ve(t,1),o=n[0],i=s.useContext(xt),l={data:r,canPreview:e};return s.useEffect(function(){if(i)return i.register(o,l)},[]),s.useEffect(function(){i&&i.register(o,l)},[e,r]),o}var ca=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ua=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Cr=function(r){var t=r.src,n=r.alt,o=r.onPreviewClose,i=r.prefixCls,l=i===void 0?"rc-image":i,a=r.previewPrefixCls,u=a===void 0?"".concat(l,"-preview"):a,c=r.placeholder,d=r.fallback,f=r.width,b=r.height,C=r.style,v=r.preview,g=v===void 0?!0:v,p=r.className,y=r.onClick,m=r.onError,w=r.wrapperClassName,$=r.wrapperStyle,h=r.rootClassName,I=Xe(r,ca),E=c&&c!==!0,R=Ge(g)==="object"?g:{},M=R.src,x=R.visible,S=x===void 0?void 0:x,P=R.onVisibleChange,O=P===void 0?o:P,k=R.getContainer,L=k===void 0?void 0:k,z=R.mask,_=R.maskClassName,ee=R.movable,Y=R.icons,K=R.scaleStep,G=R.minScale,te=R.maxScale,D=R.imageRender,B=R.toolbarRender,N=Xe(R,ua),T=M??t,F=wt(!!S,{value:S,onChange:O}),A=ve(F,2),J=A[0],j=A[1],W=Mn({src:t,isCustomPlaceholder:E,fallback:d}),Z=ve(W,3),H=Z[0],U=Z[1],ae=Z[2],re=s.useState(null),q=ve(re,2),X=q[0],ce=q[1],ie=s.useContext(xt),pe=!!g,$e=function(){j(!1),ce(null)},ge=le(l,w,h,ue({},"".concat(l,"-error"),ae==="error")),Re=s.useMemo(function(){var me={};return dr.forEach(function(Ie){r[Ie]!==void 0&&(me[Ie]=r[Ie])}),me},dr.map(function(me){return r[me]})),be=s.useMemo(function(){return oe(oe({},Re),{},{src:T})},[T,Re]),Ee=la(pe,be),Ae=function(Ie){var Ne=yo(Ie.target),Fe=Ne.left,We=Ne.top;ie?ie.onPreview(Ee,T,Fe,We):(ce({x:Fe,y:We}),j(!0)),y==null||y(Ie)};return s.createElement(s.Fragment,null,s.createElement("div",Me({},I,{className:ge,onClick:pe?Ae:y,style:oe({width:f,height:b},$)}),s.createElement("img",Me({},Re,{className:le("".concat(l,"-img"),ue({},"".concat(l,"-img-placeholder"),c===!0),p),style:oe({height:b},C),ref:H},U,{width:f,height:b,onError:m})),ae==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},c),z&&pe&&s.createElement("div",{className:le("".concat(l,"-mask"),_),style:{display:(C==null?void 0:C.display)==="none"?"none":void 0}},z)),!ie&&pe&&s.createElement(On,Me({"aria-hidden":!J,visible:J,prefixCls:u,onClose:$e,mousePosition:X,src:T,alt:n,imageInfo:{width:f,height:b},fallback:d,getContainer:L,icons:Y,movable:ee,scaleStep:K,minScale:G,maxScale:te,rootClassName:h,imageRender:D,imgCommonProps:Re,toolbarRender:B},N)))};Cr.PreviewGroup=sa;var da={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},fa=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:da}))},pa=s.forwardRef(fa),ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},va=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:ma}))},ga=s.forwardRef(va),ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},ba=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:ha}))},Br=s.forwardRef(ba),Ca={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ya=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:Ca}))},wa=s.forwardRef(ya),Sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},xa=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:Sa}))},$a=s.forwardRef(xa);const fr=e=>({position:e||"absolute",inset:0}),Ea=e=>{const{iconCls:r,motionDurationSlow:t,paddingXXS:n,marginXXS:o,prefixCls:i,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Ue("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},hr),{padding:`0 ${ye(n)}`,[r]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},Ra=e=>{const{previewCls:r,modalMaskBg:t,paddingSM:n,marginXL:o,margin:i,paddingLG:l,previewOperationColorDisabled:a,previewOperationHoverColor:u,motionDurationSlow:c,iconCls:d,colorTextLightSolid:f}=e,b=new Ue(t).setAlpha(.1),C=b.clone().setAlpha(.2);return{[`${r}-footer`]:{position:"fixed",bottom:o,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${r}-progress`]:{marginBottom:i},[`${r}-close`]:{position:"fixed",top:o,right:{_skip_check_:!0,value:o},display:"flex",color:f,backgroundColor:b.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${c}`,"&:hover":{backgroundColor:C.toRgbString()},[`& > ${d}`]:{fontSize:e.previewOperationSize}},[`${r}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ye(l)}`,backgroundColor:b.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${c}`,userSelect:"none",[`&:not(${r}-operations-operation-disabled):hover > ${d}`]:{color:u},"&-disabled":{color:a,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${d}`]:{fontSize:e.previewOperationSize}}}}},Ia=e=>{const{modalMaskBg:r,iconCls:t,previewOperationColorDisabled:n,previewCls:o,zIndexPopup:i,motionDurationSlow:l}=e,a=new Ue(r).setAlpha(.1),u=a.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:a.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},Pa=e=>{const{motionEaseOut:r,previewCls:t,motionDurationSlow:n,componentCls:o}=e;return[{[`${o}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},fr()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${r} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},fr()),{transition:`transform ${n} ${r} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${t}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[Ra(e),Ia(e)]}]},Ma=e=>{const{componentCls:r}=e;return{[r]:{position:"relative",display:"inline-block",[`${r}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${r}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${r}-mask`]:Object.assign({},Ea(e)),[`${r}-mask:hover`]:{opacity:1},[`${r}-placeholder`]:Object.assign({},fr())}}},Oa=e=>{const{previewCls:r}=e;return{[`${r}-root`]:Jn(e,"zoom"),"&":pn(e,!0)}},Da=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Ue(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new Ue(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new Ue(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Dn=Lt("Image",e=>{const r=`${e.componentCls}-preview`,t=St(e,{previewCls:r,modalMaskBg:new Ue("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Ma(t),Pa(t),Kn(St(t,{componentCls:r})),Oa(t)]},Da);var Na=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const Nn={rotateLeft:s.createElement(pa,null),rotateRight:s.createElement(ga,null),zoomIn:s.createElement(wa,null),zoomOut:s.createElement($a,null),close:s.createElement(mn,null),left:s.createElement(eo,null),right:s.createElement(Qn,null),flipX:s.createElement(Br,null),flipY:s.createElement(Br,{rotate:90})},Ta=e=>{var{previewPrefixCls:r,preview:t}=e,n=Na(e,["previewPrefixCls","preview"]);const{getPrefixCls:o}=s.useContext(nt),i=o("image",r),l=`${i}-preview`,a=o(),u=vn(i),[c,d,f]=Dn(i,u),[b]=gn("ImagePreview",typeof t=="object"?t.zIndex:void 0),C=s.useMemo(()=>{var v;if(t===!1)return t;const g=typeof t=="object"?t:{},p=le(d,f,u,(v=g.rootClassName)!==null&&v!==void 0?v:"");return Object.assign(Object.assign({},g),{transitionName:kt(a,"zoom",g.transitionName),maskTransitionName:kt(a,"fade",g.maskTransitionName),rootClassName:p,zIndex:b})},[t]);return c(s.createElement(Cr.PreviewGroup,Object.assign({preview:C,previewPrefixCls:l,icons:Nn},n)))};var Wr=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const Tn=e=>{var r;const{prefixCls:t,preview:n,className:o,rootClassName:i,style:l}=e,a=Wr(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:u,locale:c=ir,getPopupContainer:d,image:f}=s.useContext(nt),b=u("image",t),C=u(),v=c.Image||ir.Image,g=vn(b),[p,y,m]=Dn(b,g),w=le(i,y,m,g),$=le(o,y,f==null?void 0:f.className),[h]=gn("ImagePreview",typeof n=="object"?n.zIndex:void 0),I=s.useMemo(()=>{var R;if(n===!1)return n;const M=typeof n=="object"?n:{},{getContainer:x,closeIcon:S,rootClassName:P}=M,O=Wr(M,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${b}-mask-info`},s.createElement(En,null),v==null?void 0:v.preview),icons:Nn},O),{rootClassName:le(w,P),getContainer:x??d,transitionName:kt(C,"zoom",M.transitionName),maskTransitionName:kt(C,"fade",M.maskTransitionName),zIndex:h,closeIcon:S??((R=f==null?void 0:f.preview)===null||R===void 0?void 0:R.closeIcon)})},[n,v,(r=f==null?void 0:f.preview)===null||r===void 0?void 0:r.closeIcon]),E=Object.assign(Object.assign({},f==null?void 0:f.style),l);return p(s.createElement(Cr,Object.assign({prefixCls:b,preview:I,rootClassName:w,className:$,style:E},a)))};Tn.PreviewGroup=Ta;var ka={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},_a=function(){var r=s.useRef([]),t=s.useRef(null);return s.useEffect(function(){var n=Date.now(),o=!1;r.current.forEach(function(i){if(i){o=!0;var l=i.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(l.transitionDuration="0s, 0s")}}),o&&(t.current=Date.now())}),r.current},Hr=0,Aa=to();function ja(){var e;return Aa?(e=Hr,Hr+=1):e="TEST_OR_SSR",e}const La=function(e){var r=s.useState(),t=ve(r,2),n=t[0],o=t[1];return s.useEffect(function(){o("rc_progress_".concat(ja()))},[]),e||n};var Ur=function(r){var t=r.bg,n=r.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:t}},n)};function Xr(e,r){return Object.keys(e).map(function(t){var n=parseFloat(t),o="".concat(Math.floor(n*r),"%");return"".concat(e[t]," ").concat(o)})}var za=s.forwardRef(function(e,r){var t=e.prefixCls,n=e.color,o=e.gradientId,i=e.radius,l=e.style,a=e.ptg,u=e.strokeLinecap,c=e.strokeWidth,d=e.size,f=e.gapDegree,b=n&&Ge(n)==="object",C=b?"#FFF":void 0,v=d/2,g=s.createElement("circle",{className:"".concat(t,"-circle-path"),r:i,cx:v,cy:v,stroke:C,strokeLinecap:u,strokeWidth:c,opacity:a===0?0:1,style:l,ref:r});if(!b)return g;var p="".concat(o,"-conic"),y=f?"".concat(180+f/2,"deg"):"0deg",m=Xr(n,(360-f)/360),w=Xr(n,1),$="conic-gradient(from ".concat(y,", ").concat(m.join(", "),")"),h="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(w.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:p},g),s.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(p,")")},s.createElement(Ur,{bg:h},s.createElement(Ur,{bg:$}))))}),Ct=100,Zt=function(r,t,n,o,i,l,a,u,c,d){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,b=n/100*360*((360-l)/360),C=l===0?0:{bottom:0,top:180,left:90,right:-90}[a],v=(100-o)/100*t;c==="round"&&o!==100&&(v+=d/2,v>=t&&(v=t-.01));var g=Ct/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(t,"px ").concat(r),strokeDashoffset:v+f,transform:"rotate(".concat(i+b+C,"deg)"),transformOrigin:"".concat(g,"px ").concat(g,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Fa=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Zr(e){var r=e??[];return Array.isArray(r)?r:[r]}var Ba=function(r){var t=oe(oe({},ka),r),n=t.id,o=t.prefixCls,i=t.steps,l=t.strokeWidth,a=t.trailWidth,u=t.gapDegree,c=u===void 0?0:u,d=t.gapPosition,f=t.trailColor,b=t.strokeLinecap,C=t.style,v=t.className,g=t.strokeColor,p=t.percent,y=Xe(t,Fa),m=Ct/2,w=La(n),$="".concat(w,"-gradient"),h=m-l/2,I=Math.PI*2*h,E=c>0?90+c/2:-90,R=I*((360-c)/360),M=Ge(i)==="object"?i:{count:i,gap:2},x=M.count,S=M.gap,P=Zr(p),O=Zr(g),k=O.find(function(G){return G&&Ge(G)==="object"}),L=k&&Ge(k)==="object",z=L?"butt":b,_=Zt(I,R,0,100,E,c,d,f,z,l),ee=_a(),Y=function(){var te=0;return P.map(function(D,B){var N=O[B]||O[O.length-1],T=Zt(I,R,te,D,E,c,d,N,z,l);return te+=D,s.createElement(za,{key:B,color:N,ptg:D,radius:h,prefixCls:o,gradientId:$,style:T,strokeLinecap:z,strokeWidth:l,gapDegree:c,ref:function(A){ee[B]=A},size:Ct})}).reverse()},K=function(){var te=Math.round(x*(P[0]/100)),D=100/x,B=0;return new Array(x).fill(null).map(function(N,T){var F=T<=te-1?O[0]:f,A=F&&Ge(F)==="object"?"url(#".concat($,")"):void 0,J=Zt(I,R,B,D,E,c,d,F,"butt",l,S);return B+=(R-J.strokeDashoffset+S)*100/R,s.createElement("circle",{key:T,className:"".concat(o,"-circle-path"),r:h,cx:m,cy:m,stroke:A,strokeWidth:l,opacity:1,style:J,ref:function(W){ee[T]=W}})})};return s.createElement("svg",Me({className:le("".concat(o,"-circle"),v),viewBox:"0 0 ".concat(Ct," ").concat(Ct),style:C,id:n,role:"presentation"},y),!x&&s.createElement("circle",{className:"".concat(o,"-circle-trail"),r:h,cx:m,cy:m,stroke:f,strokeLinecap:z,strokeWidth:a||l,style:_}),x?K():Y())};function et(e){return!e||e<0?0:e>100?100:e}function At(e){let{success:r,successPercent:t}=e,n=t;return r&&"progress"in r&&(n=r.progress),r&&"percent"in r&&(n=r.percent),n}const Wa=e=>{let{percent:r,success:t,successPercent:n}=e;const o=et(At({success:t,successPercent:n}));return[o,et(et(r)-o)]},Ha=e=>{let{success:r={},strokeColor:t}=e;const{strokeColor:n}=r;return[n||sr.green,t||null]},zt=(e,r,t)=>{var n,o,i,l;let a=-1,u=-1;if(r==="step"){const c=t.steps,d=t.strokeWidth;typeof e=="string"||typeof e>"u"?(a=e==="small"?2:14,u=d??8):typeof e=="number"?[a,u]=[e,e]:[a=14,u=8]=Array.isArray(e)?e:[e.width,e.height],a*=c}else if(r==="line"){const c=t==null?void 0:t.strokeWidth;typeof e=="string"||typeof e>"u"?u=c||(e==="small"?6:8):typeof e=="number"?[a,u]=[e,e]:[a=-1,u=8]=Array.isArray(e)?e:[e.width,e.height]}else(r==="circle"||r==="dashboard")&&(typeof e=="string"||typeof e>"u"?[a,u]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[a,u]=[e,e]:Array.isArray(e)&&(a=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,u=(l=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&l!==void 0?l:120));return[a,u]},Ua=3,Xa=e=>Ua/e*100,Za=e=>{const{prefixCls:r,trailColor:t=null,strokeLinecap:n="round",gapPosition:o,gapDegree:i,width:l=120,type:a,children:u,success:c,size:d=l,steps:f}=e,[b,C]=zt(d,"circle");let{strokeWidth:v}=e;v===void 0&&(v=Math.max(Xa(b),6));const g={width:b,height:C,fontSize:b*.15+6},p=s.useMemo(()=>{if(i||i===0)return i;if(a==="dashboard")return 75},[i,a]),y=Wa(e),m=o||a==="dashboard"&&"bottom"||void 0,w=Object.prototype.toString.call(e.strokeColor)==="[object Object]",$=Ha({success:c,strokeColor:e.strokeColor}),h=le(`${r}-inner`,{[`${r}-circle-gradient`]:w}),I=s.createElement(Ba,{steps:f,percent:f?y[1]:y,strokeWidth:v,trailWidth:v,strokeColor:f?$[1]:$,strokeLinecap:n,trailColor:t,prefixCls:r,gapDegree:p,gapPosition:m}),E=b<=20,R=s.createElement("div",{className:h,style:g},I,!E&&u);return E?s.createElement(mr,{title:u},R):R},jt="--progress-line-stroke-color",kn="--progress-percent",qr=e=>{const r=e?"100%":"-100%";return new lr(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${r}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${r}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},qa=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:Object.assign(Object.assign({},vr(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${r}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${r}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.defaultColor}},[`${r}-success-bg, ${r}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${r}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${r}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${r}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${jt})`]},height:"100%",width:`calc(1 / var(${kn}) * 100%)`,display:"block"},[`&${r}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${r}-text-inner`]:{color:e.colorWhite,[`&${r}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${r}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${r}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:e.fontSize},[`&${r}-text-outer`]:{width:"max-content"},[`&${r}-text-outer${r}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${r}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${ye(e.paddingXXS)}`,[`&${r}-text-start`]:{justifyContent:"start"},[`&${r}-text-end`]:{justifyContent:"end"}},[`&${r}-status-active`]:{[`${r}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:qr(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${r}-rtl${r}-status-active`]:{[`${r}-bg::before`]:{animationName:qr(!0)}},[`&${r}-status-exception`]:{[`${r}-bg`]:{backgroundColor:e.colorError},[`${r}-text`]:{color:e.colorError}},[`&${r}-status-exception ${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.colorError}},[`&${r}-status-success`]:{[`${r}-bg`]:{backgroundColor:e.colorSuccess},[`${r}-text`]:{color:e.colorSuccess}},[`&${r}-status-success ${r}-inner:not(${r}-circle-gradient)`]:{[`${r}-circle-path`]:{stroke:e.colorSuccess}}})}},Ya=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:{[`${r}-circle-trail`]:{stroke:e.remainingColor},[`&${r}-circle ${r}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${r}-circle ${r}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:e.circleIconFontSize}},[`${r}-circle&-status-exception`]:{[`${r}-text`]:{color:e.colorError}},[`${r}-circle&-status-success`]:{[`${r}-text`]:{color:e.colorSuccess}}},[`${r}-inline-circle`]:{lineHeight:1,[`${r}-inner`]:{verticalAlign:"bottom"}}}},Ga=e=>{const{componentCls:r}=e;return{[r]:{[`${r}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Va=e=>{const{componentCls:r,iconCls:t}=e;return{[r]:{[`${r}-small&-line, ${r}-small&-line ${r}-text ${t}`]:{fontSize:e.fontSizeSM}}}},Ka=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ja=Lt("Progress",e=>{const r=e.calc(e.marginXXS).div(2).equal(),t=St(e,{progressStepMarginInlineEnd:r,progressStepMinWidth:r,progressActiveMotionDuration:"2.4s"});return[qa(t),Ya(t),Ga(t),Va(t)]},Ka);var Qa=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const ei=e=>{let r=[];return Object.keys(e).forEach(t=>{const n=parseFloat(t.replace(/%/g,""));isNaN(n)||r.push({key:n,value:e[t]})}),r=r.sort((t,n)=>t.key-n.key),r.map(t=>{let{key:n,value:o}=t;return`${o} ${n}%`}).join(", ")},ti=(e,r)=>{const{from:t=sr.blue,to:n=sr.blue,direction:o=r==="rtl"?"to left":"to right"}=e,i=Qa(e,["from","to","direction"]);if(Object.keys(i).length!==0){const a=ei(i),u=`linear-gradient(${o}, ${a})`;return{background:u,[jt]:u}}const l=`linear-gradient(${o}, ${t}, ${n})`;return{background:l,[jt]:l}},ri=e=>{const{prefixCls:r,direction:t,percent:n,size:o,strokeWidth:i,strokeColor:l,strokeLinecap:a="round",children:u,trailColor:c=null,percentPosition:d,success:f}=e,{align:b,type:C}=d,v=l&&typeof l!="string"?ti(l,t):{[jt]:l,background:l},g=a==="square"||a==="butt"?0:void 0,p=o??[-1,i||(o==="small"?6:8)],[y,m]=zt(p,"line",{strokeWidth:i}),w={backgroundColor:c||void 0,borderRadius:g},$=Object.assign(Object.assign({width:`${et(n)}%`,height:m,borderRadius:g},v),{[kn]:et(n)/100}),h=At(e),I={width:`${et(h)}%`,height:m,borderRadius:g,backgroundColor:f==null?void 0:f.strokeColor},E={width:y<0?"100%":y},R=s.createElement("div",{className:`${r}-inner`,style:w},s.createElement("div",{className:le(`${r}-bg`,`${r}-bg-${C}`),style:$},C==="inner"&&u),h!==void 0&&s.createElement("div",{className:`${r}-success-bg`,style:I})),M=C==="outer"&&b==="start",x=C==="outer"&&b==="end";return C==="outer"&&b==="center"?s.createElement("div",{className:`${r}-layout-bottom`},R,u):s.createElement("div",{className:`${r}-outer`,style:E},M&&u,R,x&&u)},ni=e=>{const{size:r,steps:t,percent:n=0,strokeWidth:o=8,strokeColor:i,trailColor:l=null,prefixCls:a,children:u}=e,c=Math.round(t*(n/100)),f=r??[r==="small"?2:14,o],[b,C]=zt(f,"step",{steps:t,strokeWidth:o}),v=b/t,g=new Array(t);for(let p=0;p<t;p++){const y=Array.isArray(i)?i[p]:i;g[p]=s.createElement("div",{key:p,className:le(`${a}-steps-item`,{[`${a}-steps-item-active`]:p<=c-1}),style:{backgroundColor:p<=c-1?y:l,width:v,height:C}})}return s.createElement("div",{className:`${a}-steps-outer`},g,u)};var oi=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const ai=["normal","exception","active","success"],ii=s.forwardRef((e,r)=>{const{prefixCls:t,className:n,rootClassName:o,steps:i,strokeColor:l,percent:a=0,size:u="default",showInfo:c=!0,type:d="line",status:f,format:b,style:C,percentPosition:v={}}=e,g=oi(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:p="end",type:y="outer"}=v,m=Array.isArray(l)?l[0]:l,w=typeof l=="string"||Array.isArray(l)?l:void 0,$=s.useMemo(()=>{if(m){const Y=typeof m=="string"?m:Object.values(m)[0];return new Ue(Y).isLight()}return!1},[l]),h=s.useMemo(()=>{var Y,K;const G=At(e);return parseInt(G!==void 0?(Y=G??0)===null||Y===void 0?void 0:Y.toString():(K=a??0)===null||K===void 0?void 0:K.toString(),10)},[a,e.success,e.successPercent]),I=s.useMemo(()=>!ai.includes(f)&&h>=100?"success":f||"normal",[f,h]),{getPrefixCls:E,direction:R,progress:M}=s.useContext(nt),x=E("progress",t),[S,P,O]=Ja(x),k=d==="line",L=k&&!i,z=s.useMemo(()=>{if(!c)return null;const Y=At(e);let K;const G=b||(D=>`${D}%`),te=k&&$&&y==="inner";return y==="inner"||b||I!=="exception"&&I!=="success"?K=G(et(a),et(Y)):I==="exception"?K=k?s.createElement(ro,null):s.createElement(mn,null):I==="success"&&(K=k?s.createElement(no,null):s.createElement(bo,null)),s.createElement("span",{className:le(`${x}-text`,{[`${x}-text-bright`]:te,[`${x}-text-${p}`]:L,[`${x}-text-${y}`]:L}),title:typeof K=="string"?K:void 0},K)},[c,a,h,I,d,x,b]);let _;d==="line"?_=i?s.createElement(ni,Object.assign({},e,{strokeColor:w,prefixCls:x,steps:typeof i=="object"?i.count:i}),z):s.createElement(ri,Object.assign({},e,{strokeColor:m,prefixCls:x,direction:R,percentPosition:{align:p,type:y}}),z):(d==="circle"||d==="dashboard")&&(_=s.createElement(Za,Object.assign({},e,{strokeColor:m,prefixCls:x,progressStatus:I}),z));const ee=le(x,`${x}-status-${I}`,{[`${x}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${x}-inline-circle`]:d==="circle"&&zt(u,"circle")[0]<=20,[`${x}-line`]:L,[`${x}-line-align-${p}`]:L,[`${x}-line-position-${y}`]:L,[`${x}-steps`]:i,[`${x}-show-info`]:c,[`${x}-${u}`]:typeof u=="string",[`${x}-rtl`]:R==="rtl"},M==null?void 0:M.className,n,o,P,O);return S(s.createElement("div",Object.assign({ref:r,style:Object.assign(Object.assign({},M==null?void 0:M.style),C),className:ee,role:"progressbar","aria-valuenow":h,"aria-valuemin":0,"aria-valuemax":100},hn(g,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),_))});var si={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},li=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:si}))},ci=s.forwardRef(li),ui={icon:function(r,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:r}}]}},name:"file",theme:"twotone"},di=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:ui}))},fi=s.forwardRef(di),pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},mi=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:pi}))},vi=s.forwardRef(mi),gi={icon:function(r,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:r}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:r}}]}},name:"picture",theme:"twotone"},hi=function(r,t){return s.createElement(Ve,Me({},r,{ref:t,icon:gi}))},bi=s.forwardRef(hi);const qt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return t.some(function(l){var a=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(a.charAt(0)==="."){var u=n.toLowerCase(),c=a.toLowerCase(),d=[c];return(c===".jpg"||c===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(f){return u.endsWith(f)})}return/\/\*$/.test(a)?i===a.replace(/\/.*$/,""):o===a?!0:/^\w+$/.test(a)?(ar(!1,"Upload takes an invalidate 'accept' type '".concat(a,"'.Skip for check.")),!0):!1})}return!0};function Ci(e,r){var t="cannot ".concat(e.method," ").concat(e.action," ").concat(r.status,"'"),n=new Error(t);return n.status=r.status,n.method=e.method,n.url=e.action,n}function Yr(e){var r=e.responseText||e.response;if(!r)return r;try{return JSON.parse(r)}catch{return r}}function yi(e){var r=new XMLHttpRequest;e.onProgress&&r.upload&&(r.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),e.onProgress(i)});var t=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var i=e.data[o];if(Array.isArray(i)){i.forEach(function(l){t.append("".concat(o,"[]"),l)});return}t.append(o,i)}),e.file instanceof Blob?t.append(e.filename,e.file,e.file.name):t.append(e.filename,e.file),r.onerror=function(i){e.onError(i)},r.onload=function(){return r.status<200||r.status>=300?e.onError(Ci(e,r),Yr(r)):e.onSuccess(Yr(r),r)},r.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in r&&(r.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(o){n[o]!==null&&r.setRequestHeader(o,n[o])}),r.send(t),{abort:function(){r.abort()}}}var wi=function(){var e=st(Be().mark(function r(t,n){var o,i,l,a,u,c,d,f;return Be().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:c=function(){return c=st(Be().mark(function g(p){return Be().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",new Promise(function(w){p.file(function($){n($)?(p.fullPath&&!$.webkitRelativePath&&(Object.defineProperties($,{webkitRelativePath:{writable:!0}}),$.webkitRelativePath=p.fullPath.replace(/^\//,""),Object.defineProperties($,{webkitRelativePath:{writable:!1}})),w($)):w(null)})}));case 1:case"end":return m.stop()}},g)})),c.apply(this,arguments)},u=function(g){return c.apply(this,arguments)},a=function(){return a=st(Be().mark(function g(p){var y,m,w,$,h;return Be().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:y=p.createReader(),m=[];case 2:return E.next=5,new Promise(function(R){y.readEntries(R,function(){return R([])})});case 5:if(w=E.sent,$=w.length,$){E.next=9;break}return E.abrupt("break",12);case 9:for(h=0;h<$;h++)m.push(w[h]);E.next=2;break;case 12:return E.abrupt("return",m);case 13:case"end":return E.stop()}},g)})),a.apply(this,arguments)},l=function(g){return a.apply(this,arguments)},o=[],i=[],t.forEach(function(v){return i.push(v.webkitGetAsEntry())}),d=function(){var v=st(Be().mark(function g(p,y){var m,w;return Be().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(p){h.next=2;break}return h.abrupt("return");case 2:if(p.path=y||"",!p.isFile){h.next=10;break}return h.next=6,u(p);case 6:m=h.sent,m&&o.push(m),h.next=15;break;case 10:if(!p.isDirectory){h.next=15;break}return h.next=13,l(p);case 13:w=h.sent,i.push.apply(i,_e(w));case 15:case"end":return h.stop()}},g)}));return function(p,y){return v.apply(this,arguments)}}(),f=0;case 9:if(!(f<i.length)){C.next=15;break}return C.next=12,d(i[f]);case 12:f++,C.next=9;break;case 15:return C.abrupt("return",o);case 16:case"end":return C.stop()}},r)}));return function(t,n){return e.apply(this,arguments)}}(),Si=+new Date,xi=0;function Yt(){return"rc-upload-".concat(Si,"-").concat(++xi)}var $i=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Ei=function(e){bn(t,e);var r=Cn(t);function t(){var n;yn(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),ue(ze(n),"state",{uid:Yt()}),ue(ze(n),"reqs",{}),ue(ze(n),"fileInput",void 0),ue(ze(n),"_isMounted",void 0),ue(ze(n),"onChange",function(a){var u=n.props,c=u.accept,d=u.directory,f=a.target.files,b=_e(f).filter(function(C){return!d||qt(C,c)});n.uploadFiles(b),n.reset()}),ue(ze(n),"onClick",function(a){var u=n.fileInput;if(u){var c=a.target,d=n.props.onClick;if(c&&c.tagName==="BUTTON"){var f=u.parentNode;f.focus(),c.blur()}u.click(),d&&d(a)}}),ue(ze(n),"onKeyDown",function(a){a.key==="Enter"&&n.onClick(a)}),ue(ze(n),"onFileDrop",function(){var a=st(Be().mark(function u(c){var d,f,b;return Be().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(d=n.props.multiple,c.preventDefault(),c.type!=="dragover"){v.next=4;break}return v.abrupt("return");case 4:if(!n.props.directory){v.next=11;break}return v.next=7,wi(Array.prototype.slice.call(c.dataTransfer.items),function(g){return qt(g,n.props.accept)});case 7:f=v.sent,n.uploadFiles(f),v.next=14;break;case 11:b=_e(c.dataTransfer.files).filter(function(g){return qt(g,n.props.accept)}),d===!1&&(b=b.slice(0,1)),n.uploadFiles(b);case 14:case"end":return v.stop()}},u)}));return function(u){return a.apply(this,arguments)}}()),ue(ze(n),"uploadFiles",function(a){var u=_e(a),c=u.map(function(d){return d.uid=Yt(),n.processFile(d,u)});Promise.all(c).then(function(d){var f=n.props.onBatchStart;f==null||f(d.map(function(b){var C=b.origin,v=b.parsedFile;return{file:C,parsedFile:v}})),d.filter(function(b){return b.parsedFile!==null}).forEach(function(b){n.post(b)})})}),ue(ze(n),"processFile",function(){var a=st(Be().mark(function u(c,d){var f,b,C,v,g,p,y,m,w;return Be().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(f=n.props.beforeUpload,b=c,!f){h.next=14;break}return h.prev=3,h.next=6,f(c,d);case 6:b=h.sent,h.next=12;break;case 9:h.prev=9,h.t0=h.catch(3),b=!1;case 12:if(b!==!1){h.next=14;break}return h.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(C=n.props.action,typeof C!="function"){h.next=21;break}return h.next=18,C(c);case 18:v=h.sent,h.next=22;break;case 21:v=C;case 22:if(g=n.props.data,typeof g!="function"){h.next=29;break}return h.next=26,g(c);case 26:p=h.sent,h.next=30;break;case 29:p=g;case 30:return y=(Ge(b)==="object"||typeof b=="string")&&b?b:c,y instanceof File?m=y:m=new File([y],c.name,{type:c.type}),w=m,w.uid=c.uid,h.abrupt("return",{origin:c,data:p,parsedFile:w,action:v});case 35:case"end":return h.stop()}},u,null,[[3,9]])}));return function(u,c){return a.apply(this,arguments)}}()),ue(ze(n),"saveFileInput",function(a){n.fileInput=a}),n}return wn(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(o){var i=this,l=o.data,a=o.origin,u=o.action,c=o.parsedFile;if(this._isMounted){var d=this.props,f=d.onStart,b=d.customRequest,C=d.name,v=d.headers,g=d.withCredentials,p=d.method,y=a.uid,m=b||yi,w={action:u,filename:C,data:l,file:c,headers:v,withCredentials:g,method:p||"post",onProgress:function(h){var I=i.props.onProgress;I==null||I(h,c)},onSuccess:function(h,I){var E=i.props.onSuccess;E==null||E(h,c,I),delete i.reqs[y]},onError:function(h,I){var E=i.props.onError;E==null||E(h,I,c),delete i.reqs[y]}};f(a),this.reqs[y]=m(w)}}},{key:"reset",value:function(){this.setState({uid:Yt()})}},{key:"abort",value:function(o){var i=this.reqs;if(o){var l=o.uid?o.uid:o;i[l]&&i[l].abort&&i[l].abort(),delete i[l]}else Object.keys(i).forEach(function(a){i[a]&&i[a].abort&&i[a].abort(),delete i[a]})}},{key:"render",value:function(){var o=this.props,i=o.component,l=o.prefixCls,a=o.className,u=o.classNames,c=u===void 0?{}:u,d=o.disabled,f=o.id,b=o.name,C=o.style,v=o.styles,g=v===void 0?{}:v,p=o.multiple,y=o.accept,m=o.capture,w=o.children,$=o.directory,h=o.openFileDialogOnClick,I=o.onMouseEnter,E=o.onMouseLeave,R=o.hasControlInside,M=Xe(o,$i),x=le(ue(ue(ue({},l,!0),"".concat(l,"-disabled"),d),a,a)),S=$?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},P=d?{}:{onClick:h?this.onClick:function(){},onKeyDown:h?this.onKeyDown:function(){},onMouseEnter:I,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:R?void 0:"0"};return De.createElement(i,Me({},P,{className:x,role:R?void 0:"button",style:C}),De.createElement("input",Me({},oo(M,{aria:!0,data:!0}),{id:f,name:b,disabled:d,type:"file",ref:this.saveFileInput,onClick:function(k){return k.stopPropagation()},key:this.state.uid,style:oe({display:"none"},g.input),className:c.input,accept:y},S,{multiple:p,onChange:this.onChange},m!=null?{capture:m}:{})),w)}}]),t}(s.Component);function Gt(){}var pr=function(e){bn(t,e);var r=Cn(t);function t(){var n;yn(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),ue(ze(n),"uploader",void 0),ue(ze(n),"saveUploader",function(a){n.uploader=a}),n}return wn(t,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return De.createElement(Ei,Me({},this.props,{ref:this.saveUploader}))}}]),t}(s.Component);ue(pr,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Gt,onError:Gt,onSuccess:Gt,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Ri=e=>{const{componentCls:r,iconCls:t}=e;return{[`${r}-wrapper`]:{[`${r}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${ye(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[r]:{padding:e.padding},[`${r}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${ye(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${r}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${r}-disabled):hover,
          &-hover:not(${r}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${r}-drag-icon`]:{marginBottom:e.margin,[t]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${r}-text`]:{margin:`0 0 ${ye(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${r}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${r}-disabled`]:{[`p${r}-drag-icon ${t},
            p${r}-text,
            p${r}-hint
          `]:{color:e.colorTextDisabled}}}}}},Ii=e=>{const{componentCls:r,iconCls:t,fontSize:n,lineHeight:o,calc:i}=e,l=`${r}-list-item`,a=`${l}-actions`,u=`${l}-action`;return{[`${r}-wrapper`]:{[`${r}-list`]:Object.assign(Object.assign({},Sn()),{lineHeight:e.lineHeight,[l]:{position:"relative",height:i(e.lineHeight).mul(n).equal(),marginTop:e.marginXS,fontSize:n,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},hr),{padding:`0 ${ye(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[a]:{whiteSpace:"nowrap",[u]:{opacity:0},[t]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1}},[`${r}-icon ${t}`]:{color:e.colorTextDescription,fontSize:n},[`${l}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:i(n).add(e.paddingXS).equal(),fontSize:n,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${u}`]:{opacity:1},[`${l}-error`]:{color:e.colorError,[`${l}-name, ${r}-icon ${t}`]:{color:e.colorError},[a]:{[`${t}, ${t}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${r}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Pi=e=>{const{componentCls:r}=e,t=new lr("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new lr("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${r}-animate-inline`;return[{[`${r}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:t},[`${o}-leave`]:{animationName:n}}},{[`${r}-wrapper`]:pn(e)},t,n]},Mi=e=>{const{componentCls:r,iconCls:t,uploadThumbnailSize:n,uploadProgressOffset:o,calc:i}=e,l=`${r}-list`,a=`${l}-item`;return{[`${r}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[a]:{position:"relative",height:i(n).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${ye(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${a}-thumbnail`]:Object.assign(Object.assign({},hr),{width:n,height:n,lineHeight:ye(i(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${a}-progress`]:{bottom:o,width:`calc(100% - ${ye(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(n).add(e.paddingXS).equal()}},[`${a}-error`]:{borderColor:e.colorError,[`${a}-thumbnail ${t}`]:{[`svg path[fill='${Nr[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Nr.primary}']`]:{fill:e.colorError}}},[`${a}-uploading`]:{borderStyle:"dashed",[`${a}-name`]:{marginBottom:o}}},[`${l}${l}-picture-circle ${a}`]:{[`&, &::before, ${a}-thumbnail`]:{borderRadius:"50%"}}}}},Oi=e=>{const{componentCls:r,iconCls:t,fontSizeLG:n,colorTextLightSolid:o,calc:i}=e,l=`${r}-list`,a=`${l}-item`,u=e.uploadPicCardSize;return{[`
      ${r}-wrapper${r}-picture-card-wrapper,
      ${r}-wrapper${r}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Sn()),{display:"block",[`${r}${r}-select`]:{width:u,height:u,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${ye(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${r}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${r}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:u,height:u,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[a]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${ye(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${ye(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${a}:hover`]:{[`&::before, ${a}-actions`]:{opacity:1}},[`${a}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:n,margin:`0 ${ye(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${a}-thumbnail, ${a}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${a}-name`]:{display:"none",textAlign:"center"},[`${a}-file + ${a}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${ye(i(e.paddingXS).mul(2).equal())})`},[`${a}-uploading`]:{[`&${a}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${a}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${ye(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${r}-wrapper${r}-picture-circle-wrapper`]:{[`${r}${r}-select`]:{borderRadius:"50%"}}}},Di=e=>{const{componentCls:r}=e;return{[`${r}-rtl`]:{direction:"rtl"}}},Ni=e=>{const{componentCls:r,colorTextDisabled:t}=e;return{[`${r}-wrapper`]:Object.assign(Object.assign({},vr(e)),{[r]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${r}-select`]:{display:"inline-block"},[`${r}-disabled`]:{color:t,cursor:"not-allowed"}})}},Ti=e=>({actionsColor:e.colorTextDescription}),ki=Lt("Upload",e=>{const{fontSizeHeading3:r,fontHeight:t,lineWidth:n,controlHeightLG:o,calc:i}=e,l=St(e,{uploadThumbnailSize:i(r).mul(2).equal(),uploadProgressOffset:i(i(t).div(2)).add(n).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[Ni(l),Ri(l),Mi(l),Oi(l),Ii(l),Pi(l),Di(l),ao(l)]},Ti);function Pt(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Mt(e,r){const t=_e(r),n=t.findIndex(o=>{let{uid:i}=o;return i===e.uid});return n===-1?t.push(e):t[n]=e,t}function Vt(e,r){const t=e.uid!==void 0?"uid":"name";return r.filter(n=>n[t]===e[t])[0]}function _i(e,r){const t=e.uid!==void 0?"uid":"name",n=r.filter(o=>o[t]!==e[t]);return n.length===r.length?null:n}const Ai=function(){const r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=r[r.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},_n=e=>e.indexOf("image/")===0,ji=e=>{if(e.type&&!e.thumbUrl)return _n(e.type);const r=e.thumbUrl||e.url||"",t=Ai(r);return/^data:image\//.test(r)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(r)||t)},Qe=200;function Li(e){return new Promise(r=>{if(!e.type||!_n(e.type)){r("");return}const t=document.createElement("canvas");t.width=Qe,t.height=Qe,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${Qe}px; height: ${Qe}px; z-index: 9999; display: none;`,document.body.appendChild(t);const n=t.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:i,height:l}=o;let a=Qe,u=Qe,c=0,d=0;i>l?(u=l*(Qe/i),d=-(u-a)/2):(a=i*(Qe/l),c=-(a-u)/2),n.drawImage(o,c,d,a,u);const f=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(o.src),r(f)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(o.src=i.result)},i.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&r(i.result)},i.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}const zi=s.forwardRef((e,r)=>{let{prefixCls:t,className:n,style:o,locale:i,listType:l,file:a,items:u,progress:c,iconRender:d,actionIconRender:f,itemRender:b,isImgUrl:C,showPreviewIcon:v,showRemoveIcon:g,showDownloadIcon:p,previewIcon:y,removeIcon:m,downloadIcon:w,extra:$,onPreview:h,onDownload:I,onClose:E}=e;var R,M;const{status:x}=a,[S,P]=s.useState(x);s.useEffect(()=>{x!=="removed"&&P(x)},[x]);const[O,k]=s.useState(!1);s.useEffect(()=>{const H=setTimeout(()=>{k(!0)},300);return()=>{clearTimeout(H)}},[]);const L=d(a);let z=s.createElement("div",{className:`${t}-icon`},L);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(S==="uploading"||!a.thumbUrl&&!a.url){const H=le(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:S!=="uploading"});z=s.createElement("div",{className:H},L)}else{const H=C!=null&&C(a)?s.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:`${t}-list-item-image`,crossOrigin:a.crossOrigin}):L,U=le(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:C&&!C(a)});z=s.createElement("a",{className:U,onClick:ae=>h(a,ae),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},H)}const _=le(`${t}-list-item`,`${t}-list-item-${S}`),ee=typeof a.linkProps=="string"?JSON.parse(a.linkProps):a.linkProps,Y=(typeof g=="function"?g(a):g)?f((typeof m=="function"?m(a):m)||s.createElement(ho,null),()=>E(a),t,i.removeFile,!0):null,K=(typeof p=="function"?p(a):p)&&S==="done"?f((typeof w=="function"?w(a):w)||s.createElement(ci,null),()=>I(a),t,i.downloadFile):null,G=l!=="picture-card"&&l!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:le(`${t}-list-item-actions`,{picture:l==="picture"})},K,Y),te=typeof $=="function"?$(a):$,D=te&&s.createElement("span",{className:`${t}-list-item-extra`},te),B=le(`${t}-list-item-name`),N=a.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:B,title:a.name},ee,{href:a.url,onClick:H=>h(a,H)}),a.name,D):s.createElement("span",{key:"view",className:B,onClick:H=>h(a,H),title:a.name},a.name,D),T=(typeof v=="function"?v(a):v)&&(a.url||a.thumbUrl)?s.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:H=>h(a,H),title:i.previewFile},typeof y=="function"?y(a):y||s.createElement(En,null)):null,F=(l==="picture-card"||l==="picture-circle")&&S!=="uploading"&&s.createElement("span",{className:`${t}-list-item-actions`},T,S==="done"&&K,Y),{getPrefixCls:A}=s.useContext(nt),J=A(),j=s.createElement("div",{className:_},z,N,G,F,O&&s.createElement(gr,{motionName:`${J}-fade`,visible:S==="uploading",motionDeadline:2e3},H=>{let{className:U}=H;const ae="percent"in a?s.createElement(ii,Object.assign({},c,{type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]})):null;return s.createElement("div",{className:le(`${t}-list-item-progress`,U)},ae)})),W=a.response&&typeof a.response=="string"?a.response:((R=a.error)===null||R===void 0?void 0:R.statusText)||((M=a.error)===null||M===void 0?void 0:M.message)||i.uploadError,Z=S==="error"?s.createElement(mr,{title:W,getPopupContainer:H=>H.parentNode},j):j;return s.createElement("div",{className:le(`${t}-list-item-container`,n),style:o,ref:r},b?b(Z,a,u,{download:I.bind(null,a),preview:h.bind(null,a),remove:E.bind(null,a)}):Z)}),Fi=(e,r)=>{const{listType:t="text",previewFile:n=Li,onPreview:o,onDownload:i,onRemove:l,locale:a,iconRender:u,isImageUrl:c=ji,prefixCls:d,items:f=[],showPreviewIcon:b=!0,showRemoveIcon:C=!0,showDownloadIcon:v=!1,removeIcon:g,previewIcon:p,downloadIcon:y,extra:m,progress:w={size:[-1,2],showInfo:!1},appendAction:$,appendActionVisible:h=!0,itemRender:I,disabled:E}=e,R=go(),[M,x]=s.useState(!1),S=["picture-card","picture-circle"].includes(t);s.useEffect(()=>{t.startsWith("picture")&&(f||[]).forEach(D=>{!(D.originFileObj instanceof File||D.originFileObj instanceof Blob)||D.thumbUrl!==void 0||(D.thumbUrl="",n==null||n(D.originFileObj).then(B=>{D.thumbUrl=B||"",R()}))})},[t,f,n]),s.useEffect(()=>{x(!0)},[]);const P=(D,B)=>{if(o)return B==null||B.preventDefault(),o(D)},O=D=>{typeof i=="function"?i(D):D.url&&window.open(D.url)},k=D=>{l==null||l(D)},L=D=>{if(u)return u(D,t);const B=D.status==="uploading";if(t.startsWith("picture")){const N=t==="picture"?s.createElement(cr,null):a.uploading,T=c!=null&&c(D)?s.createElement(bi,null):s.createElement(fi,null);return B?N:T}return B?s.createElement(cr,null):s.createElement(vi,null)},z=(D,B,N,T,F)=>{const A={type:"text",size:"small",title:T,onClick:J=>{var j,W;B(),s.isValidElement(D)&&((W=(j=D.props).onClick)===null||W===void 0||W.call(j,J))},className:`${N}-list-item-action`};return F&&(A.disabled=E),s.isValidElement(D)?s.createElement(dt,Object.assign({},A,{icon:Tr(D,Object.assign(Object.assign({},D.props),{onClick:()=>{}}))})):s.createElement(dt,Object.assign({},A),s.createElement("span",null,D))};s.useImperativeHandle(r,()=>({handlePreview:P,handleDownload:O}));const{getPrefixCls:_}=s.useContext(nt),ee=_("upload",d),Y=_(),K=le(`${ee}-list`,`${ee}-list-${t}`),G=s.useMemo(()=>hn(io(Y),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[Y]),te=Object.assign(Object.assign({},S?{}:G),{motionDeadline:2e3,motionName:`${ee}-${S?"animate-inline":"animate"}`,keys:_e(f.map(D=>({key:D.uid,file:D}))),motionAppear:M});return s.createElement("div",{className:K},s.createElement(so,Object.assign({},te,{component:!1}),D=>{let{key:B,file:N,className:T,style:F}=D;return s.createElement(zi,{key:B,locale:a,prefixCls:ee,className:T,style:F,file:N,items:f,progress:w,listType:t,isImgUrl:c,showPreviewIcon:b,showRemoveIcon:C,showDownloadIcon:v,removeIcon:g,previewIcon:p,downloadIcon:y,extra:m,iconRender:L,actionIconRender:z,itemRender:I,onPreview:P,onDownload:O,onClose:k})}),$&&s.createElement(gr,Object.assign({},te,{visible:h,forceRender:!0}),D=>{let{className:B,style:N}=D;return Tr($,T=>({className:le(T.className,B),style:Object.assign(Object.assign(Object.assign({},N),{pointerEvents:B?"none":void 0}),T.style)}))}))},Bi=s.forwardRef(Fi);var Wi=function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(d){try{c(n.next(d))}catch(f){l(f)}}function u(d){try{c(n.throw(d))}catch(f){l(f)}}function c(d){d.done?i(d.value):o(d.value).then(a,u)}c((n=n.apply(e,[])).next())})};const yt=`__LIST_IGNORE_${Date.now()}__`,Hi=(e,r)=>{const{fileList:t,defaultFileList:n,onRemove:o,showUploadList:i=!0,listType:l="text",onPreview:a,onDownload:u,onChange:c,onDrop:d,previewFile:f,disabled:b,locale:C,iconRender:v,isImageUrl:g,progress:p,prefixCls:y,className:m,type:w="select",children:$,style:h,itemRender:I,maxCount:E,data:R={},multiple:M=!1,hasControlInside:x=!0,action:S="",accept:P="",supportServerRender:O=!0,rootClassName:k}=e,L=s.useContext(fn),z=b??L,[_,ee]=wt(n||[],{value:t,postState:Q=>Q??[]}),[Y,K]=s.useState("drop"),G=s.useRef(null),te=s.useRef(null);s.useMemo(()=>{const Q=Date.now();(t||[]).forEach((fe,we)=>{!fe.uid&&!Object.isFrozen(fe)&&(fe.uid=`__AUTO__${Q}_${we}__`)})},[t]);const D=(Q,fe,we)=>{let se=_e(fe),he=!1;E===1?se=se.slice(-1):E&&(he=se.length>E,se=se.slice(0,E)),or.flushSync(()=>{ee(se)});const de={file:Q,fileList:se};we&&(de.event=we),(!he||Q.status==="removed"||se.some(Te=>Te.uid===Q.uid))&&or.flushSync(()=>{c==null||c(de)})},B=(Q,fe)=>Wi(void 0,void 0,void 0,function*(){const{beforeUpload:we,transformFile:se}=e;let he=Q;if(we){const de=yield we(Q,fe);if(de===!1)return!1;if(delete Q[yt],de===yt)return Object.defineProperty(Q,yt,{value:!0,configurable:!0}),!1;typeof de=="object"&&de&&(he=de)}return se&&(he=yield se(he)),he}),N=Q=>{const fe=Q.filter(he=>!he.file[yt]);if(!fe.length)return;const we=fe.map(he=>Pt(he.file));let se=_e(_);we.forEach(he=>{se=Mt(he,se)}),we.forEach((he,de)=>{let Te=he;if(fe[de].parsedFile)he.status="uploading";else{const{originFileObj:Se}=he;let je;try{je=new File([Se],Se.name,{type:Se.type})}catch{je=new Blob([Se],{type:Se.type}),je.name=Se.name,je.lastModifiedDate=new Date,je.lastModified=new Date().getTime()}je.uid=he.uid,Te=je}D(Te,se)})},T=(Q,fe,we)=>{try{typeof Q=="string"&&(Q=JSON.parse(Q))}catch{}if(!Vt(fe,_))return;const se=Pt(fe);se.status="done",se.percent=100,se.response=Q,se.xhr=we;const he=Mt(se,_);D(se,he)},F=(Q,fe)=>{if(!Vt(fe,_))return;const we=Pt(fe);we.status="uploading",we.percent=Q.percent;const se=Mt(we,_);D(we,se,Q)},A=(Q,fe,we)=>{if(!Vt(we,_))return;const se=Pt(we);se.error=Q,se.response=fe,se.status="error";const he=Mt(se,_);D(se,he)},J=Q=>{let fe;Promise.resolve(typeof o=="function"?o(Q):o).then(we=>{var se;if(we===!1)return;const he=_i(Q,_);he&&(fe=Object.assign(Object.assign({},Q),{status:"removed"}),_==null||_.forEach(de=>{const Te=fe.uid!==void 0?"uid":"name";de[Te]===fe[Te]&&!Object.isFrozen(de)&&(de.status="removed")}),(se=G.current)===null||se===void 0||se.abort(fe),D(fe,he))})},j=Q=>{K(Q.type),Q.type==="drop"&&(d==null||d(Q))};s.useImperativeHandle(r,()=>({onBatchStart:N,onSuccess:T,onProgress:F,onError:A,fileList:_,upload:G.current,nativeElement:te.current}));const{getPrefixCls:W,direction:Z,upload:H}=s.useContext(nt),U=W("upload",y),ae=Object.assign(Object.assign({onBatchStart:N,onError:A,onProgress:F,onSuccess:T},e),{data:R,multiple:M,action:S,accept:P,supportServerRender:O,prefixCls:U,disabled:z,beforeUpload:B,onChange:void 0,hasControlInside:x});delete ae.className,delete ae.style,(!$||z)&&delete ae.id;const re=`${U}-wrapper`,[q,X,ce]=ki(U,re),[ie]=lo("Upload",ir.Upload),{showRemoveIcon:pe,showPreviewIcon:$e,showDownloadIcon:ge,removeIcon:Re,previewIcon:be,downloadIcon:Ee,extra:Ae}=typeof i=="boolean"?{}:i,me=typeof pe>"u"?!z:pe,Ie=(Q,fe)=>i?s.createElement(Bi,{prefixCls:U,listType:l,items:_,previewFile:f,onPreview:a,onDownload:u,onRemove:J,showRemoveIcon:me,showPreviewIcon:$e,showDownloadIcon:ge,removeIcon:Re,previewIcon:be,downloadIcon:Ee,iconRender:v,extra:Ae,locale:Object.assign(Object.assign({},ie),C),isImageUrl:g,progress:p,appendAction:Q,appendActionVisible:fe,itemRender:I,disabled:z}):Q,Ne=le(re,m,k,X,ce,H==null?void 0:H.className,{[`${U}-rtl`]:Z==="rtl",[`${U}-picture-card-wrapper`]:l==="picture-card",[`${U}-picture-circle-wrapper`]:l==="picture-circle"}),Fe=Object.assign(Object.assign({},H==null?void 0:H.style),h);if(w==="drag"){const Q=le(X,U,`${U}-drag`,{[`${U}-drag-uploading`]:_.some(fe=>fe.status==="uploading"),[`${U}-drag-hover`]:Y==="dragover",[`${U}-disabled`]:z,[`${U}-rtl`]:Z==="rtl"});return q(s.createElement("span",{className:Ne,ref:te},s.createElement("div",{className:Q,style:Fe,onDrop:j,onDragOver:j,onDragLeave:j},s.createElement(pr,Object.assign({},ae,{ref:G,className:`${U}-btn`}),s.createElement("div",{className:`${U}-drag-container`},$))),Ie()))}const We=le(U,`${U}-select`,{[`${U}-disabled`]:z}),at=s.createElement("div",{className:We,style:$?void 0:{display:"none"}},s.createElement(pr,Object.assign({},ae,{ref:G})));return q(l==="picture-card"||l==="picture-circle"?s.createElement("span",{className:Ne,ref:te},Ie(at,!!$)):s.createElement("span",{className:Ne,ref:te},at,Ie()))},An=s.forwardRef(Hi);var Ui=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};const Xi=s.forwardRef((e,r)=>{var{style:t,height:n,hasControlInside:o=!1}=e,i=Ui(e,["style","height","hasControlInside"]);return s.createElement(An,Object.assign({ref:r,hasControlInside:o},i,{type:"drag",style:Object.assign(Object.assign({},t),{height:n})}))}),Ft=An;Ft.Dragger=Xi;Ft.LIST_IGNORE=yt;var Kt,Gr;function Zi(){if(Gr)return Kt;Gr=1;var e=!1,r,t,n,o,i,l,a,u,c,d,f,b,C,v,g;function p(){if(!e){e=!0;var m=navigator.userAgent,w=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(m),$=/(Mac OS X)|(Windows)|(Linux)/.exec(m);if(b=/\b(iPhone|iP[ao]d)/.exec(m),C=/\b(iP[ao]d)/.exec(m),d=/Android/i.exec(m),v=/FBAN\/\w+;/i.exec(m),g=/Mobile/i.exec(m),f=!!/Win64/.exec(m),w){r=w[1]?parseFloat(w[1]):w[5]?parseFloat(w[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var h=/(?:Trident\/(\d+.\d+))/.exec(m);l=h?parseFloat(h[1])+4:r,t=w[2]?parseFloat(w[2]):NaN,n=w[3]?parseFloat(w[3]):NaN,o=w[4]?parseFloat(w[4]):NaN,o?(w=/(?:Chrome\/(\d+\.\d+))/.exec(m),i=w&&w[1]?parseFloat(w[1]):NaN):i=NaN}else r=t=n=i=o=NaN;if($){if($[1]){var I=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(m);a=I?parseFloat(I[1].replace("_",".")):!0}else a=!1;u=!!$[2],c=!!$[3]}else a=u=c=!1}}var y={ie:function(){return p()||r},ieCompatibilityMode:function(){return p()||l>r},ie64:function(){return y.ie()&&f},firefox:function(){return p()||t},opera:function(){return p()||n},webkit:function(){return p()||o},safari:function(){return y.webkit()},chrome:function(){return p()||i},windows:function(){return p()||u},osx:function(){return p()||a},linux:function(){return p()||c},iphone:function(){return p()||b},mobile:function(){return p()||b||C||d||g},nativeApp:function(){return p()||v},android:function(){return p()||d},ipad:function(){return p()||C}};return Kt=y,Kt}var Jt,Vr;function qi(){if(Vr)return Jt;Vr=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Jt=r,Jt}var Qt,Kr;function Yi(){if(Kr)return Qt;Kr=1;var e=qi(),r;e.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function t(n,o){if(!e.canUseDOM||o&&!("addEventListener"in document))return!1;var i="on"+n,l=i in document;if(!l){var a=document.createElement("div");a.setAttribute(i,"return;"),l=typeof a[i]=="function"}return!l&&r&&n==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return Qt=t,Qt}var er,Jr;function Gi(){if(Jr)return er;Jr=1;var e=Zi(),r=Yi(),t=10,n=40,o=800;function i(l){var a=0,u=0,c=0,d=0;return"detail"in l&&(u=l.detail),"wheelDelta"in l&&(u=-l.wheelDelta/120),"wheelDeltaY"in l&&(u=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(a=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(a=u,u=0),c=a*t,d=u*t,"deltaY"in l&&(d=l.deltaY),"deltaX"in l&&(c=l.deltaX),(c||d)&&l.deltaMode&&(l.deltaMode==1?(c*=n,d*=n):(c*=o,d*=o)),c&&!a&&(a=c<1?-1:1),d&&!u&&(u=d<1?-1:1),{spinX:a,spinY:u,pixelX:c,pixelY:d}}return i.getEventType=function(){return e.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},er=i,er}var tr,Qr;function Vi(){return Qr||(Qr=1,tr=Gi()),tr}var Ki=Vi();const Ji=co(Ki);function Qi(e,r,t,n,o,i){i===void 0&&(i=0);var l=pt(e,r,i),a=l.width,u=l.height,c=Math.min(a,t),d=Math.min(u,n);return c>d*o?{width:d*o,height:d}:{width:c,height:c/o}}function es(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Ot(e,r,t,n,o){o===void 0&&(o=0);var i=pt(r.width,r.height,o),l=i.width,a=i.height;return{x:en(e.x,l,t.width,n),y:en(e.y,a,t.height,n)}}function en(e,r,t,n){var o=r*n/2-t/2;return Bt(e,-o,o)}function tn(e,r){return Math.sqrt(Math.pow(e.y-r.y,2)+Math.pow(e.x-r.x,2))}function rn(e,r){return Math.atan2(r.y-e.y,r.x-e.x)*180/Math.PI}function ts(e,r,t,n,o,i,l){i===void 0&&(i=0),l===void 0&&(l=!0);var a=l?rs:ns,u=pt(r.width,r.height,i),c=pt(r.naturalWidth,r.naturalHeight,i),d={x:a(100,((u.width-t.width/o)/2-e.x/o)/u.width*100),y:a(100,((u.height-t.height/o)/2-e.y/o)/u.height*100),width:a(100,t.width/u.width*100/o),height:a(100,t.height/u.height*100/o)},f=Math.round(a(c.width,d.width*c.width/100)),b=Math.round(a(c.height,d.height*c.height/100)),C=c.width>=c.height*n,v=C?{width:Math.round(b*n),height:b}:{width:f,height:Math.round(f/n)},g=Le(Le({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:g}}function rs(e,r){return Math.min(e,Math.max(0,r))}function ns(e,r){return r}function os(e,r,t,n,o,i){var l=pt(r.width,r.height,t),a=Bt(n.width/l.width*(100/e.width),o,i),u={x:a*l.width/2-n.width/2-l.width*a*(e.x/100),y:a*l.height/2-n.height/2-l.height*a*(e.y/100)};return{crop:u,zoom:a}}function as(e,r,t){var n=es(r);return t.height>t.width?t.height/(e.height*n):t.width/(e.width*n)}function is(e,r,t,n,o,i){t===void 0&&(t=0);var l=pt(r.naturalWidth,r.naturalHeight,t),a=Bt(as(e,r,n),o,i),u=n.height>n.width?n.height/e.height:n.width/e.width,c={x:((l.width-e.width)/2-e.x)*u,y:((l.height-e.height)/2-e.y)*u};return{crop:c,zoom:a}}function nn(e,r){return{x:(r.x+e.x)/2,y:(r.y+e.y)/2}}function ss(e){return e*Math.PI/180}function pt(e,r,t){var n=ss(t);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*r),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*r)}}function Bt(e,r,t){return Math.min(Math.max(e,r),t)}function Dt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(function(t){return typeof t=="string"&&t.length>0}).join(" ").trim()}var ls=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,cs=1,us=3,ds=function(e){mo(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.imageRef=s.createRef(),t.videoRef=s.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc=typeof document<"u"?document:null,t.currentWindow=typeof window<"u"?window:null,t.resizeObserver=null,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!t.containerRef)){var n=!0;t.resizeObserver=new window.ResizeObserver(function(o){if(n){n=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(n){return n.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturemove",t.onGestureMove),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var n=t.computeSizes();n&&(t.emitCropData(),t.setInitialCrop(n)),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(n){if(t.props.initialCroppedAreaPercentages){var o=os(t.props.initialCroppedAreaPercentages,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),i=o.crop,l=o.zoom;t.props.onCropChange(i),t.props.onZoomChange&&t.props.onZoomChange(l)}else if(t.props.initialCroppedAreaPixels){var a=is(t.props.initialCroppedAreaPixels,t.mediaSize,t.props.rotation,n,t.props.minZoom,t.props.maxZoom),i=a.crop,l=a.zoom;t.props.onCropChange(i),t.props.onZoomChange&&t.props.onZoomChange(l)}},t.computeSizes=function(){var n,o,i,l,a,u,c=t.imageRef.current||t.videoRef.current;if(c&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var d=t.containerRect.width/t.containerRect.height,f=((n=t.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((o=t.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,b=((i=t.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((l=t.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,C=c.offsetWidth<f||c.offsetHeight<b,v=f/b,g=void 0;if(C)switch(t.state.mediaObjectFit){default:case"contain":g=d>v?{width:t.containerRect.height*v,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/v};break;case"horizontal-cover":g={width:t.containerRect.width,height:t.containerRect.width/v};break;case"vertical-cover":g={width:t.containerRect.height*v,height:t.containerRect.height};break}else g={width:c.offsetWidth,height:c.offsetHeight};t.mediaSize=Le(Le({},g),{naturalWidth:f,naturalHeight:b}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var p=t.props.cropSize?t.props.cropSize:Qi(t.mediaSize.width,t.mediaSize.height,t.containerRect.width,t.containerRect.height,t.props.aspect,t.props.rotation);return(((a=t.state.cropSize)===null||a===void 0?void 0:a.height)!==p.height||((u=t.state.cropSize)===null||u===void 0?void 0:u.width)!==p.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(p),t.setState({cropSize:p},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(p),p}},t.saveContainerPosition=function(){if(t.containerRef){var n=t.containerRef.getBoundingClientRect();t.containerPosition={x:n.left,y:n.top}}},t.onMouseDown=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(r.getMousePoint(n)))},t.onMouseMove=function(n){return t.onDrag(r.getMousePoint(n))},t.onScroll=function(n){t.currentDoc&&(n.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(n){t.currentDoc&&(t.isTouching=!0,!(t.props.onTouchRequest&&!t.props.onTouchRequest(n))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),n.touches.length===2?t.onPinchStart(n):n.touches.length===1&&t.onDragStart(r.getTouchPoint(n.touches[0]))))},t.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?t.onPinchMove(n):n.touches.length===1&&t.onDrag(r.getTouchPoint(n.touches[0]))},t.onGestureStart=function(n){t.currentDoc&&(n.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureMove),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureMove=function(n){if(n.preventDefault(),!t.isTouching){var o=r.getMousePoint(n),i=t.gestureZoomStart-1+n.scale;if(t.setNewZoom(i,o,{shouldUpdatePosition:!0}),t.props.onRotationChange){var l=t.gestureRotationStart+n.rotation;t.props.onRotationChange(l)}}},t.onGestureEnd=function(n){t.cleanEvents()},t.onDragStart=function(n){var o,i,l=n.x,a=n.y;t.dragStartPosition={x:l,y:a},t.dragStartCrop=Le({},t.props.crop),(i=(o=t.props).onInteractionStart)===null||i===void 0||i.call(o)},t.onDrag=function(n){var o=n.x,i=n.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&!(o===void 0||i===void 0)){var l=o-t.dragStartPosition.x,a=i-t.dragStartPosition.y,u={x:t.dragStartCrop.x+l,y:t.dragStartCrop.y+a},c=t.props.restrictPosition?Ot(u,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):u;t.props.onCropChange(c)}}))},t.onDragStopped=function(){var n,o;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),(o=(n=t.props).onInteractionEnd)===null||o===void 0||o.call(n)},t.onWheel=function(n){if(t.currentWindow&&!(t.props.onWheelRequest&&!t.props.onWheelRequest(n))){n.preventDefault();var o=r.getMousePoint(n),i=Ji(n).pixelY,l=t.props.zoom-i*t.props.zoomSpeed/200;t.setNewZoom(l,o,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var a,u;return(u=(a=t.props).onInteractionStart)===null||u===void 0?void 0:u.call(a)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var a,u;return(u=(a=t.props).onInteractionEnd)===null||u===void 0?void 0:u.call(a)})},250)}},t.getPointOnContainer=function(n,o){var i=n.x,l=n.y;if(!t.containerRect)throw new Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(i-o.x),y:t.containerRect.height/2-(l-o.y)}},t.getPointOnMedia=function(n){var o=n.x,i=n.y,l=t.props,a=l.crop,u=l.zoom;return{x:(o+a.x)/u,y:(i+a.y)/u}},t.setNewZoom=function(n,o,i){var l=i===void 0?{}:i,a=l.shouldUpdatePosition,u=a===void 0?!0:a;if(!(!t.state.cropSize||!t.props.onZoomChange)){var c=Bt(n,t.props.minZoom,t.props.maxZoom);if(u){var d=t.getPointOnContainer(o,t.containerPosition),f=t.getPointOnMedia(d),b={x:f.x*c-d.x,y:f.y*c-d.y},C=t.props.restrictPosition?Ot(b,t.mediaSize,t.state.cropSize,c,t.props.rotation):b;t.props.onCropChange(C)}t.props.onZoomChange(c)}},t.getCropData=function(){if(!t.state.cropSize)return null;var n=t.props.restrictPosition?Ot(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;return ts(n,t.mediaSize,t.state.cropSize,t.getAspect(),t.props.zoom,t.props.rotation,t.props.restrictPosition)},t.emitCropData=function(){var n=t.getCropData();if(n){var o=n.croppedAreaPercentages,i=n.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(o,i),t.props.onCropAreaChange&&t.props.onCropAreaChange(o,i)}},t.emitCropAreaChange=function(){var n=t.getCropData();if(n){var o=n.croppedAreaPercentages,i=n.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(o,i)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var n=t.props.restrictPosition?Ot(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop;t.props.onCropChange(n),t.emitCropData()}},t}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ls,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},r.prototype.componentWillUnmount=function(){var t,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(t){var n,o,i,l,a,u,c,d,f;t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):t.aspect!==this.props.aspect?this.computeSizes():t.objectFit!==this.props.objectFit?this.computeSizes():t.zoom!==this.props.zoom?this.recomputeCropPosition():((n=t.cropSize)===null||n===void 0?void 0:n.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=t.cropSize)===null||i===void 0?void 0:i.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((a=t.crop)===null||a===void 0?void 0:a.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((c=t.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),t.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},r.prototype.getAspect=function(){var t=this.props,n=t.cropSize,o=t.aspect;return n?n.width/n.height:o},r.prototype.getObjectFit=function(){var t,n,o,i;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,u=((t=this.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,c=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=u/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(t){var n=r.getTouchPoint(t.touches[0]),o=r.getTouchPoint(t.touches[1]);this.lastPinchDistance=tn(n,o),this.lastPinchRotation=rn(n,o),this.onDragStart(nn(n,o))},r.prototype.onPinchMove=function(t){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var o=r.getTouchPoint(t.touches[0]),i=r.getTouchPoint(t.touches[1]),l=nn(o,i);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=tn(o,i),u=n.props.zoom*(a/n.lastPinchDistance);n.setNewZoom(u,l,{shouldUpdatePosition:!1}),n.lastPinchDistance=a;var c=rn(o,i),d=n.props.rotation+(c-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(d),n.lastPinchRotation=c})}},r.prototype.render=function(){var t=this,n,o=this.props,i=o.image,l=o.video,a=o.mediaProps,u=o.transform,c=o.crop,d=c.x,f=c.y,b=o.rotation,C=o.zoom,v=o.cropShape,g=o.showGrid,p=o.style,y=p.containerStyle,m=p.cropAreaStyle,w=p.mediaStyle,$=o.classes,h=$.containerClassName,I=$.cropAreaClassName,E=$.mediaClassName,R=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return s.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(x){return t.containerRef=x},"data-testid":"container",style:y,className:Dt("reactEasyCrop_Container",h)},i?s.createElement("img",Le({alt:"",className:Dt("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},a,{src:i,ref:this.imageRef,style:Le(Le({},w),{transform:u||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(b,"deg) scale(").concat(C,")")}),onLoad:this.onMediaLoad})):l&&s.createElement("video",Le({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Dt("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Le(Le({},w),{transform:u||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(b,"deg) scale(").concat(C,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(M){return s.createElement("source",Le({key:M.src},M))})),this.state.cropSize&&s.createElement("div",{style:Le(Le({},m),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Dt("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",g&&"reactEasyCrop_CropAreaGrid",I)}))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:us,minZoom:cs,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},r.getMousePoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},r.getTouchPoint=function(t){return{x:Number(t.clientX),y:Number(t.clientY)}},r}(s.Component);const He="img-crop",rr=1,ht=.1,Tt=0,on=-180,an=180,nr=1,sn=.5,ln=2,bt=.01,fs=s.forwardRef((e,r)=>{const{cropperRef:t,zoomSlider:n,rotationSlider:o,aspectSlider:i,showReset:l,resetBtnText:a,modalImage:u,aspect:c,minZoom:d,maxZoom:f,cropShape:b,showGrid:C,cropperProps:v}=e,[g,p]=s.useState(rr),[y,m]=s.useState(Tt),[w,$]=s.useState(c),h=g!==rr||y!==Tt||w!==c,I=()=>{p(rr),m(Tt),$(c)},[E,R]=s.useState({x:0,y:0}),M=s.useRef({width:0,height:0,x:0,y:0}),x=s.useCallback((k,L)=>{M.current=L},[]);s.useImperativeHandle(r,()=>({rotation:y,cropPixelsRef:M,onReset:I}));const S="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",P="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",O="[flex:1]";return ne.jsxs(ne.Fragment,{children:[ne.jsx(ds,Object.assign({},v,{ref:t,image:u,crop:E,zoom:g,rotation:y,aspect:w,minZoom:d,maxZoom:f,zoomWithScroll:n,cropShape:b,showGrid:C,onCropChange:R,onZoomChange:p,onRotationChange:m,onCropComplete:x,classes:{containerClassName:`${He}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${He}-media`}})),n&&ne.jsxs("section",{className:`${He}-control ${He}-control-zoom ${S}`,children:[ne.jsx("button",{className:P,onClick:()=>p(+(g-ht).toFixed(1)),disabled:g-ht<d,children:"－"}),ne.jsx(Xt,{className:O,min:d,max:f,step:ht,value:g,onChange:p}),ne.jsx("button",{className:P,onClick:()=>p(+(g+ht).toFixed(1)),disabled:g+ht>f,children:"＋"})]}),o&&ne.jsxs("section",{className:`${He}-control ${He}-control-rotation ${S}`,children:[ne.jsx("button",{className:`${P} [font-size:16px]`,onClick:()=>m(y-nr),disabled:y===on,children:"↺"}),ne.jsx(Xt,{className:O,min:on,max:an,step:nr,value:y,onChange:m}),ne.jsx("button",{className:`${P} [font-size:16px]`,onClick:()=>m(y+nr),disabled:y===an,children:"↻"})]}),i&&ne.jsxs("section",{className:`${He}-control ${He}-control-aspect ${S}`,children:[ne.jsx("button",{className:P,onClick:()=>$(+(w-bt).toFixed(2)),disabled:w-bt<sn,children:"↕️"}),ne.jsx(Xt,{className:O,min:sn,max:ln,step:bt,value:w,onChange:$}),ne.jsx("button",{className:P,onClick:()=>$(+(w+bt).toFixed(2)),disabled:w+bt>ln,children:"↔️"})]}),l&&(n||o||i)&&ne.jsx(dt,{className:"[bottom:20px] [position:absolute]",style:h?{}:{opacity:.3,pointerEvents:"none"},onClick:I,children:a})]})});var ps=s.memo(fs);function ms(e,r){r===void 0&&(r={});var t=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var vs=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";ms(vs,{insertAt:"top"});const gs=s.forwardRef((e,r)=>{const{quality:t=.4,fillColor:n="white",zoomSlider:o=!0,rotationSlider:i=!1,aspectSlider:l=!1,showReset:a=!1,resetText:u,aspect:c=1,minZoom:d=1,maxZoom:f=3,cropShape:b="rect",showGrid:C=!1,cropperProps:v,modalClassName:g,modalTitle:p,modalWidth:y,modalOk:m,modalCancel:w,onModalOk:$,onModalCancel:h,modalProps:I,beforeCrop:E,children:R}=e,M=s.useRef({});M.current.onModalOk=$,M.current.onModalCancel=h,M.current.beforeCrop=E;const x=s.useRef(null),S=s.useCallback(N=>{var T;const F=document.createElement("canvas"),A=F.getContext("2d"),j=(((T=N==null?void 0:N.getRootNode)===null||T===void 0?void 0:T.call(N))||document).querySelector(`.${He}-media`),{width:W,height:Z,x:H,y:U}=x.current.cropPixelsRef.current;if(i&&x.current.rotation!==Tt){const{naturalWidth:ae,naturalHeight:re}=j,q=x.current.rotation*(Math.PI/180),X=Math.abs(Math.sin(q)),ce=Math.abs(Math.cos(q)),ie=ae*ce+re*X,pe=re*ce+ae*X;F.width=ie,F.height=pe,A.fillStyle=n,A.fillRect(0,0,ie,pe);const $e=ie/2,ge=pe/2;A.translate($e,ge),A.rotate(q),A.translate(-$e,-ge);const Re=(ie-ae)/2,be=(pe-re)/2;A.drawImage(j,0,0,ae,re,Re,be,ae,re);const Ee=A.getImageData(0,0,ie,pe);F.width=W,F.height=Z,A.putImageData(Ee,-H,-U)}else F.width=W,F.height=Z,A.fillStyle=n,A.fillRect(0,0,W,Z),A.drawImage(j,H,U,W,Z,0,0,W,Z);return F},[n,i]),[P,O]=s.useState(""),k=s.useRef(),L=s.useRef(),z=s.useCallback(N=>Rt(void 0,[N],void 0,function*({beforeUpload:T,file:F,resolve:A,reject:J}){const j=F;if(typeof T!="function"){A(j);return}try{const W=yield T(F,[F]);A(W===!1?!1:W!==!0&&W||j)}catch(W){J(W)}}),[]),_=s.useCallback(N=>(T,F)=>new Promise((A,J)=>Rt(void 0,void 0,void 0,function*(){let j=T;if(typeof M.current.beforeCrop=="function")try{const Z=yield M.current.beforeCrop(T,F);if(Z===!1)return z({beforeUpload:N,file:T,resolve:A,reject:J});Z!==!0&&(j=Z||T)}catch{return z({beforeUpload:N,file:T,resolve:A,reject:J})}const W=new FileReader;W.addEventListener("load",()=>{typeof W.result=="string"&&O(W.result)}),W.readAsDataURL(j),k.current=()=>{var Z,H;O(""),x.current.onReset();let U=!1;(H=(Z=M.current).onModalCancel)===null||H===void 0||H.call(Z,ae=>{A(ae),U=!0}),U||A(Ft.LIST_IGNORE)},L.current=Z=>Rt(void 0,void 0,void 0,function*(){O(""),x.current.onReset();const H=S(Z.target),{type:U,name:ae,uid:re}=j;H.toBlob(q=>Rt(void 0,void 0,void 0,function*(){const X=new File([q],ae,{type:U});Object.assign(X,{uid:re}),z({beforeUpload:N,file:X,resolve:ce=>{var ie,pe;A(ce),(pe=(ie=M.current).onModalOk)===null||pe===void 0||pe.call(ie,ce)},reject:ce=>{var ie,pe;J(ce),(pe=(ie=M.current).onModalOk)===null||pe===void 0||pe.call(ie,ce)}})}),U,t)})})),[S,t,z]),ee=s.useCallback(N=>{const T=Array.isArray(N)?N[0]:N,F=T.props,{beforeUpload:A,accept:J}=F,j=vo(F,["beforeUpload","accept"]);return Object.assign(Object.assign({},T),{props:Object.assign(Object.assign({},j),{accept:J||"image/*",beforeUpload:_(A)})})},[_]),Y=s.useMemo(()=>{const N={};return y!==void 0&&(N.width=y),m!==void 0&&(N.okText=m),w!==void 0&&(N.cancelText=w),N},[w,m,y]),K=`${He}-modal${g?` ${g}`:""}`,te=(typeof window>"u"?"":window.navigator.language)==="zh-CN",D=p||(te?"编辑图片":"Edit image"),B=u||(te?"重置":"Reset");return ne.jsxs(ne.Fragment,{children:[ee(R),P&&ne.jsx(xn,Object.assign({},I,Y,{open:!0,title:D,onCancel:k.current,onOk:L.current,wrapClassName:K,maskClosable:!1,destroyOnClose:!0,children:ne.jsx(ps,{ref:x,cropperRef:r,zoomSlider:o,rotationSlider:i,aspectSlider:l,showReset:a,resetBtnText:B,modalImage:P,aspect:c,minZoom:d,maxZoom:f,cropShape:b,showGrid:C,cropperProps:v})}))]})}),hs=async e=>{try{return(await $n.get("/profile.php",{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){throw console.error("Fetch profile API Error:",r),r}},bs=async(e,r)=>{try{return(await $n.put("/updateProfile.php",r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(t){throw console.error("Profile update API Error:",t),t}},{Title:Cs,Text:cn}=wo,un=["userAuth","adminAuth","guestAuth"],ys=["GAD","CID","SOD","HRD","AFD","EDO","BDO"],zs=()=>{const[e,r]=s.useState(!1),[t,n]=s.useState(""),[o,i]=s.useState(""),[l,a]=s.useState(""),[u,c]=s.useState(!1),[d,f]=s.useState(""),[b,C]=s.useState([]),[v,g]=s.useState(!1),[p,y]=s.useState({username:"",department:""}),{logUserActivity:m}=uo(),{logUserNotification:w}=fo(),[$,h]=s.useState(""),I=s.useCallback(()=>{var S,P;for(const O of un){const k=JSON.parse(localStorage.getItem(O))||JSON.parse(sessionStorage.getItem(O));if((P=(S=k==null?void 0:k.state)==null?void 0:S.userData)!=null&&P.username){const L=k.state.userData.username,z=Et.get(`authToken_${L}`)||k.state.token;return z||(rt.error("Authentication token missing. Please log in again."),window.location.href="/login"),h(L),{token:z,username:L}}}return window.location.href="/login",{}},[]),E=(S,P)=>{Et.remove(`authToken_${t}`,{path:"/"}),Et.set(`authToken_${S}`,P,{expires:7,secure:window.location.protocol==="https:",sameSite:"Lax",path:"/"}),un.forEach(O=>{var L,z;const k=JSON.parse(localStorage.getItem(O))||JSON.parse(sessionStorage.getItem(O));if(((z=(L=k==null?void 0:k.state)==null?void 0:L.userData)==null?void 0:z.username)===t){const _={state:{userData:{username:S,role:k.state.userData.role},token:P}},ee=JSON.stringify(_);localStorage.setItem(O,ee),sessionStorage.setItem(O,ee)}})};s.useEffect(()=>{const{token:S}=I();S&&hs(S).then(({username:P,department:O,avatar:k})=>{n(P),i(P),a(O),y({username:P,department:O}),f(k||"")}).catch(()=>rt.error("Failed to fetch profile data"))},[I]);const R=async()=>{if(!e)return r(!0);xn.confirm({title:"Save Changes?",content:"Are you sure you want to save these changes?",onOk:async()=>{const{token:S}=I();if(S){g(!0);try{await bs(S,{username:o,department:l}),rt.success("Profile updated successfully!"),E(o,S),o!==p.username&&m(o,"Profile Update",`Updated username to: ${o}`),l!==p.department&&m(o,"Profile Update",`Updated department to: ${l}`),w("Profile Update","Your profile was updated successfully."),window.location.reload()}catch(P){console.error(P),rt.error("Failed to update profile.")}finally{g(!1)}}}})},M=()=>{i(p.username),a(p.department),r(!1)},x=({file:S,fileList:P})=>{var O;if(C(P),S.status==="uploading")return c(!0);S.status==="done"?(O=S.response)!=null&&O.avatar?(f(S.response.avatar),rt.success("Avatar uploaded successfully!"),m(t,"Avatar","User updated their avatar."),w("Avatar Updated","Your avatar was updated successfully.")):rt.error("Avatar upload response missing avatar field!"):S.status==="error"&&rt.error("Avatar upload failed!"),c(!1)};return ne.jsxs(Co,{className:"flex flex-col w-auto bg-[#A8E1C5] rounded-3xl shadow p-6 border-none",children:[ne.jsxs("div",{className:"flex flex-col justify-center items-center mt-4",children:[d&&ne.jsx(Tn,{src:d,alt:"avatar",width:100,height:100,style:{borderRadius:"50%",objectFit:"cover"}}),ne.jsx(cn,{className:"text-green-600 mt-2 ",children:"Active"}),ne.jsx(So,{style:{borderColor:"#072C1C"},children:ne.jsx(Cs,{level:4,className:"text-neutral-700",children:t})})]}),ne.jsx("div",{className:"flex justify-center",children:ne.jsx(gs,{rotationSlider:!0,children:ne.jsx(Ft,{name:"avatar",action:"https://sentinelphils.com/Sentinel-MIMS/backend/api/upload.php",showUploadList:!1,beforeUpload:po,onChange:x,fileList:b,accept:"image/*",headers:{Authorization:`Bearer ${Et.get(`authToken_${$}`)}`},children:ne.jsx(dt,{type:"primary",icon:u?ne.jsx(cr,{}):ne.jsx(xo,{}),className:"w-full mt-4 bg-lime-200 text-green-950",children:u?"Uploading...":"Change Avatar"})})})}),ne.jsx("div",{className:"flex flex-col gap-5 mt-8",children:["Username","Department"].map(S=>ne.jsxs("div",{className:"flex flex-col justify-center items-center gap-1",children:[ne.jsxs(cn,{className:"font-bold",children:[S,":"]}),e?S==="Department"?ne.jsx($o,{className:"w-auto bg-emerald-200 transparent-select",value:l,onChange:a,options:ys.map(P=>({value:P,label:P})),placeholder:"Select department"}):ne.jsx(Eo,{className:"w-auto flex justify-center items-center bg-emerald-200 border-black",value:S==="Username"?o:l,onChange:P=>S==="Username"?i(P.target.value):a(P.target.value),placeholder:`Enter your ${S.toLowerCase()}`}):ne.jsx(kr,{children:ne.jsx(kr.Item,{className:"flex justify-center items-center",children:S==="Username"?t:l})})]},S))}),ne.jsxs("div",{className:"flex justify-center w-auto wrap mt-8",children:[e&&ne.jsx(dt,{type:"default",className:"bg-red-500 text-white mr-4 w-auto",onClick:M,children:"Cancel"}),ne.jsx(dt,{type:"primary",className:"bg-lime-200 text-green-950 w-auto",onClick:R,disabled:v,children:e?v?"Saving...":"Save":"Edit"})]})]})};export{zs as default};
