import{r as a,aw as jn,i as Te,as as Se,ar as R,ax as ya,ay as Me,ap as ce,aa as yt,R as ca,az as St,aA as Rn,aB as Nn,aC as mt,ah as vt,k as be,a3 as Na,aD as Sa,au as ft,ao as On,aq as En,aE as Oa,aF as Mn,I as $t,B as tt,C as Ea,aG as Ma,F as Fa,a2 as Va,aH as _a,ae as Ta,af as Aa,ag as $a,aI as Ba,aJ as Ha,aK as Ya,u as Fn,b as Vn,d as _n,c as Tn,s as ke,j as t,M as ga,T as xa,aL as An}from"./index-1bUjThPI.js";import{g as Ct,d as $n,u as Bn,a as Hn}from"./addItemToInventory-Dg-l0Y_f.js";import{P as Ke,p as La,f as jt,e as at,h as Yn,t as Rt,j as Ln,u as qn,k as Un,l as qa,m as Ia,n as Ua,o as zn,q as Kn,s as da,R as fa,v as Wn,w as za,x as Gn,y as Ka,c as Qn,d as et}from"./index-B3CrsbZy.js";import{F as me}from"./index-DlZFTL0H.js";import{u as Xn,S as Ne,R as Jn}from"./index-qPlGQ91r.js";import{I as Ye}from"./index-HYYCmbw9.js";import{R as Wa}from"./CalendarOutlined-DwcAcXPa.js";import{u as Ga,g as Qa,a as Xa}from"./TextArea-DpRMIGjb.js";import{H as Fe}from"./HighlightText-BvjqhybQ.js";import{T as Ja}from"./index-BwRQR_cB.js";import{d as Zn}from"./debounce-BKXd0nP_.js";import{u as er,D as tr,S as ar,F as nr}from"./index-fpqbn0gO.js";import{C as rr,T as lr}from"./index-yJHKc8mb.js";import{R as sr}from"./FilterOutlined-BPIvAaW0.js";import{R as or}from"./SearchOutlined-CVLzcg_r.js";import{R as ir}from"./DeleteOutlined-mNjCBndF.js";import{T as ur}from"./index-0WLxIj05.js";import{P as cr}from"./Pagination-DXStCYex.js";import"./row-AIHCUI2m.js";import"./responsiveObserver-D0DgaF8s.js";import"./CheckOutlined-DLAhGfjk.js";import"./EyeOutlined-D12zyJAU.js";import"./addEventListener-DXISJuQR.js";import"./index-CIDkA5ML.js";import"./useBreakpoint-GvLrBt9J.js";import"./useForceUpdate-CHj89O7T.js";import"./PlusOutlined-DjyVkQwf.js";function Bt(e,s){return e!==void 0?e:s?"bottomRight":"bottomLeft"}function Za(e,s){var l=Bt(e,s),r=l==null?void 0:l.toLowerCase().endsWith("right"),n=r?"insetInlineEnd":"insetInlineStart";return s&&(n=["insetInlineStart","insetInlineEnd"].find(function(u){return u!==n})),n}var dr={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function en(e){var s=e.popupElement,l=e.popupStyle,r=e.popupClassName,n=e.popupAlign,u=e.transitionName,o=e.getPopupContainer,i=e.children,d=e.range,f=e.placement,c=e.builtinPlacements,m=c===void 0?dr:c,h=e.direction,g=e.visible,y=e.onClose,x=a.useContext(Ke),S=x.prefixCls,C="".concat(S,"-dropdown"),b=Bt(f,h==="rtl");return a.createElement(jn,{showAction:[],hideAction:["click"],popupPlacement:b,builtinPlacements:m,prefixCls:C,popupTransitionName:u,popup:s,popupAlign:n,popupVisible:g,popupClassName:Te(r,Se(Se({},"".concat(C,"-range"),d),"".concat(C,"-rtl"),h==="rtl")),popupStyle:l,stretch:"minWidth",getPopupContainer:o,onPopupVisibleChange:function(N){N||y()}},i)}function tn(e){return La(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function an(e,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=a.useState([!1,!1]),n=R(r,2),u=n[0],o=n[1],i=function(c,m){o(function(h){return jt(h,m,c)})},d=a.useMemo(function(){return u.map(function(f,c){if(f)return!0;var m=e[c];return m?!!(!l[c]&&!m||m&&s(m,{activeIndex:c})):!1})},[e,u,s,l]);return[d,i]}function fr(e,s,l){if(s===!1)return null;var r=s&&ya(s)==="object"?s:{};return r.clearIcon||l||a.createElement("span",{className:"".concat(e,"-clear-btn")})}function mr(e,s,l,r,n){var u=Me(function(o,i){return!!(l&&l(o,i)||r&&e.isAfter(r,o)&&!at(e,s,r,o,i.type)||n&&e.isAfter(o,n)&&!at(e,s,n,o,i.type))});return u}function vr(e,s,l){return a.useMemo(function(){var r=Yn(e,s,l),n=Rt(r),u=n[0],o=ya(u)==="object"&&u.type==="mask"?u.format:null;return[n.map(function(i){return typeof i=="string"||typeof i=="function"?i:i.format}),o]},[e,s,l])}function hr(e,s,l){return typeof e[0]=="function"||l?!0:s}function gr(e,s,l,r){var n=Me(function(u,o){var i=ce({type:s},o);if(delete i.activeIndex,!e.isValidate(u)||l&&l(u,i))return!0;if((s==="date"||s==="time")&&r){var d,f=o&&o.activeIndex===1?"end":"start",c=((d=r.disabledTime)===null||d===void 0?void 0:d.call(r,u,f,{from:i.from}))||{},m=c.disabledHours,h=c.disabledMinutes,g=c.disabledSeconds,y=c.disabledMilliseconds,x=r.disabledHours,S=r.disabledMinutes,C=r.disabledSeconds,b=m||x,j=h||S,N=g||C,D=e.getHour(u),V=e.getMinute(u),L=e.getSecond(u),Y=e.getMillisecond(u);if(b&&b().includes(D)||j&&j(D).includes(V)||N&&N(D,V).includes(L)||y&&y(D,V,L).includes(Y))return!0}return!1});return n}function Tt(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a.useMemo(function(){var r=e&&Rt(e);return s&&r&&(r[1]=r[1]||r[0]),r},[e,s]);return l}function nn(e,s){var l=e.generateConfig,r=e.locale,n=e.picker,u=n===void 0?"date":n,o=e.prefixCls,i=o===void 0?"rc-picker":o,d=e.styles,f=d===void 0?{}:d,c=e.classNames,m=c===void 0?{}:c,h=e.order,g=h===void 0?!0:h,y=e.components,x=y===void 0?{}:y,S=e.inputRender,C=e.allowClear,b=e.clearIcon,j=e.needConfirm,N=e.multiple,D=e.format,V=e.inputReadOnly,L=e.disabledDate,Y=e.minDate,q=e.maxDate,I=e.showTime,P=e.value,$=e.defaultValue,Z=e.pickerValue,E=e.defaultPickerValue,M=Tt(P),p=Tt($),X=Tt(Z),G=Tt(E),ee=u==="date"&&I?"datetime":u,A=ee==="time"||ee==="datetime",U=A||N,F=j??A,ne=Ln(e),le=R(ne,4),ie=le[0],B=le[1],_=le[2],te=le[3],se=qn(r,B),O=a.useMemo(function(){return Un(ee,_,te,ie,se)},[ee,_,te,ie,se]),v=a.useMemo(function(){return ce(ce({},e),{},{prefixCls:i,locale:se,picker:u,styles:f,classNames:m,order:g,components:ce({input:S},x),clearIcon:fr(i,C,b),showTime:O,value:M,defaultValue:p,pickerValue:X,defaultPickerValue:G},s==null?void 0:s())},[e]),T=vr(ee,se,D),k=R(T,2),w=k[0],J=k[1],fe=hr(w,V,N),H=mr(l,r,L,Y,q),pe=gr(l,u,H,O),ve=a.useMemo(function(){return ce(ce({},v),{},{needConfirm:F,inputReadOnly:fe,disabledDate:H})},[v,F,fe,H]);return[ve,ee,U,w,J,pe]}function xr(e,s,l){var r=yt(s,{value:e}),n=R(r,2),u=n[0],o=n[1],i=ca.useRef(e),d=ca.useRef(),f=function(){St.cancel(d.current)},c=Me(function(){o(i.current),l&&u!==i.current&&l(i.current)}),m=Me(function(h,g){f(),i.current=h,h||g?c():d.current=St(c)});return ca.useEffect(function(){return f},[]),[u,m]}function rn(e,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,n=l.every(function(c){return c})?!1:e,u=xr(n,s||!1,r),o=R(u,2),i=o[0],d=o[1];function f(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!m.inherit||i)&&d(c,m.force)}return[i,f]}function ln(e){var s=a.useRef();return a.useImperativeHandle(e,function(){var l;return{nativeElement:(l=s.current)===null||l===void 0?void 0:l.nativeElement,focus:function(n){var u;(u=s.current)===null||u===void 0||u.focus(n)},blur:function(){var n;(n=s.current)===null||n===void 0||n.blur()}}}),s}function sn(e,s){return a.useMemo(function(){return e||(s?(Rn(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(s).map(function(l){var r=R(l,2),n=r[0],u=r[1];return{label:n,value:u}})):[])},[e,s])}function ba(e,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=a.useRef(s);r.current=s,Nn(function(){if(e)r.current(e);else{var n=St(function(){r.current(e)},l);return function(){St.cancel(n)}}},[e])}function on(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=a.useState(0),n=R(r,2),u=n[0],o=n[1],i=a.useState(!1),d=R(i,2),f=d[0],c=d[1],m=a.useRef([]),h=a.useRef(null),g=function(C){c(C)},y=function(C){return C&&(h.current=C),h.current},x=function(C){var b=m.current,j=new Set(b.filter(function(D){return C[D]||s[D]})),N=b[b.length-1]===0?1:0;return j.size>=2||e[N]?null:N};return ba(f||l,function(){f||(m.current=[])}),a.useEffect(function(){f&&m.current.push(u)},[f,u]),[f,g,y,u,o,x,m.current]}function pr(e,s,l,r,n,u){var o=l[l.length-1],i=function(f,c){var m=R(e,2),h=m[0],g=m[1],y=ce(ce({},c),{},{from:qa(e,l)});return o===1&&s[0]&&h&&!at(r,n,h,f,y.type)&&r.isAfter(h,f)||o===0&&s[1]&&g&&!at(r,n,g,f,y.type)&&r.isAfter(f,g)?!0:u==null?void 0:u(f,y)};return i}function Dt(e,s,l,r){switch(s){case"date":case"week":return e.addMonth(l,r);case"month":case"quarter":return e.addYear(l,r);case"year":return e.addYear(l,r*10);case"decade":return e.addYear(l,r*100);default:return l}}var ma=[];function un(e,s,l,r,n,u,o,i){var d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:ma,f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:ma,c=arguments.length>10&&arguments[10]!==void 0?arguments[10]:ma,m=arguments.length>11?arguments[11]:void 0,h=arguments.length>12?arguments[12]:void 0,g=arguments.length>13?arguments[13]:void 0,y=o==="time",x=u||0,S=function(X){var G=e.getNow();return y&&(G=Ia(e,G)),d[X]||l[X]||G},C=R(f,2),b=C[0],j=C[1],N=yt(function(){return S(0)},{value:b}),D=R(N,2),V=D[0],L=D[1],Y=yt(function(){return S(1)},{value:j}),q=R(Y,2),I=q[0],P=q[1],$=a.useMemo(function(){var p=[V,I][x];return y?p:Ia(e,p,c[x])},[y,V,I,x,e,c]),Z=function(X){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",ee=[L,P][x];ee(X);var A=[V,I];A[x]=X,m&&(!at(e,s,V,A[0],o)||!at(e,s,I,A[1],o))&&m(A,{source:G,range:x===1?"end":"start",mode:r})},E=function(X,G){if(i){var ee={date:"month",week:"month",month:"year",quarter:"year"},A=ee[o];if(A&&!at(e,s,X,G,A))return Dt(e,o,G,-1);if(o==="year"&&X){var U=Math.floor(e.getYear(X)/10),F=Math.floor(e.getYear(G)/10);if(U!==F)return Dt(e,o,G,-1)}}return G},M=a.useRef(null);return mt(function(){if(n&&!d[x]){var p=y?null:e.getNow();if(M.current!==null&&M.current!==x?p=[V,I][x^1]:l[x]?p=x===0?l[0]:E(l[0],l[1]):l[x^1]&&(p=l[x^1]),p){h&&e.isAfter(h,p)&&(p=h);var X=i?Dt(e,o,p,1):p;g&&e.isAfter(X,g)&&(p=i?Dt(e,o,g,-1):g),Z(p,"reset")}}},[n,x,l[x]]),a.useEffect(function(){n?M.current=x:M.current=null},[n,x]),mt(function(){n&&d&&d[x]&&Z(d[x],"reset")},[n,x]),[$,Z]}function cn(e,s){var l=a.useRef(e),r=a.useState({}),n=R(r,2),u=n[1],o=function(f){return f&&s!==void 0?s:l.current},i=function(f){l.current=f,u({})};return[o,i,o(!0)]}var Cr=[];function dn(e,s,l){var r=function(o){return o.map(function(i){return Ua(i,{generateConfig:e,locale:s,format:l[0]})})},n=function(o,i){for(var d=Math.max(o.length,i.length),f=-1,c=0;c<d;c+=1){var m=o[c]||null,h=i[c]||null;if(m!==h&&!zn(e,m,h)){f=c;break}}return[f<0,f!==0]};return[r,n]}function fn(e,s){return vt(e).sort(function(l,r){return s.isAfter(l,r)?1:-1})}function yr(e){var s=cn(e),l=R(s,2),r=l[0],n=l[1],u=Me(function(){n(e)});return a.useEffect(function(){u()},[e]),[r,n]}function mn(e,s,l,r,n,u,o,i,d){var f=yt(u,{value:o}),c=R(f,2),m=c[0],h=c[1],g=m||Cr,y=yr(g),x=R(y,2),S=x[0],C=x[1],b=dn(e,s,l),j=R(b,2),N=j[0],D=j[1],V=Me(function(Y){var q=vt(Y);if(r)for(var I=0;I<2;I+=1)q[I]=q[I]||null;else n&&(q=fn(q.filter(function(p){return p}),e));var P=D(S(),q),$=R(P,2),Z=$[0],E=$[1];if(!Z&&(C(q),i)){var M=N(q);i(q,M,{range:E?"end":"start"})}}),L=function(){d&&d(S())};return[g,h,S,V,L]}function vn(e,s,l,r,n,u,o,i,d,f){var c=e.generateConfig,m=e.locale,h=e.picker,g=e.onChange,y=e.allowEmpty,x=e.order,S=u.some(function(E){return E})?!1:x,C=dn(c,m,o),b=R(C,2),j=b[0],N=b[1],D=cn(s),V=R(D,2),L=V[0],Y=V[1],q=Me(function(){Y(s)});a.useEffect(function(){q()},[s]);var I=Me(function(E){var M=E===null,p=vt(E||L());if(M)for(var X=Math.max(u.length,p.length),G=0;G<X;G+=1)u[G]||(p[G]=null);S&&p[0]&&p[1]&&(p=fn(p,c)),n(p);var ee=p,A=R(ee,2),U=A[0],F=A[1],ne=!U,le=!F,ie=y?(!ne||y[0])&&(!le||y[1]):!0,B=!x||ne||le||at(c,m,U,F,h)||c.isAfter(F,U),_=(u[0]||!U||!f(U,{activeIndex:0}))&&(u[1]||!F||!f(F,{from:U,activeIndex:1})),te=M||ie&&B&&_;if(te){l(p);var se=N(p,s),O=R(se,1),v=O[0];g&&!v&&g(M&&p.every(function(T){return!T})?null:p,j(p))}return te}),P=Me(function(E,M){var p=jt(L(),E,r()[E]);Y(p),M&&I()}),$=!i&&!d;ba(!$,function(){$&&(I(),n(s),q())},2);function Z(E){return!!L()[E]}return[P,I,Z]}function hn(e,s,l,r,n){return s!=="date"&&s!=="time"?!1:l!==void 0?l:r!==void 0?r:!n&&(e==="date"||e==="time")}function Sr(e){var s=e.mode,l=e.internalMode,r=e.renderExtraFooter,n=e.showNow,u=e.showTime,o=e.onSubmit,i=e.onNow,d=e.invalid,f=e.needConfirm,c=e.generateConfig,m=e.disabledDate,h=a.useContext(Ke),g=h.prefixCls,y=h.locale,x=h.button,S=x===void 0?"button":x,C=c.getNow(),b=Kn(c,u,C),j=R(b,1),N=j[0],D=r==null?void 0:r(s),V=m(C,{type:s}),L=function(){if(!V){var E=N(C);i(E)}},Y="".concat(g,"-now"),q="".concat(Y,"-btn"),I=n&&a.createElement("li",{className:Y},a.createElement("a",{className:Te(q,V&&"".concat(q,"-disabled")),"aria-disabled":V,onClick:L},l==="date"?y.today:y.now)),P=f&&a.createElement("li",{className:"".concat(g,"-ok")},a.createElement(S,{disabled:d,onClick:o},y.ok)),$=(I||P)&&a.createElement("ul",{className:"".concat(g,"-ranges")},I,P);return!D&&!$?null:a.createElement("div",{className:"".concat(g,"-footer")},D&&a.createElement("div",{className:"".concat(g,"-footer-extra")},D),$)}function br(e){var s=e.picker,l=e.multiplePanel,r=e.pickerValue,n=e.onPickerValueChange,u=e.needConfirm,o=e.onSubmit,i=e.range,d=e.hoverValue,f=a.useContext(Ke),c=f.prefixCls,m=f.generateConfig,h=a.useCallback(function(b,j){return Dt(m,s,b,j)},[m,s]),g=a.useMemo(function(){return h(r,1)},[r,h]),y=function(j){n(h(j,-1))},x={onCellDblClick:function(){u&&o()}},S=s==="time",C=ce(ce({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:S});return i?C.hoverRangeValue=d:C.hoverValue=d,l?a.createElement("div",{className:"".concat(c,"-panels")},a.createElement(da.Provider,{value:ce(ce({},x),{},{hideNext:!0})},a.createElement(fa,C)),a.createElement(da.Provider,{value:ce(ce({},x),{},{hidePrev:!0})},a.createElement(fa,be({},C,{pickerValue:g,onPickerValueChange:y})))):a.createElement(da.Provider,{value:ce({},x)},a.createElement(fa,C))}function ka(e){return typeof e=="function"?e():e}function Pr(e){var s=e.prefixCls,l=e.presets,r=e.onClick,n=e.onHover;return l.length?a.createElement("div",{className:"".concat(s,"-presets")},a.createElement("ul",null,l.map(function(u,o){var i=u.label,d=u.value;return a.createElement("li",{key:o,onClick:function(){r(ka(d))},onMouseEnter:function(){n(ka(d))},onMouseLeave:function(){n(null)}},i)}))):null}function gn(e){var s=e.panelRender,l=e.internalMode,r=e.picker,n=e.showNow,u=e.range,o=e.multiple,i=e.activeOffset,d=i===void 0?0:i,f=e.placement,c=e.presets,m=e.onPresetHover,h=e.onPresetSubmit,g=e.onFocus,y=e.onBlur,x=e.onPanelMouseDown,S=e.direction,C=e.value,b=e.onSelect,j=e.isInvalid,N=e.defaultOpenValue,D=e.onOk,V=e.onSubmit,L=a.useContext(Ke),Y=L.prefixCls,q="".concat(Y,"-panel"),I=S==="rtl",P=a.useRef(null),$=a.useRef(null),Z=a.useState(0),E=R(Z,2),M=E[0],p=E[1],X=a.useState(0),G=R(X,2),ee=G[0],A=G[1],U=function(H){H.offsetWidth&&p(H.offsetWidth)};a.useEffect(function(){if(u){var fe,H=((fe=P.current)===null||fe===void 0?void 0:fe.offsetWidth)||0,pe=M-H;d<=pe?A(0):A(d+H-M)}},[M,d,u]);function F(fe){return fe.filter(function(H){return H})}var ne=a.useMemo(function(){return F(Rt(C))},[C]),le=r==="time"&&!ne.length,ie=a.useMemo(function(){return le?F([N]):ne},[le,ne,N]),B=le?N:ne,_=a.useMemo(function(){return ie.length?ie.some(function(fe){return j(fe)}):!0},[ie,j]),te=function(){le&&b(N),D(),V()},se=a.createElement("div",{className:"".concat(Y,"-panel-layout")},a.createElement(Pr,{prefixCls:Y,presets:c,onClick:h,onHover:m}),a.createElement("div",null,a.createElement(br,be({},e,{value:B})),a.createElement(Sr,be({},e,{showNow:o?!1:n,invalid:_,onSubmit:te}))));s&&(se=s(se));var O="".concat(q,"-container"),v="marginLeft",T="marginRight",k=a.createElement("div",{onMouseDown:x,tabIndex:-1,className:Te(O,"".concat(Y,"-").concat(l,"-panel-container")),style:Se(Se({},I?T:v,ee),I?v:T,"auto"),onFocus:g,onBlur:y},se);if(u){var w=Bt(f,I),J=Za(w,I);k=a.createElement("div",{onMouseDown:x,ref:$,className:Te("".concat(Y,"-range-wrapper"),"".concat(Y,"-").concat(r,"-range-wrapper"))},a.createElement("div",{ref:P,className:"".concat(Y,"-range-arrow"),style:Se({},J,d)}),a.createElement(Na,{onResize:U},k))}return k}function xn(e,s){var l=e.format,r=e.maskFormat,n=e.generateConfig,u=e.locale,o=e.preserveInvalidOnBlur,i=e.inputReadOnly,d=e.required,f=e["aria-required"],c=e.onSubmit,m=e.onFocus,h=e.onBlur,g=e.onInputChange,y=e.onInvalid,x=e.open,S=e.onOpenChange,C=e.onKeyDown,b=e.onChange,j=e.activeHelp,N=e.name,D=e.autoComplete,V=e.id,L=e.value,Y=e.invalid,q=e.placeholder,I=e.disabled,P=e.activeIndex,$=e.allHelp,Z=e.picker,E=function(F,ne){var le=n.locale.parse(u.locale,F,[ne]);return le&&n.isValidate(le)?le:null},M=l[0],p=a.useCallback(function(U){return Ua(U,{locale:u,format:M,generateConfig:n})},[u,n,M]),X=a.useMemo(function(){return L.map(p)},[L,p]),G=a.useMemo(function(){var U=Z==="time"?8:10,F=typeof M=="function"?M(n.getNow()).length:M.length;return Math.max(U,F)+2},[M,Z,n]),ee=function(F){for(var ne=0;ne<l.length;ne+=1){var le=l[ne];if(typeof le=="string"){var ie=E(F,le);if(ie)return ie}}return!1},A=function(F){function ne(B){return F!==void 0?B[F]:B}var le=Sa(e,{aria:!0,data:!0}),ie=ce(ce({},le),{},{format:r,validateFormat:function(_){return!!ee(_)},preserveInvalidOnBlur:o,readOnly:i,required:d,"aria-required":f,name:N,autoComplete:D,size:G,id:ne(V),value:ne(X)||"",invalid:ne(Y),placeholder:ne(q),active:P===F,helped:$||j&&P===F,disabled:ne(I),onFocus:function(_){m(_,F)},onBlur:function(_){h(_,F)},onSubmit:c,onChange:function(_){g();var te=ee(_);if(te){y(!1,F),b(te,F);return}y(!!_,F)},onHelp:function(){S(!0,{index:F})},onKeyDown:function(_){var te=!1;if(C==null||C(_,function(){te=!0}),!_.defaultPrevented&&!te)switch(_.key){case"Escape":S(!1,{index:F});break;case"Enter":x||S(!0);break}}},s==null?void 0:s({valueTexts:X}));return Object.keys(ie).forEach(function(B){ie[B]===void 0&&delete ie[B]}),ie};return[A,p]}var Ir=["onMouseEnter","onMouseLeave"];function pn(e){return a.useMemo(function(){return La(e,Ir)},[e])}var kr=["icon","type"],wr=["onClear"];function Ht(e){var s=e.icon,l=e.type,r=ft(e,kr),n=a.useContext(Ke),u=n.prefixCls;return s?a.createElement("span",be({className:"".concat(u,"-").concat(l)},r),s):null}function pa(e){var s=e.onClear,l=ft(e,wr);return a.createElement(Ht,be({},l,{type:"clear",role:"button",onMouseDown:function(n){n.preventDefault()},onClick:function(n){n.stopPropagation(),s()}}))}var va=["YYYY","MM","DD","HH","mm","ss","SSS"],wa="顧",Dr=function(){function e(s){En(this,e),Se(this,"format",void 0),Se(this,"maskFormat",void 0),Se(this,"cells",void 0),Se(this,"maskCells",void 0),this.format=s;var l=va.map(function(i){return"(".concat(i,")")}).join("|"),r=new RegExp(l,"g");this.maskFormat=s.replace(r,function(i){return wa.repeat(i.length)});var n=new RegExp("(".concat(va.join("|"),")")),u=(s.split(n)||[]).filter(function(i){return i}),o=0;this.cells=u.map(function(i){var d=va.includes(i),f=o,c=o+i.length;return o=c,{text:i,mask:d,start:f,end:c}}),this.maskCells=this.cells.filter(function(i){return i.mask})}return On(e,[{key:"getSelection",value:function(l){var r=this.maskCells[l]||{},n=r.start,u=r.end;return[n||0,u||0]}},{key:"match",value:function(l){for(var r=0;r<this.maskFormat.length;r+=1){var n=this.maskFormat[r],u=l[r];if(!u||n!==wa&&n!==u)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(l){for(var r=Number.MAX_SAFE_INTEGER,n=0,u=0;u<this.maskCells.length;u+=1){var o=this.maskCells[u],i=o.start,d=o.end;if(l>=i&&l<=d)return u;var f=Math.min(Math.abs(l-i),Math.abs(l-d));f<r&&(r=f,n=u)}return n}}]),e}();function jr(e){var s={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return s[e]}var Rr=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],Ca=a.forwardRef(function(e,s){var l=e.active,r=e.showActiveCls,n=r===void 0?!0:r,u=e.suffixIcon,o=e.format,i=e.validateFormat,d=e.onChange;e.onInput;var f=e.helped,c=e.onHelp,m=e.onSubmit,h=e.onKeyDown,g=e.preserveInvalidOnBlur,y=g===void 0?!1:g,x=e.invalid,S=e.clearIcon,C=ft(e,Rr),b=e.value,j=e.onFocus,N=e.onBlur,D=e.onMouseUp,V=a.useContext(Ke),L=V.prefixCls,Y=V.input,q=Y===void 0?"input":Y,I="".concat(L,"-input"),P=a.useState(!1),$=R(P,2),Z=$[0],E=$[1],M=a.useState(b),p=R(M,2),X=p[0],G=p[1],ee=a.useState(""),A=R(ee,2),U=A[0],F=A[1],ne=a.useState(null),le=R(ne,2),ie=le[0],B=le[1],_=a.useState(null),te=R(_,2),se=te[0],O=te[1],v=X||"";a.useEffect(function(){G(b)},[b]);var T=a.useRef(),k=a.useRef();a.useImperativeHandle(s,function(){return{nativeElement:T.current,inputElement:k.current,focus:function(de){k.current.focus(de)},blur:function(){k.current.blur()}}});var w=a.useMemo(function(){return new Dr(o||"")},[o]),J=a.useMemo(function(){return f?[0,0]:w.getSelection(ie)},[w,ie,f]),fe=R(J,2),H=fe[0],pe=fe[1],ve=function(de){de&&de!==o&&de!==b&&c()},Pe=Me(function(ae){i(ae)&&d(ae),G(ae),ve(ae)}),he=function(de){if(!o){var we=de.target.value;ve(we),G(we),d(we)}},De=function(de){var we=de.clipboardData.getData("text");i(we)&&Pe(we)},We=a.useRef(!1),Ge=function(){We.current=!0},Le=function(de){var we=de.target,ye=we.selectionStart,Re=w.getMaskCellIndex(ye);B(Re),O({}),D==null||D(de),We.current=!1},Ae=function(de){E(!0),B(0),F(""),j(de)},Ce=function(de){N(de)},it=function(de){E(!1),Ce(de)};ba(l,function(){!l&&!y&&G(b)});var Ie=function(de){de.key==="Enter"&&i(v)&&m(),h==null||h(de)},$e=function(de){Ie(de);var we=de.key,ye=null,Re=null,Qe=pe-H,Be=o.slice(H,pe),rt=function(He){B(function(_e){var Oe=_e+He;return Oe=Math.max(Oe,0),Oe=Math.min(Oe,w.size()-1),Oe})},ut=function(He){var _e=jr(Be),Oe=R(_e,3),lt=Oe[0],ht=Oe[1],st=Oe[2],ot=v.slice(H,pe),ct=Number(ot);if(isNaN(ct))return String(st||(He>0?lt:ht));var gt=ct+He,dt=ht-lt+1;return String(lt+(dt+gt-lt)%dt)};switch(we){case"Backspace":case"Delete":ye="",Re=Be;break;case"ArrowLeft":ye="",rt(-1);break;case"ArrowRight":ye="",rt(1);break;case"ArrowUp":ye="",Re=ut(1);break;case"ArrowDown":ye="",Re=ut(-1);break;default:isNaN(Number(we))||(ye=U+we,Re=ye);break}if(ye!==null&&(F(ye),ye.length>=Qe&&(rt(1),F(""))),Re!==null){var qe=v.slice(0,H)+Wn(Re,Qe)+v.slice(pe);Pe(qe.slice(0,o.length))}O({})},Ve=a.useRef();mt(function(){if(!(!Z||!o||We.current)){if(!w.match(v)){Pe(o);return}return k.current.setSelectionRange(H,pe),Ve.current=St(function(){k.current.setSelectionRange(H,pe)}),function(){St.cancel(Ve.current)}}},[w,o,Z,v,ie,H,pe,se,Pe]);var ge=o?{onFocus:Ae,onBlur:it,onKeyDown:$e,onMouseDown:Ge,onMouseUp:Le,onPaste:De}:{};return a.createElement("div",{ref:T,className:Te(I,Se(Se({},"".concat(I,"-active"),l&&n),"".concat(I,"-placeholder"),f))},a.createElement(q,be({ref:k,"aria-invalid":x,autoComplete:"off"},C,{onKeyDown:Ie,onBlur:Ce},ge,{value:v,onChange:he})),a.createElement(Ht,{type:"suffix",icon:u}),S)}),Nr=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveOffset","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Or=["index"],Er=["insetInlineStart","insetInlineEnd"];function Mr(e,s){var l=e.id,r=e.prefix,n=e.clearIcon,u=e.suffixIcon,o=e.separator,i=o===void 0?"~":o,d=e.activeIndex;e.activeHelp,e.allHelp;var f=e.focused;e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig;var c=e.placeholder,m=e.className,h=e.style,g=e.onClick,y=e.onClear,x=e.value;e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var S=e.disabled,C=e.invalid;e.inputReadOnly;var b=e.direction;e.onOpenChange;var j=e.onActiveOffset,N=e.placement,D=e.onMouseDown;e.required,e["aria-required"];var V=e.autoFocus,L=e.tabIndex,Y=ft(e,Nr),q=b==="rtl",I=a.useContext(Ke),P=I.prefixCls,$=a.useMemo(function(){if(typeof l=="string")return[l];var k=l||{};return[k.start,k.end]},[l]),Z=a.useRef(),E=a.useRef(),M=a.useRef(),p=function(w){var J;return(J=[E,M][w])===null||J===void 0?void 0:J.current};a.useImperativeHandle(s,function(){return{nativeElement:Z.current,focus:function(w){if(ya(w)==="object"){var J,fe=w||{},H=fe.index,pe=H===void 0?0:H,ve=ft(fe,Or);(J=p(pe))===null||J===void 0||J.focus(ve)}else{var Pe;(Pe=p(w??0))===null||Pe===void 0||Pe.focus()}},blur:function(){var w,J;(w=p(0))===null||w===void 0||w.blur(),(J=p(1))===null||J===void 0||J.blur()}}});var X=pn(Y),G=a.useMemo(function(){return Array.isArray(c)?c:[c,c]},[c]),ee=xn(ce(ce({},e),{},{id:$,placeholder:G})),A=R(ee,1),U=A[0],F=Bt(N,q),ne=Za(F,q),le=F==null?void 0:F.toLowerCase().endsWith("right"),ie=a.useState({position:"absolute",width:0}),B=R(ie,2),_=B[0],te=B[1],se=Me(function(){var k=p(d);if(k){var w=k.nativeElement,J=w.offsetWidth,fe=w.offsetLeft,H=w.offsetParent,pe=(H==null?void 0:H.offsetWidth)||0,ve=le?pe-J-fe:fe;te(function(Pe){Pe.insetInlineStart,Pe.insetInlineEnd;var he=ft(Pe,Er);return ce(ce({},he),{},Se({width:J},ne,ve))}),j(ve)}});a.useEffect(function(){se()},[d]);var O=n&&(x[0]&&!S[0]||x[1]&&!S[1]),v=V&&!S[0],T=V&&!v&&!S[1];return a.createElement(Na,{onResize:se},a.createElement("div",be({},X,{className:Te(P,"".concat(P,"-range"),Se(Se(Se(Se({},"".concat(P,"-focused"),f),"".concat(P,"-disabled"),S.every(function(k){return k})),"".concat(P,"-invalid"),C.some(function(k){return k})),"".concat(P,"-rtl"),q),m),style:h,ref:Z,onClick:g,onMouseDown:function(w){var J=w.target;J!==E.current.inputElement&&J!==M.current.inputElement&&w.preventDefault(),D==null||D(w)}}),r&&a.createElement("div",{className:"".concat(P,"-prefix")},r),a.createElement(Ca,be({ref:E},U(0),{autoFocus:v,tabIndex:L,"date-range":"start"})),a.createElement("div",{className:"".concat(P,"-range-separator")},i),a.createElement(Ca,be({ref:M},U(1),{autoFocus:T,tabIndex:L,"date-range":"end"})),a.createElement("div",{className:"".concat(P,"-active-bar"),style:_}),a.createElement(Ht,{type:"suffix",icon:u}),O&&a.createElement(pa,{icon:n,onClear:y})))}var Fr=a.forwardRef(Mr);function Da(e,s){var l=e??s;return Array.isArray(l)?l:[l,l]}function At(e){return e===1?"end":"start"}function Vr(e,s){var l=nn(e,function(){var ue=e.disabled,Q=e.allowEmpty,oe=Da(ue,!1),xe=Da(Q,!1);return{disabled:oe,allowEmpty:xe}}),r=R(l,6),n=r[0],u=r[1],o=r[2],i=r[3],d=r[4],f=r[5],c=n.prefixCls,m=n.styles,h=n.classNames,g=n.placement,y=n.defaultValue,x=n.value,S=n.needConfirm,C=n.onKeyDown,b=n.disabled,j=n.allowEmpty,N=n.disabledDate,D=n.minDate,V=n.maxDate,L=n.defaultOpen,Y=n.open,q=n.onOpenChange,I=n.locale,P=n.generateConfig,$=n.picker,Z=n.showNow,E=n.showToday,M=n.showTime,p=n.mode,X=n.onPanelChange,G=n.onCalendarChange,ee=n.onOk,A=n.defaultPickerValue,U=n.pickerValue,F=n.onPickerValueChange,ne=n.inputReadOnly,le=n.suffixIcon,ie=n.onFocus,B=n.onBlur,_=n.presets,te=n.ranges,se=n.components,O=n.cellRender,v=n.dateRender,T=n.monthCellRender,k=n.onClick,w=ln(s),J=rn(Y,L,b,q),fe=R(J,2),H=fe[0],pe=fe[1],ve=function(Q,oe){(b.some(function(xe){return!xe})||!Q)&&pe(Q,oe)},Pe=mn(P,I,i,!0,!1,y,x,G,ee),he=R(Pe,5),De=he[0],We=he[1],Ge=he[2],Le=he[3],Ae=he[4],Ce=Ge(),it=on(b,j,H),Ie=R(it,7),$e=Ie[0],Ve=Ie[1],ge=Ie[2],ae=Ie[3],de=Ie[4],we=Ie[5],ye=Ie[6],Re=function(Q,oe){Ve(!0),ie==null||ie(Q,{range:At(oe??ae)})},Qe=function(Q,oe){Ve(!1),B==null||B(Q,{range:At(oe??ae)})},Be=a.useMemo(function(){if(!M)return null;var ue=M.disabledTime,Q=ue?function(oe){var xe=At(ae),je=qa(Ce,ye,ae);return ue(oe,xe,{from:je})}:void 0;return ce(ce({},M),{},{disabledTime:Q})},[M,ae,Ce,ye]),rt=yt([$,$],{value:p}),ut=R(rt,2),qe=ut[0],Xe=ut[1],He=qe[ae]||$,_e=He==="date"&&Be?"datetime":He,Oe=_e===$&&_e!=="time",lt=hn($,He,Z,E,!0),ht=vn(n,De,We,Ge,Le,b,i,$e,H,f),st=R(ht,3),ot=st[0],ct=st[1],gt=st[2],dt=pr(Ce,b,ye,P,I,N),Yt=an(Ce,f,j),Nt=R(Yt,2),Lt=Nt[0],qt=Nt[1],Ot=un(P,I,Ce,qe,H,ae,u,Oe,A,U,Be==null?void 0:Be.defaultOpenValue,F,D,V),Et=R(Ot,2),Ut=Et[0],Mt=Et[1],Je=Me(function(ue,Q,oe){var xe=jt(qe,ae,Q);if((xe[0]!==qe[0]||xe[1]!==qe[1])&&Xe(xe),X&&oe!==!1){var je=vt(Ce);ue&&(je[ae]=ue),X(je,xe)}}),bt=function(Q,oe){return jt(Ce,oe,Q)},Ue=function(Q,oe){var xe=Ce;Q&&(xe=bt(Q,ae));var je=we(xe);Le(xe),ot(ae,je===null),je===null?ve(!1,{force:!0}):oe||w.current.focus({index:je})},zt=function(Q){var oe,xe=Q.target.getRootNode();if(!w.current.nativeElement.contains((oe=xe.activeElement)!==null&&oe!==void 0?oe:document.activeElement)){var je=b.findIndex(function(Dn){return!Dn});je>=0&&w.current.focus({index:je})}ve(!0),k==null||k(Q)},Ft=function(){ct(null),ve(!1,{force:!0})},Kt=a.useState(null),Pt=R(Kt,2),Wt=Pt[0],It=Pt[1],Ze=a.useState(null),xt=R(Ze,2),pt=xt[0],kt=xt[1],Vt=a.useMemo(function(){return pt||Ce},[Ce,pt]);a.useEffect(function(){H||kt(null)},[H]);var Gt=a.useState(0),wt=R(Gt,2),Qt=wt[0],Xt=wt[1],Jt=sn(_,te),Zt=function(Q){kt(Q),It("preset")},ea=function(Q){var oe=ct(Q);oe&&ve(!1,{force:!0})},ta=function(Q){Ue(Q)},aa=function(Q){kt(Q?bt(Q,ae):null),It("cell")},na=function(Q){ve(!0),Re(Q)},ra=function(){ge("panel")},la=function(Q){var oe=jt(Ce,ae,Q);Le(oe),!S&&!o&&u===_e&&Ue(Q)},sa=function(){ve(!1)},oa=za(O,v,T,At(ae)),ia=Ce[ae]||null,ua=Me(function(ue){return f(ue,{activeIndex:ae})}),re=a.useMemo(function(){var ue=Sa(n,!1),Q=Oa(n,[].concat(vt(Object.keys(ue)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Q},[n]),z=a.createElement(gn,be({},re,{showNow:lt,showTime:Be,range:!0,multiplePanel:Oe,activeOffset:Qt,placement:g,disabledDate:dt,onFocus:na,onBlur:Qe,onPanelMouseDown:ra,picker:$,mode:He,internalMode:_e,onPanelChange:Je,format:d,value:ia,isInvalid:ua,onChange:null,onSelect:la,pickerValue:Ut,defaultOpenValue:Rt(M==null?void 0:M.defaultOpenValue)[ae],onPickerValueChange:Mt,hoverValue:Vt,onHover:aa,needConfirm:S,onSubmit:Ue,onOk:Ae,presets:Jt,onPresetHover:Zt,onPresetSubmit:ea,onNow:ta,cellRender:oa})),Ee=function(Q,oe){var xe=bt(Q,oe);Le(xe)},ze=function(){ge("input")},_t=function(Q,oe){var xe=ye.length,je=ye[xe-1];if(xe&&je!==oe&&S&&!j[je]&&!gt(je)&&Ce[je]){w.current.focus({index:je});return}ge("input"),ve(!0,{inherit:!0}),ae!==oe&&H&&!S&&o&&Ue(null,!0),de(oe),Re(Q,oe)},In=function(Q,oe){if(ve(!1),!S&&ge()==="input"){var xe=we(Ce);ot(ae,xe===null)}Qe(Q,oe)},kn=function(Q,oe){Q.key==="Tab"&&Ue(null,!0),C==null||C(Q,oe)},wn=a.useMemo(function(){return{prefixCls:c,locale:I,generateConfig:P,button:se.button,input:se.input}},[c,I,P,se.button,se.input]);return mt(function(){H&&ae!==void 0&&Je(null,$,!1)},[H,ae,$]),mt(function(){var ue=ge();!H&&ue==="input"&&(ve(!1),Ue(null,!0)),!H&&o&&!S&&ue==="panel"&&(ve(!0),Ue())},[H]),a.createElement(Ke.Provider,{value:wn},a.createElement(en,be({},tn(n),{popupElement:z,popupStyle:m.popup,popupClassName:h.popup,visible:H,onClose:sa,range:!0}),a.createElement(Fr,be({},n,{ref:w,suffixIcon:le,activeIndex:$e||H?ae:null,activeHelp:!!pt,allHelp:!!pt&&Wt==="preset",focused:$e,onFocus:_t,onBlur:In,onKeyDown:kn,onSubmit:Ue,value:Vt,maskFormat:d,onChange:Ee,onInputChange:ze,format:i,inputReadOnly:ne,disabled:b,open:H,onOpenChange:ve,onClick:zt,onClear:Ft,invalid:Lt,onInvalid:qt,onActiveOffset:Xt}))))}var _r=a.forwardRef(Vr);function Tr(e){var s=e.prefixCls,l=e.value,r=e.onRemove,n=e.removeIcon,u=n===void 0?"×":n,o=e.formatDate,i=e.disabled,d=e.maxTagCount,f=e.placeholder,c="".concat(s,"-selector"),m="".concat(s,"-selection"),h="".concat(m,"-overflow");function g(S,C){return a.createElement("span",{className:Te("".concat(m,"-item")),title:typeof S=="string"?S:null},a.createElement("span",{className:"".concat(m,"-item-content")},S),!i&&C&&a.createElement("span",{onMouseDown:function(j){j.preventDefault()},onClick:C,className:"".concat(m,"-item-remove")},u))}function y(S){var C=o(S),b=function(N){N&&N.stopPropagation(),r(S)};return g(C,b)}function x(S){var C="+ ".concat(S.length," ...");return g(C)}return a.createElement("div",{className:c},a.createElement(Mn,{prefixCls:h,data:l,renderItem:y,renderRest:x,itemKey:function(C){return o(C)},maxCount:d}),!l.length&&a.createElement("span",{className:"".concat(s,"-selection-placeholder")},f))}var Ar=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function $r(e,s){e.id;var l=e.open,r=e.prefix,n=e.clearIcon,u=e.suffixIcon;e.activeHelp,e.allHelp;var o=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var i=e.locale,d=e.generateConfig,f=e.placeholder,c=e.className,m=e.style,h=e.onClick,g=e.onClear,y=e.internalPicker,x=e.value,S=e.onChange,C=e.onSubmit;e.onInputChange;var b=e.multiple,j=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var N=e.disabled,D=e.invalid;e.inputReadOnly;var V=e.direction;e.onOpenChange;var L=e.onMouseDown;e.required,e["aria-required"];var Y=e.autoFocus,q=e.tabIndex,I=e.removeIcon,P=ft(e,Ar),$=V==="rtl",Z=a.useContext(Ke),E=Z.prefixCls,M=a.useRef(),p=a.useRef();a.useImperativeHandle(s,function(){return{nativeElement:M.current,focus:function(_){var te;(te=p.current)===null||te===void 0||te.focus(_)},blur:function(){var _;(_=p.current)===null||_===void 0||_.blur()}}});var X=pn(P),G=function(_){S([_])},ee=function(_){var te=x.filter(function(se){return se&&!at(d,i,se,_,y)});S(te),l||C()},A=xn(ce(ce({},e),{},{onChange:G}),function(B){var _=B.valueTexts;return{value:_[0]||"",active:o}}),U=R(A,2),F=U[0],ne=U[1],le=!!(n&&x.length&&!N),ie=b?a.createElement(a.Fragment,null,a.createElement(Tr,{prefixCls:E,value:x,onRemove:ee,formatDate:ne,maxTagCount:j,disabled:N,removeIcon:I,placeholder:f}),a.createElement("input",{className:"".concat(E,"-multiple-input"),value:x.map(ne).join(","),ref:p,readOnly:!0,autoFocus:Y,tabIndex:q}),a.createElement(Ht,{type:"suffix",icon:u}),le&&a.createElement(pa,{icon:n,onClear:g})):a.createElement(Ca,be({ref:p},F(),{autoFocus:Y,tabIndex:q,suffixIcon:u,clearIcon:le&&a.createElement(pa,{icon:n,onClear:g}),showActiveCls:!1}));return a.createElement("div",be({},X,{className:Te(E,Se(Se(Se(Se(Se({},"".concat(E,"-multiple"),b),"".concat(E,"-focused"),o),"".concat(E,"-disabled"),N),"".concat(E,"-invalid"),D),"".concat(E,"-rtl"),$),c),style:m,ref:M,onClick:h,onMouseDown:function(_){var te,se=_.target;se!==((te=p.current)===null||te===void 0?void 0:te.inputElement)&&_.preventDefault(),L==null||L(_)}}),r&&a.createElement("div",{className:"".concat(E,"-prefix")},r),ie)}var Br=a.forwardRef($r);function Hr(e,s){var l=nn(e),r=R(l,6),n=r[0],u=r[1],o=r[2],i=r[3],d=r[4],f=r[5],c=n,m=c.prefixCls,h=c.styles,g=c.classNames,y=c.order,x=c.defaultValue,S=c.value,C=c.needConfirm,b=c.onChange,j=c.onKeyDown,N=c.disabled,D=c.disabledDate,V=c.minDate,L=c.maxDate,Y=c.defaultOpen,q=c.open,I=c.onOpenChange,P=c.locale,$=c.generateConfig,Z=c.picker,E=c.showNow,M=c.showToday,p=c.showTime,X=c.mode,G=c.onPanelChange,ee=c.onCalendarChange,A=c.onOk,U=c.multiple,F=c.defaultPickerValue,ne=c.pickerValue,le=c.onPickerValueChange,ie=c.inputReadOnly,B=c.suffixIcon,_=c.removeIcon,te=c.onFocus,se=c.onBlur,O=c.presets,v=c.components,T=c.cellRender,k=c.dateRender,w=c.monthCellRender,J=c.onClick,fe=ln(s);function H(re){return re===null?null:U?re:re[0]}var pe=Gn($,P,u),ve=rn(q,Y,[N],I),Pe=R(ve,2),he=Pe[0],De=Pe[1],We=function(z,Ee,ze){if(ee){var _t=ce({},ze);delete _t.range,ee(H(z),H(Ee),_t)}},Ge=function(z){A==null||A(H(z))},Le=mn($,P,i,!1,y,x,S,We,Ge),Ae=R(Le,5),Ce=Ae[0],it=Ae[1],Ie=Ae[2],$e=Ae[3],Ve=Ae[4],ge=Ie(),ae=on([N]),de=R(ae,4),we=de[0],ye=de[1],Re=de[2],Qe=de[3],Be=function(z){ye(!0),te==null||te(z,{})},rt=function(z){ye(!1),se==null||se(z,{})},ut=yt(Z,{value:X}),qe=R(ut,2),Xe=qe[0],He=qe[1],_e=Xe==="date"&&p?"datetime":Xe,Oe=hn(Z,Xe,E,M),lt=b&&function(re,z){b(H(re),H(z))},ht=vn(ce(ce({},n),{},{onChange:lt}),Ce,it,Ie,$e,[],i,we,he,f),st=R(ht,2),ot=st[1],ct=an(ge,f),gt=R(ct,2),dt=gt[0],Yt=gt[1],Nt=a.useMemo(function(){return dt.some(function(re){return re})},[dt]),Lt=function(z,Ee){if(le){var ze=ce(ce({},Ee),{},{mode:Ee.mode[0]});delete ze.range,le(z[0],ze)}},qt=un($,P,ge,[Xe],he,Qe,u,!1,F,ne,Rt(p==null?void 0:p.defaultOpenValue),Lt,V,L),Ot=R(qt,2),Et=Ot[0],Ut=Ot[1],Mt=Me(function(re,z,Ee){if(He(z),G&&Ee!==!1){var ze=re||ge[ge.length-1];G(ze,z)}}),Je=function(){ot(Ie()),De(!1,{force:!0})},bt=function(z){!N&&!fe.current.nativeElement.contains(document.activeElement)&&fe.current.focus(),De(!0),J==null||J(z)},Ue=function(){ot(null),De(!1,{force:!0})},zt=a.useState(null),Ft=R(zt,2),Kt=Ft[0],Pt=Ft[1],Wt=a.useState(null),It=R(Wt,2),Ze=It[0],xt=It[1],pt=a.useMemo(function(){var re=[Ze].concat(vt(ge)).filter(function(z){return z});return U?re:re.slice(0,1)},[ge,Ze,U]),kt=a.useMemo(function(){return!U&&Ze?[Ze]:ge.filter(function(re){return re})},[ge,Ze,U]);a.useEffect(function(){he||xt(null)},[he]);var Vt=sn(O),Gt=function(z){xt(z),Pt("preset")},wt=function(z){var Ee=U?pe(Ie(),z):[z],ze=ot(Ee);ze&&!U&&De(!1,{force:!0})},Qt=function(z){wt(z)},Xt=function(z){xt(z),Pt("cell")},Jt=function(z){De(!0),Be(z)},Zt=function(z){if(Re("panel"),!(U&&_e!==Z)){var Ee=U?pe(Ie(),z):[z];$e(Ee),!C&&!o&&u===_e&&Je()}},ea=function(){De(!1)},ta=za(T,k,w),aa=a.useMemo(function(){var re=Sa(n,!1),z=Oa(n,[].concat(vt(Object.keys(re)),["onChange","onCalendarChange","style","className","onPanelChange"]));return ce(ce({},z),{},{multiple:n.multiple})},[n]),na=a.createElement(gn,be({},aa,{showNow:Oe,showTime:p,disabledDate:D,onFocus:Jt,onBlur:rt,picker:Z,mode:Xe,internalMode:_e,onPanelChange:Mt,format:d,value:ge,isInvalid:f,onChange:null,onSelect:Zt,pickerValue:Et,defaultOpenValue:p==null?void 0:p.defaultOpenValue,onPickerValueChange:Ut,hoverValue:pt,onHover:Xt,needConfirm:C,onSubmit:Je,onOk:Ve,presets:Vt,onPresetHover:Gt,onPresetSubmit:wt,onNow:Qt,cellRender:ta})),ra=function(z){$e(z)},la=function(){Re("input")},sa=function(z){Re("input"),De(!0,{inherit:!0}),Be(z)},oa=function(z){De(!1),rt(z)},ia=function(z,Ee){z.key==="Tab"&&Je(),j==null||j(z,Ee)},ua=a.useMemo(function(){return{prefixCls:m,locale:P,generateConfig:$,button:v.button,input:v.input}},[m,P,$,v.button,v.input]);return mt(function(){he&&Qe!==void 0&&Mt(null,Z,!1)},[he,Qe,Z]),mt(function(){var re=Re();!he&&re==="input"&&(De(!1),Je()),!he&&o&&!C&&re==="panel"&&(De(!0),Je())},[he]),a.createElement(Ke.Provider,{value:ua},a.createElement(en,be({},tn(n),{popupElement:na,popupStyle:h.popup,popupClassName:g.popup,visible:he,onClose:ea}),a.createElement(Br,be({},n,{ref:fe,suffixIcon:B,removeIcon:_,activeHelp:!!Ze,allHelp:!!Ze&&Kt==="preset",focused:we,onFocus:sa,onBlur:oa,onKeyDown:ia,onSubmit:Je,value:kt,maskFormat:d,onChange:ra,onInputChange:la,internalPicker:u,format:i,inputReadOnly:ie,disabled:N,open:he,onOpenChange:De,onClick:bt,onClear:Ue,invalid:Nt,onInvalid:function(z){Yt(z,0)}}))))}var Yr=a.forwardRef(Hr),Lr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},qr=function(s,l){return a.createElement($t,be({},s,{ref:l,icon:Lr}))},Cn=a.forwardRef(qr),Ur={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},zr=function(s,l){return a.createElement($t,be({},s,{ref:l,icon:Ur}))},Kr=a.forwardRef(zr);function Wr(e,s,l){return l!==void 0?l:s==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:s==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:s==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:s==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:s==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function Gr(e,s,l){return l!==void 0?l:s==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:s==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:s==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:s==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:s==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function yn(e,s){const{allowClear:l=!0}=e,{clearIcon:r,removeIcon:n}=Xn(Object.assign(Object.assign({},e),{prefixCls:s,componentName:"DatePicker"}));return[a.useMemo(()=>l===!1?!1:Object.assign({clearIcon:r},l===!0?{}:l),[l,r]),n]}const[Qr,Xr]=["week","WeekPicker"],[Jr,Zr]=["month","MonthPicker"],[el,tl]=["year","YearPicker"],[al,nl]=["quarter","QuarterPicker"],[Sn,ja]=["time","TimePicker"],rl=e=>a.createElement(tt,Object.assign({size:"small",type:"primary"},e));function bn(e){return a.useMemo(()=>Object.assign({button:rl},e),[e])}var ll=function(e,s){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const sl=e=>a.forwardRef((l,r)=>{var n;const{prefixCls:u,getPopupContainer:o,components:i,className:d,style:f,placement:c,size:m,disabled:h,bordered:g=!0,placeholder:y,popupClassName:x,dropdownClassName:S,status:C,rootClassName:b,variant:j,picker:N}=l,D=ll(l,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),V=a.useRef(null),{getPrefixCls:L,direction:Y,getPopupContainer:q,rangePicker:I}=a.useContext(Ea),P=L("picker",u),{compactSize:$,compactItemClassnames:Z}=Ma(P,Y),E=L(),[M,p]=Ga("rangePicker",j,g),X=Fa(P),[G,ee,A]=Ka(P,X),[U]=yn(l,P),F=bn(i),ne=Va(w=>{var J;return(J=m??$)!==null&&J!==void 0?J:w}),le=a.useContext(_a),ie=h??le,B=a.useContext(Ta),{hasFeedback:_,status:te,feedbackIcon:se}=B,O=a.createElement(a.Fragment,null,N===Sn?a.createElement(Cn,null):a.createElement(Wa,null),_&&se);a.useImperativeHandle(r,()=>V.current);const[v]=Aa("Calendar",$a),T=Object.assign(Object.assign({},v),l.locale),[k]=Ba("DatePicker",(n=l.popupStyle)===null||n===void 0?void 0:n.zIndex);return G(a.createElement(Ha,{space:!0},a.createElement(_r,Object.assign({separator:a.createElement("span",{"aria-label":"to",className:`${P}-separator`},a.createElement(Kr,null)),disabled:ie,ref:V,placement:c,placeholder:Gr(T,N,y),suffixIcon:O,prevIcon:a.createElement("span",{className:`${P}-prev-icon`}),nextIcon:a.createElement("span",{className:`${P}-next-icon`}),superPrevIcon:a.createElement("span",{className:`${P}-super-prev-icon`}),superNextIcon:a.createElement("span",{className:`${P}-super-next-icon`}),transitionName:`${E}-slide-up`,picker:N},D,{className:Te({[`${P}-${ne}`]:ne,[`${P}-${M}`]:p},Qa(P,Xa(te,C),_),ee,Z,d,I==null?void 0:I.className,A,X,b),style:Object.assign(Object.assign({},I==null?void 0:I.style),f),locale:T.lang,prefixCls:P,getPopupContainer:o||q,generateConfig:e,components:F,direction:Y,classNames:{popup:Te(ee,x||S,A,X,b)},styles:{popup:Object.assign(Object.assign({},l.popupStyle),{zIndex:k})},allowClear:U}))))});var ol=function(e,s){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const il=e=>{const s=(d,f)=>{const c=f===ja?"timePicker":"datePicker";return a.forwardRef((h,g)=>{var y;const{prefixCls:x,getPopupContainer:S,components:C,style:b,className:j,rootClassName:N,size:D,bordered:V,placement:L,placeholder:Y,popupClassName:q,dropdownClassName:I,disabled:P,status:$,variant:Z,onCalendarChange:E}=h,M=ol(h,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:p,direction:X,getPopupContainer:G,[c]:ee}=a.useContext(Ea),A=p("picker",x),{compactSize:U,compactItemClassnames:F}=Ma(A,X),ne=a.useRef(null),[le,ie]=Ga("datePicker",Z,V),B=Fa(A),[_,te,se]=Ka(A,B);a.useImperativeHandle(g,()=>ne.current);const O={showToday:!0},v=d||h.picker,T=p(),{onSelect:k,multiple:w}=M,J=k&&d==="time"&&!w,fe=(Ve,ge,ae)=>{E==null||E(Ve,ge,ae),J&&k(Ve)},[H,pe]=yn(h,A),ve=bn(C),Pe=Va(Ve=>{var ge;return(ge=D??U)!==null&&ge!==void 0?ge:Ve}),he=a.useContext(_a),De=P??he,We=a.useContext(Ta),{hasFeedback:Ge,status:Le,feedbackIcon:Ae}=We,Ce=a.createElement(a.Fragment,null,v==="time"?a.createElement(Cn,null):a.createElement(Wa,null),Ge&&Ae),[it]=Aa("DatePicker",$a),Ie=Object.assign(Object.assign({},it),h.locale),[$e]=Ba("DatePicker",(y=h.popupStyle)===null||y===void 0?void 0:y.zIndex);return _(a.createElement(Ha,{space:!0},a.createElement(Yr,Object.assign({ref:ne,placeholder:Wr(Ie,v,Y),suffixIcon:Ce,placement:L,prevIcon:a.createElement("span",{className:`${A}-prev-icon`}),nextIcon:a.createElement("span",{className:`${A}-next-icon`}),superPrevIcon:a.createElement("span",{className:`${A}-super-prev-icon`}),superNextIcon:a.createElement("span",{className:`${A}-super-next-icon`}),transitionName:`${T}-slide-up`,picker:d,onCalendarChange:fe},O,M,{locale:Ie.lang,className:Te({[`${A}-${Pe}`]:Pe,[`${A}-${le}`]:ie},Qa(A,Xa(Le,$),Ge),te,F,ee==null?void 0:ee.className,j,se,B,N),style:Object.assign(Object.assign({},ee==null?void 0:ee.style),b),prefixCls:A,getPopupContainer:S||G,generateConfig:e,components:ve,direction:X,disabled:De,classNames:{popup:Te(te,se,B,N,q||I)},styles:{popup:Object.assign(Object.assign({},h.popupStyle),{zIndex:$e})},allowClear:H,removeIcon:pe}))))})},l=s(),r=s(Qr,Xr),n=s(Jr,Zr),u=s(el,tl),o=s(al,nl),i=s(Sn,ja);return{DatePicker:l,WeekPicker:r,MonthPicker:n,YearPicker:u,TimePicker:i,QuarterPicker:o}},Pn=e=>{const{DatePicker:s,WeekPicker:l,MonthPicker:r,YearPicker:n,TimePicker:u,QuarterPicker:o}=il(e),i=sl(e),d=s;return d.WeekPicker=l,d.MonthPicker=r,d.YearPicker=n,d.RangePicker=i,d.TimePicker=u,d.QuarterPicker=o,d},nt=Pn(Qn),ul=Ya(nt,"picker",null);nt._InternalPanelDoNotUseOrYouWillBeFired=ul;const cl=Ya(nt.RangePicker,"picker",null);nt._InternalRangePanelDoNotUseOrYouWillBeFired=cl;nt.generatePicker=Pn;var dl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},fl=function(s,l){return a.createElement($t,be({},s,{ref:l,icon:dl}))},ml=a.forwardRef(fl),vl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},hl=function(s,l){return a.createElement($t,be({},s,{ref:l,icon:vl}))},Pa=a.forwardRef(hl);const gl=()=>{const[e,s]=a.useState(""),[l,r]=a.useState("newest"),[n,u]=a.useState({field:"id",order:"descend"}),[o,i]=a.useState(1),[d,f]=a.useState(10),[c,m]=a.useState([]),[h,g]=a.useState([]),[y,x]=a.useState(!1),[S,C]=a.useState(!1),[b,j]=a.useState(null),[N,D]=a.useState(!1),[V,L]=a.useState("default"),{logUserActivity:Y}=Fn(),{logUserNotification:q}=Vn(),{userData:I}=_n(),{userData:P}=Tn(),$=(I==null?void 0:I.username)||(P==null?void 0:P.username)||"Unknown User",Z=!!I,E=!!P,M=Z?"admin":E?"user":"guest";a.useEffect(()=>{(async()=>{D(!0);try{const v=await Ct();Array.isArray(v)?g(v):(console.error("Received invalid data:",v),ke.error("Failed to load inventory data."))}catch{ke.error("Failed to load inventory data.")}finally{D(!1)}})()},[]);const p=Array.isArray(h)?h.filter(O=>Object.values(O).join(" ").toLowerCase().includes(e.toLowerCase())):[],X=[...p].sort((O,v)=>{if(n.field&&n.order){const{field:T,order:k}=n;if(k==="ascend")return O[T]>v[T]?1:-1;if(k==="descend")return O[T]<v[T]?1:-1}return 0}),G=X.length,ee=X.slice((o-1)*d,o*d);return{searchText:e,setSearchText:s,sortOrder:l,setSortOrder:r,sorterConfig:n,setSorterConfig:u,currentPage:o,setCurrentPage:i,pageSize:d,setPageSize:f,selectedRowKeys:c,setSelectedRowKeys:m,dataSource:h,setDataSource:g,isModalVisible:y,setIsModalVisible:x,isEditModalVisible:S,setIsEditModalVisible:C,editingItem:b,setEditingItem:j,isLoading:N,setIsLoading:D,activeTab:V,setActiveTab:L,username:$,isAdmin:Z,isUser:E,userRole:M,filteredData:p,sortedData:X,paginatedData:ee,totalEntries:G,handlePageChange:(O,v)=>{i(O),f(v)},handleSortOrderChange:O=>{r(O.toLowerCase());const v=O.toLowerCase()==="newest"?"descend":"ascend";u({field:"id",order:v}),i(1)},handleTableChange:O=>{O.field&&u({field:O.field,order:O.order})},handleAddItem:async O=>{try{D(!0);const v=await Hn(O);if(v&&v.id){ke.success(`Item added successfully! ID: ${v.id}`),await Y($,"Inventory",`Added item with ID: ${v.id}`),await q("Inventory Update",`You added an item with ID: ${v.id}`);const T=await Ct();g(T)}else ke.error("Failed to retrieve item ID.")}catch(v){console.error("Error adding item:",v),ke.error("Failed to add item.")}finally{D(!1)}},handleEdit:O=>{j(O),C(!0)},handleEditItem:async O=>{const v=b;if(!Object.keys(O).some(k=>{const w=O[k],J=v[k];return typeof w=="string"?w.trim()!==(J||"").trim():w!==J})){ke.info("No changes detected.");return}D(!0);try{const k=await Bn({...O,id:b==null?void 0:b.id});if(k.message==="Item updated successfully"){const w=await Ct();g(w),ke.success(`Item with ID ${O.id} updated successfully!`),await Y($,"Inventory",`Updated item with ID: ${O.id}`),await q("Inventory Update",`You edited an item with ID: ${O.id}`),C(!1)}else ke.error(k.message||"Failed to update item.")}catch(k){console.error("Error updating item:",k),ke.error("Failed to update item. Please try again.")}finally{D(!1)}},handleBatchDelete:async()=>{if(!Z){ke.error("You do not have permission to delete items.");return}if(c.length===0){ke.warning("Please select items to delete.");return}try{if((await $n(c)).message==="Items deleted successfully"){const v=await Ct();g(v),m([]),ke.success("Items deleted successfully!"),await Y($,"Inventory",`Deleted item(s) with ID(s): ${c.join(", ")}`),await q("Inventory Update",`You deleted item(s) with ID(s): ${c.join(", ")}`)}else ke.error("Error deleting items.")}catch(O){console.error("Error deleting items:",O),ke.error("Failed to delete items. Please try again.")}finally{D(!1)}},handleTabChange:O=>{L(O)},handleReset:()=>{s(""),r("newest"),u({field:"id",order:"descend"}),i(1),f(10),m([]),L("default")},rowSelection:Z?{selectedRowKeys:c,onChange:m}:null,dataSource:h,setFilteredData:O=>{const v=[...O].sort((T,k)=>{if(n.field&&n.order){const{field:w,order:J}=n;if(J==="ascend")return T[w]>k[w]?1:-1;if(J==="descend")return T[w]<k[w]?1:-1}return 0});setSortedData(v)}}},{Option:K}=Ne,xl=({visible:e,onClose:s,onAdd:l})=>{const[r]=me.useForm(),[n,u]=a.useState(!1),[o,i]=a.useState(!1),d=async m=>{try{if(m.purchaseDate&&m.purchaseDate.isAfter(et())){ke.error("Purchase date cannot be in the future.");return}const h=await Ct();if(m.serialNumber&&h.some(S=>S.serialNumber===m.serialNumber)){ke.error("Serial number already exists. Please use a unique serial number.");return}const g=n?`Head Office - ${m.department}`:m.location,y={type:m.type,brand:m.brand,quantity:o?1:Math.max(1,m.quantity||1),serialNumber:m.serialNumber,issuedDate:m.issuedDate?m.issuedDate.format("YYYY-MM-DD"):"NO DATE",purchaseDate:m.purchaseDate.format("YYYY-MM-DD"),condition:m.condition,location:g,status:m.status,remarks:m.remarks||null};l(y),r.resetFields(),s()}catch(h){console.error(h)}},f=()=>{r.resetFields(),i(!1),s()},c=m=>{const h=m.target.value.trim();i(h!==""),h!==""?r.setFieldsValue({quantity:1}):r.setFieldsValue({quantity:1})};return t.jsx(ga,{title:"Add New Item",open:e,onCancel:f,footer:null,width:900,centered:!0,children:t.jsx(me,{form:r,onFinish:d,layout:"vertical",initialValues:{type:"Radio",condition:"Brand New",status:"On Stock",quantity:1},children:t.jsxs("div",{style:{display:"flex",gap:"20px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx(me.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please select the item type!"}],children:t.jsxs(Ne,{children:[t.jsx(K,{value:"AVR",children:"AVR"}),t.jsx(K,{value:"Battery",children:"Battery"}),t.jsx(K,{value:"Biometrics",children:"Biometrics"}),t.jsx(K,{value:"Camera",children:"Camera"}),t.jsx(K,{value:"CCTV",children:"CCTV"}),t.jsx(K,{value:"Charger",children:"Charger"}),t.jsx(K,{value:"Guard Tour Chips",children:"Guard Tour Chips"}),t.jsx(K,{value:"Guard Tour System",children:"Guard Tour System"}),t.jsx(K,{value:"Headset",children:"Headset"}),t.jsx(K,{value:"Keyboard",children:"Keyboard"}),t.jsx(K,{value:"Laptop",children:"Laptop"}),t.jsx(K,{value:"Megaphone",children:"Megaphone"}),t.jsx(K,{value:"Metal Detector",children:"Metal Detector"}),t.jsx(K,{value:"Microphone",children:"Microphone"}),t.jsx(K,{value:"Modem",children:"Modem"}),t.jsx(K,{value:"Monitor",children:"Monitor"}),t.jsx(K,{value:"Mouse",children:"Mouse"}),t.jsx(K,{value:"Others",children:"Others"}),t.jsx(K,{value:"Pedestal",children:"Pedestal"}),t.jsx(K,{value:"Podium",children:"Podium"}),t.jsx(K,{value:"Printer",children:"Printer"}),t.jsx(K,{value:"Radio",children:"Radio"}),t.jsx(K,{value:"Router",children:"Router"}),t.jsx(K,{value:"Search Stick",children:"Search Stick"}),t.jsx(K,{value:"Searchlight",children:"Searchlight"}),t.jsx(K,{value:"Smartphone",children:"Smartphone"}),t.jsx(K,{value:"Speaker",children:"Speaker"}),t.jsx(K,{value:"Switch",children:"Switch"}),t.jsx(K,{value:"System Unit",children:"System Unit"}),t.jsx(K,{value:"Under Chassis",children:"Under Chassis"}),t.jsx(K,{value:"UPS",children:"UPS"}),t.jsx(K,{value:"WIFI-Mesh",children:"WIFI-Mesh"})]})}),t.jsx(me.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Please input the brand!"}],children:t.jsx(Ye,{})}),t.jsx(me.Item,{label:"Remarks",name:"remarks",children:t.jsx(Ye.TextArea,{})}),t.jsx(me.Item,{label:"Serial Number",name:"serialNumber",children:t.jsx(Ye,{onChange:c})}),!o&&t.jsx(me.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input the quantity!"}],children:t.jsx(Ye,{type:"number",min:1})}),t.jsx(me.Item,{label:"Issued Date",name:"issuedDate",children:t.jsx(nt,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx(me.Item,{label:"Purchased Date",name:"purchaseDate",rules:[{required:!0,message:"Please select the purchase date!"}],children:t.jsx(nt,{format:"YYYY-MM-DD",style:{width:"100%"}})}),t.jsx(me.Item,{label:"Condition",name:"condition",rules:[{required:!0,message:"Please select the condition!"}],children:t.jsxs(Ne,{children:[t.jsx(K,{value:"Brand New",children:"Brand New"}),t.jsx(K,{value:"Good Condition",children:"Good Condition"}),t.jsx(K,{value:"Defective",children:"Defective"})]})}),t.jsx(me.Item,{label:"Detachment/Office",name:"locationType",rules:[{required:!0,message:"Please select a location!"}],children:t.jsxs(Ne,{onChange:m=>u(m==="Head Office"),children:[t.jsx(K,{value:"Head Office",children:"Head Office"}),t.jsx(K,{value:"Other",children:"Other (Specify Below)"})]})}),n&&t.jsx(me.Item,{label:"Department (Head Office)",name:"department",rules:[{required:!0,message:"Please select a department!"}],children:t.jsxs(Ne,{children:[t.jsx(K,{value:"SOD",children:"SOD"}),t.jsx(K,{value:"CID",children:"CID"}),t.jsx(K,{value:"GAD",children:"GAD"}),t.jsx(K,{value:"HRD",children:"HRD"}),t.jsx(K,{value:"AFD",children:"AFD"}),t.jsx(K,{value:"EOD",children:"EOD"}),t.jsx(K,{value:"BDO",children:"BDO"})]})}),!n&&t.jsx(me.Item,{label:"Specific Location",name:"location",rules:[{required:!0,message:"Please input a location!"}],children:t.jsx(Ye,{})}),t.jsx(me.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select the status!"}],children:t.jsxs(Ne,{children:[t.jsx(K,{value:"On Stock",children:"On Stock"}),t.jsx(K,{value:"Deployed",children:"Deployed"}),t.jsx(K,{value:"For Repair",children:"For Repair"})]})}),t.jsx(me.Item,{children:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(tt,{type:"primary",htmlType:"submit",icon:t.jsx(Pa,{}),children:"Add Item"})})})]})]})})})},{Option:W}=Ne,pl=({visible:e,onClose:s,onEdit:l,item:r,isLoading:n})=>{const[u]=me.useForm(),[o,i]=a.useState(!1),[d,f]=a.useState(!1);a.useEffect(()=>{var g;if(r){const y=(g=r.location)==null?void 0:g.startsWith("Head Office -"),x=y?r.location.split(" - ")[1]:"";i(y),f(!!r.serialNumber),u.setFieldsValue({type:r.type,brand:r.brand,serialNumber:r.serialNumber,issuedDate:r.issuedDate&&et(r.issuedDate,"YYYY-MM-DD").isValid()?et(r.issuedDate,"YYYY-MM-DD"):null,purchaseDate:r.purchaseDate&&et(r.purchaseDate,"YYYY-MM-DD").isValid()?et(r.purchaseDate,"YYYY-MM-DD"):null,condition:r.condition,locationType:y?"Head Office":"Other",department:y?x:null,location:y?"":r.location,status:r.status,remarks:r.remarks,quantity:r.quantity||1})}},[r,u,e]);const c=async g=>{try{if(g.purchaseDate&&g.purchaseDate.isAfter(et())){ke.error("Purchase date cannot be in the future.");return}const y=await Ct(),x=g.serialNumber?g.serialNumber.trim().toUpperCase():null;if(x&&y.some(V=>{var L;return((L=V.serialNumber)==null?void 0:L.trim().toUpperCase())===x&&V.id!==(r==null?void 0:r.id)&&V.id.toString().startsWith("20")})){ke.error("Serial number already exists. Please use a unique serial number.");return}const S=o?`Head Office - ${g.department}`:g.location,C=et(g.purchaseDate).format("YYYY-MM-DD"),b=g.issuedDate?et(g.issuedDate).format("YYYY-MM-DD"):null,j={id:r.id,...g,location:S,purchaseDate:C,issuedDate:b,serialNumber:x,quantity:d?1:Math.max(1,g.quantity||1),remarks:g.remarks};et(r.purchaseDate).format("YYYY-MM-DD")!==C?ga.confirm({title:"Changing the purchase date will regenerate the item ID.",content:"Are you sure you want to continue?",onOk:async()=>{await l(j),s()}}):(await l(j),s())}catch(y){console.error(y),ke.error("Failed to submit form. Please try again.")}},m=()=>{u.resetFields(),f(!1),s()},h=g=>{const y=g.target.value.trim();f(y!==""),y!==""?u.setFieldsValue({quantity:null}):u.setFieldsValue({quantity:1})};return t.jsx(ga,{title:"Edit Item",open:e,onCancel:m,footer:null,width:900,centered:!0,children:t.jsx(me,{form:u,onFinish:c,layout:"vertical",initialValues:{type:"Radio",condition:"Brand New",status:"On Stock",quantity:1},children:t.jsxs("div",{style:{display:"flex",gap:"20px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx(me.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please select the item type!"}],children:t.jsxs(Ne,{children:[t.jsx(W,{value:"AVR",children:"AVR"}),t.jsx(W,{value:"Battery",children:"Battery"}),t.jsx(W,{value:"Biometrics",children:"Biometrics"}),t.jsx(W,{value:"Camera",children:"Camera"}),t.jsx(W,{value:"CCTV",children:"CCTV"}),t.jsx(W,{value:"Charger",children:"Charger"}),t.jsx(W,{value:"Guard Tour Chips",children:"Guard Tour Chips"}),t.jsx(W,{value:"Guard Tour System",children:"Guard Tour System"}),t.jsx(W,{value:"Headset",children:"Headset"}),t.jsx(W,{value:"Keyboard",children:"Keyboard"}),t.jsx(W,{value:"Laptop",children:"Laptop"}),t.jsx(W,{value:"Megaphone",children:"Megaphone"}),t.jsx(W,{value:"Metal Detector",children:"Metal Detector"}),t.jsx(W,{value:"Microphone",children:"Microphone"}),t.jsx(W,{value:"Modem",children:"Modem"}),t.jsx(W,{value:"Monitor",children:"Monitor"}),t.jsx(W,{value:"Mouse",children:"Mouse"}),t.jsx(W,{value:"Others",children:"Others"}),t.jsx(W,{value:"Pedestal",children:"Pedestal"}),t.jsx(W,{value:"Podium",children:"Podium"}),t.jsx(W,{value:"Printer",children:"Printer"}),t.jsx(W,{value:"Radio",children:"Radio"}),t.jsx(W,{value:"Router",children:"Router"}),t.jsx(W,{value:"Search Stick",children:"Search Stick"}),t.jsx(W,{value:"Searchlight",children:"Searchlight"}),t.jsx(W,{value:"Smartphone",children:"Smartphone"}),t.jsx(W,{value:"Speaker",children:"Speaker"}),t.jsx(W,{value:"Switch",children:"Switch"}),t.jsx(W,{value:"System Unit",children:"System Unit"}),t.jsx(W,{value:"Under Chassis",children:"Under Chassis"}),t.jsx(W,{value:"UPS",children:"UPS"}),t.jsx(W,{value:"WIFI-Mesh",children:"WIFI-Mesh"})]})}),t.jsx(me.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Please input the brand!"}],children:t.jsx(Ye,{})}),t.jsx(me.Item,{label:"Remarks",name:"remarks",children:t.jsx(Ye.TextArea,{})}),t.jsx(me.Item,{label:"Serial Number",name:"serialNumber",children:t.jsx(Ye,{onChange:h})}),!d&&t.jsx(me.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input the quantity!"}],children:t.jsx(Ye,{type:"number",min:1})}),t.jsx(me.Item,{label:"Issued Date",name:"issuedDate",children:t.jsx(nt,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx(me.Item,{label:"Purchased Date",name:"purchaseDate",rules:[{required:!0,message:"Please select the purchase date!"}],children:t.jsx(nt,{format:"YYYY-MM-DD",style:{width:"100%"}})}),t.jsx(me.Item,{label:"Condition",name:"condition",rules:[{required:!0,message:"Please select the condition!"}],children:t.jsxs(Ne,{children:[t.jsx(W,{value:"Brand New",children:"Brand New"}),t.jsx(W,{value:"Good Condition",children:"Good Condition"}),t.jsx(W,{value:"Defective",children:"Defective"})]})}),t.jsx(me.Item,{label:"Detachment/Office",name:"locationType",rules:[{required:!0,message:"Please select a location!"}],children:t.jsxs(Ne,{onChange:g=>i(g==="Head Office"),children:[t.jsx(W,{value:"Head Office",children:"Head Office"}),t.jsx(W,{value:"Other",children:"Other (Specify Below)"})]})}),o&&t.jsx(me.Item,{label:"Department (Head Office)",name:"department",rules:[{required:!0,message:"Please select a department!"}],children:t.jsxs(Ne,{children:[t.jsx(W,{value:"SOD",children:"SOD"}),t.jsx(W,{value:"CID",children:"CID"}),t.jsx(W,{value:"GAD",children:"GAD"}),t.jsx(W,{value:"HRD",children:"HRD"}),t.jsx(W,{value:"AFD",children:"AFD"}),t.jsx(W,{value:"EOD",children:"EOD"}),t.jsx(W,{value:"BDO",children:"BDO"})]})}),!o&&t.jsx(me.Item,{label:"Specific Location",name:"location",rules:[{required:!0,message:"Please input a location!"}],children:t.jsx(Ye,{})}),t.jsx(me.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select the status!"}],children:t.jsxs(Ne,{children:[t.jsx(W,{value:"On Stock",children:"On Stock"}),t.jsx(W,{value:"Deployed",children:"Deployed"}),t.jsx(W,{value:"For Repair",children:"For Repair"})]})}),t.jsx(me.Item,{children:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(tt,{type:"primary",htmlType:"submit",icon:t.jsx(Pa,{}),loading:n,children:"Save Changes"})})})]})]})})})},Cl=(e,s="")=>{let l;switch(e){case"On Stock":l="green";break;case"For Repair":l="volcano";break;case"Deployed":l="blue";break;default:l="gray"}return t.jsx(Ja,{color:l,className:"text-wrap text-center",children:t.jsx(Fe,{text:e,searchTerm:s})})},yl=(e,s="")=>{let l;switch(e){case"Brand New":l="gold";break;case"Good Condition":l="green";break;case"Defective":l="red";break;default:l="gray"}return t.jsx(Ja,{color:l,className:"text-wrap text-center",children:t.jsx(Fe,{text:e,searchTerm:s})})},Sl=(e,s,l,r,n="")=>{const u=[{title:"ID",dataIndex:"id",key:"id",align:"center",width:"auto",className:"text-xs overflow-auto",sorter:(o,i)=>o.id.localeCompare(i.id),render:o=>t.jsx(Fe,{text:o,searchTerm:n})},{title:"Type",dataIndex:"type",key:"type",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:o=>t.jsx(Fe,{text:o,searchTerm:n}),filters:[{text:"AVR",value:"AVR"},{text:"Battery",value:"Battery"},{text:"Biometrics",value:"Biometrics"},{text:"Camera",value:"Camera"},{text:"CCTV",value:"CCTV"},{text:"Charger",value:"Charger"},{text:"Guard Tour Chips",value:"Guard Tour Chips"},{text:"Guard Tour System",value:"Guard Tour System"},{text:"Headset",value:"Headset"},{text:"Keyboard",value:"Keyboard"},{text:"Laptop",value:"Laptop"},{text:"Megaphone",value:"Megaphone"},{text:"WIFI-Mesh",value:"WIFI-Mesh"},{text:"Metal Detector",value:"Metal Detector"},{text:"Microphone",value:"Microphone"},{text:"Modem",value:"Modem"},{text:"Monitor",value:"Monitor"},{text:"Mouse",value:"Mouse"},{text:"Others",value:"Others"},{text:"Pedestal",value:"Pedestal"},{text:"Podium",value:"Podium"},{text:"Printer",value:"Printer"},{text:"Radio",value:"Radio"},{text:"Router",value:"Router"},{text:"Search Stick",value:"Search Stick"},{text:"Searchlight",value:"Searchlight"},{text:"Smartphone",value:"Smartphone"},{text:"Speaker",value:"Speaker"},{text:"Switch",value:"Switch"},{text:"System Unit",value:"System Unit"},{text:"Under Chassis",value:"Under Chassis"},{text:"UPS",value:"UPS"}],onFilter:(o,i)=>i.type.includes(o)},{title:"Brand",dataIndex:"brand",key:"brand",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(o,i)=>o.brand.localeCompare(i.brand),render:o=>t.jsx(Fe,{text:o,searchTerm:n})},{title:"Qty",dataIndex:"quantity",key:"quantity",align:"center",width:"80px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],sorter:(o,i)=>o.quantity-i.quantity,render:o=>t.jsx(Fe,{text:o,searchTerm:n})},{title:"Remarks",dataIndex:"remarks",key:"remarks",align:"center",width:"170px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],render:o=>t.jsx(Fe,{text:o&&o.trim()!==""?o:"-",searchTerm:n})},{title:"Serial Number",dataIndex:"serialNumber",key:"serialNumber",align:"center",width:"150px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],sorter:(o,i)=>{var d;return(d=o.serialNumber)==null?void 0:d.localeCompare(i.serialNumber||"")},render:o=>t.jsx(Fe,{text:o&&o.trim()!==""?o:"-",searchTerm:n})},...r==="default"?[{title:"Issued Date",dataIndex:"issuedDate",key:"issuedDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(o,i)=>{const d=new Date(o.issuedDate),f=new Date(i.issuedDate);return s==="newest"?f-d:d-f},render:o=>t.jsx(Fe,{text:!o||o==="0000-00-00"?"NO DATE":o,searchTerm:n})},{title:"Purchased Date",dataIndex:"purchaseDate",key:"purchaseDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(o,i)=>{const d=new Date(o.purchaseDate),f=new Date(i.purchaseDate);return s==="newest"?f-d:d-f},render:o=>t.jsx(Fe,{text:o,searchTerm:n})}]:r==="issuedDate"?[{title:"Issued Date",dataIndex:"issuedDate",key:"issuedDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(o,i)=>{const d=new Date(o.issuedDate),f=new Date(i.issuedDate);return s==="newest"?f-d:d-f},render:o=>t.jsx(Fe,{text:!o||o==="0000-00-00"?"NO DATE":o,searchTerm:n})}]:[{title:"Purchased Date",dataIndex:"purchaseDate",key:"purchaseDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(o,i)=>{const d=new Date(o.purchaseDate),f=new Date(i.purchaseDate);return s==="newest"?f-d:d-f},render:o=>t.jsx(Fe,{text:o,searchTerm:n})}],{title:"Condition",dataIndex:"condition",key:"condition",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:o=>yl(o,n),filters:[{text:"Brand New",value:"Brand New"},{text:"Good Condition",value:"Good Condition"},{text:"Defective",value:"Defective"}],onFilter:(o,i)=>i.condition.includes(o)},{title:"Detachment/Office",dataIndex:"location",key:"location",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:o=>t.jsx(Fe,{text:o,searchTerm:n})},{title:"Status",dataIndex:"status",key:"status",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:o=>Cl(o,n),filters:[{text:"On Stock",value:"On Stock"},{text:"For Repair",value:"For Repair"},{text:"Deployed",value:"Deployed"}],onFilter:(o,i)=>i.status.includes(o)}];return l!=="guest"&&u.push({title:"Action",key:"action",align:"center",width:"auto",className:"text-xs overflow-auto",render:o=>t.jsx(xa,{title:"Edit",children:t.jsx(tt,{type:"text",icon:t.jsx(ml,{}),onClick:()=>e(o),size:"small"})})}),u},{Option:ha}=Ne,Ra=[{key:"default",label:"Default"},{key:"issuedDate",label:"Issued Date"},{key:"purchaseDate",label:"Purchased Date"}],Gl=()=>{var se,O;const[e,s]=a.useState(0),[l,r]=a.useState("all"),[n,u]=a.useState([]),[o,i]=a.useState(!1),[d,f]=a.useState("default"),c=er({maxWidth:639}),{searchText:m,setSearchText:h,sortOrder:g,currentPage:y,pageSize:x,isModalVisible:S,setIsModalVisible:C,isEditModalVisible:b,setIsEditModalVisible:j,editingItem:N,isLoading:D,activeTab:V,isAdmin:L,userRole:Y,paginatedData:q,totalEntries:I,handlePageChange:P,handleSortOrderChange:$,handleTableChange:Z,handleAddItem:E,handleEdit:M,handleEditItem:p,handleBatchDelete:X,handleTabChange:G,handleReset:ee,rowSelection:A,dataSource:U}=gl(),F=a.useMemo(()=>o?n:q,[o,n,q]),ne=a.useCallback(Zn(v=>{if(v===""){i(!1);return}i(!0);const T=U.filter(k=>{if(!k)return!1;if(l==="all"){for(const w in k){const J=k[w];if(J&&String(J).toLowerCase().includes(v.toLowerCase()))return!0}return!1}else{const w=k[l];return w&&String(w).toLowerCase().includes(v.toLowerCase())}});u(T)},300),[U,l]),le=a.useCallback(v=>{const T=v.target.value;h(T),ne(T)},[ne,h]),ie=a.useCallback(()=>{ee(),r("all"),i(!1),s(v=>v+1)},[ee]),B=a.useMemo(()=>{const v=[{key:"all",label:"All Columns"},{key:"id",label:"ID"},{key:"type",label:"Type"},{key:"brand",label:"Brand"},{key:"serialNumber",label:"Serial Number"},{key:"remarks",label:"Remarks"},{key:"quantity",label:"Quantity"},{key:"location",label:"Location"},{key:"status",label:"Status"},{key:"condition",label:"Condition"},{key:"issuedDate",label:"Issued Date"},{key:"purchaseDate",label:"Purchased Date"}],T=c?d:V;return v.filter(k=>T==="issuedDate"?k.key!=="purchaseDate":T==="purchaseDate"?k.key!=="issuedDate":!0)},[V,d,c]),_=a.useMemo(()=>B.map(v=>({key:v.key,label:v.label})),[B]),te=v=>t.jsx("div",{className:"w-auto overflow-x-auto",children:t.jsx(nr,{rowSelection:A,rowKey:"id",dataSource:F,columns:Sl(M,g,Y,v,m),pagination:!1,bordered:!0,onChange:Z,scroll:{x:"max-content",y:600},loading:D,responsive:["sm","md","lg","xl","xxl"],expandable:c?{expandedRowRender:T=>t.jsxs("div",{className:"text-xs space-y-1",children:[t.jsxs("div",{children:[t.jsx("b",{children:"ID:"})," ",T.id]}),t.jsxs("div",{children:[t.jsx("b",{children:"Type:"})," ",T.type]}),t.jsxs("div",{children:[t.jsx("b",{children:"Brand:"})," ",T.brand]}),t.jsxs("div",{children:[t.jsx("b",{children:"Quantity:"})," ",T.quantity]}),t.jsxs("div",{children:[t.jsx("b",{children:"Remarks:"})," ",T.remarks]}),t.jsxs("div",{children:[t.jsx("b",{children:"Serial Number:"})," ",T.serialNumber]}),(v==="default"||v==="issuedDate")&&t.jsxs("div",{children:[t.jsx("b",{children:"Issued Date:"})," ",T.issuedDate||"NO DATE"]}),(v==="default"||v==="purchaseDate")&&t.jsxs("div",{children:[t.jsx("b",{children:"Purchased Date:"})," ",T.purchaseDate||"NO DATE"]}),t.jsxs("div",{children:[t.jsx("b",{children:"Condition:"})," ",T.condition]}),t.jsxs("div",{children:[t.jsx("b",{children:"Detachment/Office:"})," ",T.location]}),t.jsxs("div",{children:[t.jsx("b",{children:"Status:"})," ",T.status]})]}),rowExpandable:()=>!0}:void 0,className:"text-xs"},`table-${e}-${v}`)});return t.jsxs(rr,{title:t.jsx("span",{className:"font-bold flex justify-center text-lgi md:text-base lg:text-lgi xl:text-xl",children:"INVENTORY"}),className:"flex flex-col w-full mx-auto bg-[#A8E1C5] rounded-xl shadow border-none",children:[t.jsx("div",{className:"block sm:hidden mb-4",children:t.jsx(Ne,{value:d,onChange:f,className:"w-full transparent-select",size:"small",children:Ra.map(v=>t.jsx(ha,{value:v.key,children:t.jsx("span",{className:"text-xs",children:v.label})},v.key))})}),t.jsx("div",{className:"hidden sm:block",children:t.jsx(lr,{defaultActiveKey:"default",activeKey:V,onChange:G,type:"card",tabBarGutter:4,moreIcon:null,items:Ra.map(v=>({key:v.key,label:t.jsx("span",{className:"text-xs",children:v.label}),children:null}))})}),t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-between sm:items-center mb-2 mt-2 w-full",children:t.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center w-full",children:[t.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center w-full sm:w-auto",children:[t.jsx(tr,{className:"border-black bg-[#a7f3d0] hidden sm:block",menu:{items:_.map(v=>({...v,label:t.jsx("span",{className:"break-words whitespace-normal text-xs",children:v.label})})),onClick:({key:v})=>r(v),selectedKeys:[l]},trigger:["click"],children:t.jsx(tt,{type:"text",className:"border-black w-full sm:w-auto text-xs",icon:t.jsx(sr,{}),children:t.jsxs(ar,{children:[((se=B.find(v=>v.key===l))==null?void 0:se.label)||"All Columns",t.jsx(Jn,{})]})})}),t.jsx(Ye,{placeholder:`Search in ${l==="all"?"all columns":(O=B.find(v=>v.key===l))==null?void 0:O.label}`,prefix:t.jsx(or,{}),value:m,onChange:le,className:"ml-1 w-auto sm:w-auto border-black text-xs",suffix:m?t.jsx(tt,{type:"text",size:"small",onClick:()=>{h(""),i(!1)},className:"text-xs",children:"×"}):null})]}),t.jsxs("div",{className:"flex justify-center gap-2 w-auto",children:[t.jsx(xa,{title:t.jsx("span",{className:"text-xs",children:"New"}),children:(L||Y==="user")&&t.jsx(tt,{type:"text",icon:t.jsx(Pa,{}),onClick:()=>C(!0),className:"text-xs"})}),L&&t.jsx(xa,{title:t.jsx("span",{className:"text-xs",children:"Delete"}),children:t.jsx(tt,{type:"text",icon:t.jsx(ir,{}),onClick:X,className:"text-xs"})}),t.jsx(tt,{onClick:ie,className:"custom-button mt-1",type:"default",size:"small",icon:t.jsx(An,{className:"text-xs"}),children:t.jsx("span",{className:"text-xs",children:"Reset"})}),t.jsxs(Ne,{defaultValue:"Newest",className:"w-auto text-xs transparent-select mt-1",onChange:$,value:g==="newest"?"Newest":"Oldest",size:"small",children:[t.jsx(ha,{value:"Newest",children:t.jsx("span",{className:"text-xs",children:"Newest"})}),t.jsx(ha,{value:"Oldest",children:t.jsx("span",{className:"text-xs",children:"Oldest"})})]})]})]})}),t.jsx("div",{className:"hidden sm:block",children:te(V)}),t.jsx("div",{className:"sm:hidden",children:te(d)}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[t.jsxs(ur.Text,{className:"w-full text-xs text-nowrap text-center sm:text-left overflow-auto",style:{color:"#072C1C"},children:["Showing data of ",I>0?(y-1)*x+1:0," to ",Math.min(y*x,I)," of ",I," entries"]}),t.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:t.jsx(cr,{current:y,pageSize:x,total:I,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:P,className:"text-xs",responsive:!0})})]}),t.jsx(xl,{visible:S,onClose:()=>C(!1),onAdd:E,loading:D}),t.jsx(pl,{visible:b,onClose:()=>j(!1),onEdit:p,item:N,loading:D})]})};export{Gl as default};
