import{r,p as G,l as _,e as F,k as O,i as q,m as J,u as K,j as e,D as Q,B as x,n as V,T as p,o as W,f as X,L as Y,S as k,c as Z}from"./index-D2rseGsh.js";import{L as v}from"./index-17HYgAm7.js";import{P as ee}from"./Pagination-BIWyrZV8.js";const le=()=>{r.useEffect(()=>{G([k])},[]);const{Title:N}=_,{notifications:d,markAsRead:w,deleteNotif:S,markAllasread:C,clearall:L}=F(),{userData:M}=O(),{userData:A}=q(),{userData:D}=J(),{theme:t,currentTheme:a}=K(),n=M||A,H=!!D,[i,I]=r.useState(1),[c,B]=r.useState(5),[u,f]=r.useState(!1),[m,h]=r.useState(!1),[g,j]=r.useState({}),[b,y]=r.useState({}),E=async s=>{n&&await w(s)},z=async s=>{n&&await S(s)},R=async()=>{n&&await C()},T=async()=>{n&&await L()},P=d.slice((i-1)*c,i*c),U=a!=="default"?{background:t.background,minHeight:"100vh"}:{},$=a!=="default"?{width:"100%",background:t.componentBackground,border:"none",color:t.text}:{width:"100%",background:"#eaf4e2",border:"none"},l=a!=="default"?{color:t.text}:{};return e.jsx(r.Suspense,{fallback:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-honeydew",children:[e.jsx(Y,{className:"h-[183px] w-[171px] object-cover mb-4 logo-bounce",src:k,alt:"SINSSI Logo",width:171,height:183}),e.jsx(Z,{size:"large"}),e.jsx("p",{className:"mt-4 text-darkslategray-200",children:"Loading..."})]}),children:e.jsxs("div",{className:"container max-w-full",style:U,children:[e.jsx(Q,{style:a!=="default"?{borderColor:t.text}:{borderColor:"#072C1C"},children:e.jsx(N,{level:3,style:l,children:"Notifications"})}),e.jsxs("div",{className:"flex justify-center sm:justify-end mb-2 w-auto",children:[e.jsx(x,{onClick:R,className:"mr-4 bg-green-400 w-auto text-xxs sm:text-xs",type:"default",disabled:!n,style:a!=="default"?{background:u?t.text:t.CardHead,color:u?t.textLight:t.text,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>f(!0):void 0,onMouseLeave:a!=="default"?()=>f(!1):void 0,children:"Mark All as Read"}),e.jsx(x,{onClick:T,type:"default",className:"bg-red-400 text-xxs sm:text-xs w-auto",disabled:!n,style:a!=="default"?{background:m?t.CardHead:t.text,color:m?t.text:t.textLight,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>h(!0):void 0,onMouseLeave:a!=="default"?()=>h(!1):void 0,children:"Empty Notifications"})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#a7f3d0] rounded-xl shadow p-6",style:a!=="default"?{background:t.componentBackground,color:t.text}:{},children:H?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(v,{dataSource:P,pagination:!1,renderItem:s=>e.jsx(v.Item,{style:a!=="default"?{background:t.componentBackground,color:t.text}:{},children:e.jsx(V,{className:"text-xxs sm:text-xs w-auto my-notification-card h",title:e.jsx("span",{className:"text-xs sm:text-base font-semibold",style:l,children:"Notification"}),extra:s.notification_date?e.jsx("small",{className:"text-xxs sm:text-xs break-words max-w-[60px] sm:max-w-36 block",style:l,children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:$,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",style:l,children:"Message: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",style:l,children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",style:l,children:"Details: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",style:l,children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(p,{title:"Mark as read",children:e.jsx(x,{onClick:()=>E(s.id),type:"text",size:"small",className:"bg-green-400",icon:e.jsx(W,{}),disabled:!n,style:a!=="default"?{background:g[s.id]?t.text:t.CardHead,color:g[s.id]?t.textLight:t.text,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>j(o=>({...o,[s.id]:!0})):void 0,onMouseLeave:a!=="default"?()=>j(o=>({...o,[s.id]:!1})):void 0})}),e.jsx(p,{title:"Delete notification",children:e.jsx(x,{onClick:()=>z(s.id),type:"text",size:"small",className:"bg-red-400",icon:e.jsx(X,{}),disabled:!n,style:a!=="default"?{background:b[s.id]?t.CardHead:t.text,color:b[s.id]?t.text:t.textLight,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>y(o=>({...o,[s.id]:!0})):void 0,onMouseLeave:a!=="default"?()=>y(o=>({...o,[s.id]:!1})):void 0})})]})]})})},s.id)}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"w-full text-xxs sm:text-xs text-wrap text-center sm:text-left",style:l,children:`${(i-1)*c+1}-${Math.min(i*c,d.length)} of ${d.length} notifications`}),e.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:e.jsx(ee,{current:i,pageSize:c,total:d.length,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:(s,o)=>{I(s),B(o)},responsive:!0,className:"text-xxs sm:text-xs",style:l})})]})]})})]})})};export{le as default};
