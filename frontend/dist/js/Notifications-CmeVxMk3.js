import{r as n,p as G,c as _,e as F,d as O,f as q,u as J,j as e,B as x,T as y,L as K,S as v,a as Q}from"./index-D5m7brAQ.js";import{T as V}from"./index-BPHHOxml.js";import{D as W}from"./index-DisltTFr.js";import{L as k}from"./index-Cqg0HATC.js";import{C as X}from"./index-ON6h34Ee.js";import{R as Y}from"./CheckOutlined-BfY46oHH.js";import{R as Z}from"./DeleteOutlined-CbjJdnfi.js";import{P as ee}from"./Pagination-Dz9KGlxF.js";import"./TextArea-D-DXIv-d.js";import"./responsiveObserver-DoXGIqhg.js";import"./index-DfjrVpKX.js";import"./move-DlPCvRIF.js";import"./SearchOutlined-l8LOIuY9.js";import"./useBreakpoint-ChVOYjk2.js";import"./useForceUpdate-BMu-K6_i.js";import"./row-DMTX2L-Q.js";import"./PlusOutlined-CVr93bVs.js";import"./Dropdown-CFoEwfhM.js";const be=()=>{n.useEffect(()=>{G([v])},[]);const{Title:N}=V,{notifications:d,markAsRead:w,deleteNotif:S,markAllasread:C,clearall:L}=_(),{userData:M}=F(),{userData:A}=O(),{userData:D}=q(),{theme:t,currentTheme:a}=J(),l=M||A,H=!!D,[i,I]=n.useState(1),[c,B]=n.useState(5),[u,m]=n.useState(!1),[f,h]=n.useState(!1),[g,p]=n.useState({}),[j,b]=n.useState({}),E=async s=>{l&&await w(s)},R=async s=>{l&&await S(s)},z=async()=>{l&&await C()},T=async()=>{l&&await L()},P=d.slice((i-1)*c,i*c),U=a!=="default"?{background:t.background,minHeight:"100vh"}:{},$=a!=="default"?{width:"100%",background:t.componentBackground,border:"none",color:t.text}:{width:"100%",background:"#eaf4e2",border:"none"},o=a!=="default"?{color:t.text}:{};return e.jsx(n.Suspense,{fallback:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-honeydew",children:[e.jsx(K,{className:"h-[183px] w-[171px] object-cover mb-4 logo-bounce",src:v,alt:"SINSSI Logo",width:171,height:183}),e.jsx(Q,{size:"large"}),e.jsx("p",{className:"mt-4 text-darkslategray-200",children:"Loading..."})]}),children:e.jsxs("div",{className:"container max-w-full",style:U,children:[e.jsx(W,{style:a!=="default"?{borderColor:t.text}:{borderColor:"#072C1C"},children:e.jsx(N,{level:3,style:o,children:"Notifications"})}),e.jsxs("div",{className:"flex justify-center sm:justify-end mb-2 w-auto",children:[e.jsx(x,{onClick:z,className:"mr-4 bg-green-400 w-auto text-xxs sm:text-xs",type:"default",disabled:!l,style:a!=="default"?{background:u?t.text:t.CardHead,color:u?t.textLight:t.text,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>m(!0):void 0,onMouseLeave:a!=="default"?()=>m(!1):void 0,children:"Mark All as Read"}),e.jsx(x,{onClick:T,type:"default",className:"bg-red-400 text-xxs sm:text-xs w-auto",disabled:!l,style:a!=="default"?{background:f?t.CardHead:t.text,color:f?t.text:t.textLight,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>h(!0):void 0,onMouseLeave:a!=="default"?()=>h(!1):void 0,children:"Empty Notifications"})]}),e.jsx("div",{className:"flex flex-col w-full h-full bg-[#a7f3d0] rounded-xl shadow p-6",style:a!=="default"?{background:t.componentBackground,color:t.text}:{},children:H?e.jsx("div",{className:"text-center text-gray-500",children:"No notifications available for guests."}):e.jsxs(e.Fragment,{children:[e.jsx(k,{dataSource:P,pagination:!1,renderItem:s=>e.jsx(k.Item,{style:a!=="default"?{background:t.componentBackground,color:t.text}:{},children:e.jsx(X,{className:"text-xxs sm:text-xs w-auto my-notification-card h",title:e.jsx("span",{className:"text-xs sm:text-base font-semibold",style:o,children:"Notification"}),extra:s.notification_date?e.jsx("small",{className:"text-xxs sm:text-xs break-words max-w-[60px] sm:max-w-36 block",style:o,children:new Date(s.notification_date).toLocaleString()}):e.jsx("small",{children:"Invalid date"}),style:$,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",style:o,children:"Message: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",style:o,children:s.message})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-black text-xxs sm:text-xs",style:o,children:"Details: "}),e.jsx("span",{className:"text-black text-xxs sm:text-xs",style:o,children:s.details})]})]}),e.jsxs("div",{className:"ml-4 flex gap-2",children:[!s.read&&e.jsx(y,{title:"Mark as read",children:e.jsx(x,{onClick:()=>E(s.id),type:"text",size:"small",className:"bg-green-400",icon:e.jsx(Y,{}),disabled:!l,style:a!=="default"?{background:g[s.id]?t.text:t.CardHead,color:g[s.id]?t.textLight:t.text,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>p(r=>({...r,[s.id]:!0})):void 0,onMouseLeave:a!=="default"?()=>p(r=>({...r,[s.id]:!1})):void 0})}),e.jsx(y,{title:"Delete notification",children:e.jsx(x,{onClick:()=>R(s.id),type:"text",size:"small",className:"bg-red-400",icon:e.jsx(Z,{}),disabled:!l,style:a!=="default"?{background:j[s.id]?t.CardHead:t.text,color:j[s.id]?t.text:t.textLight,border:"none",transition:"background 0.2s, color 0.2s"}:{},onMouseEnter:a!=="default"?()=>b(r=>({...r,[s.id]:!0})):void 0,onMouseLeave:a!=="default"?()=>b(r=>({...r,[s.id]:!1})):void 0})})]})]})})},s.id)}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"w-full text-xxs sm:text-xs text-wrap text-center sm:text-left",style:o,children:`${(i-1)*c+1}-${Math.min(i*c,d.length)} of ${d.length} notifications`}),e.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:e.jsx(ee,{current:i,pageSize:c,total:d.length,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:(s,r)=>{I(s),B(r)},responsive:!0,className:"text-xxs sm:text-xs",style:o})})]})]})})]})})};export{be as default};
