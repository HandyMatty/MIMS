import{c as r}from"./index-D_DjqwU6.js";import{i as o,c as n}from"./offlineUtils-CjPJFgFK.js";const i=async t=>{try{if(await o())throw n(new Error("Offline - cannot add item"));return(await r.post("/add_item.php",t,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw e.isOffline?(console.log("Add item cancelled - offline"),e):(console.error("Add item API Error:",e),e)}},c=async()=>{try{if(await o())throw n(new Error("Offline - cannot fetch inventory"));const t=await r.get("/getInventoryData.php");return Array.isArray(t.data)?t.data:[]}catch(t){throw t.isOffline?(console.log("Get inventory cancelled - offline"),t):(console.error("Failed to fetch inventory data:",t.message),t)}},l=async t=>{try{if(await o())throw n(new Error("Offline - cannot delete items"));return(await r.post("/delete_item.php",{ids:t})).data}catch(e){throw e.isOffline?(console.log("Delete items cancelled - offline"),e):(console.error("Delete items API Error:",e),e)}},f=async t=>{try{if(await o())throw n(new Error("Offline - cannot update item"));return console.log("Sending update data:",t),(await r.post("/update_item.php",t)).data}catch(e){throw e.isOffline?(console.log("Update item cancelled - offline"),e):(console.error("Update item API Error:",e),e.response&&(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status)),e)}},d=async t=>{try{if(await o())throw n(new Error("Offline - cannot redistribute item"));return(await r.post("/redistribute_item.php",t)).data}catch(e){throw e.isOffline?(console.log("Redistribute item cancelled - offline"),e):(console.error("Redistribute item API Error:",e),e)}};export{i as addItemToInventory,l as deleteItems,c as getInventoryData,d as redistributeItem,f as updateItem};
