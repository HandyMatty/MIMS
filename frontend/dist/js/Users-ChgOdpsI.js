const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/UsersStatisticBoard-CTpA5EZM.js","js/index-Cq9w5H2m.js","css/index-Dqee62uv.css","js/index-BS54rGUb.js","js/UsersList-w77qZ4xW.js","js/cacheUtils-rgXBj3X0.js","js/index-CVya9Qnf.js","js/UsersActivities-DfMhqUVi.js","js/lodash-BtMPIWye.js","js/FilterOutlined-CqFZr8Fa.js"])))=>i.map(i=>d[i]);
import{c as E,r as a,l as U,m as w,p as T,j as s,b as x,_ as v,u as j,S as L}from"./index-Cq9w5H2m.js";const R=async()=>{try{return(await E.get("/fetch_activities.php")).data}catch(t){throw console.error("Fetch Activities API Error:",t),t}},I=x.lazy(()=>v(()=>import("./UsersStatisticBoard-CTpA5EZM.js"),__vite__mapDeps([0,1,2,3]))),P=x.lazy(()=>v(()=>import("./UsersList-w77qZ4xW.js"),__vite__mapDeps([4,1,2,5,6]))),B=x.lazy(()=>v(()=>import("./UsersActivities-DfMhqUVi.js"),__vite__mapDeps([7,1,2,8,6,9]))),k=()=>{const{theme:t,currentTheme:r}=j(),e=r!=="default"&&t.border||"#d1d5db",o=r!=="default"&&t.componentBackground||"#A8E1C5";return s.jsx("div",{className:"status-dashboard skeleton-container",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((i,d)=>s.jsxs("div",{className:"rounded-xl shadow-md border-none p-4 skeleton-optimized",style:{backgroundColor:o},children:[s.jsxs("div",{className:"flex items-center justify-center mb-3",children:[s.jsx("div",{className:"w-6 h-6 rounded mr-2 animate-pulse",style:{backgroundColor:e}}),s.jsx("div",{className:"h-4 rounded w-20 animate-pulse",style:{backgroundColor:e}})]}),s.jsx("div",{className:"h-8 rounded w-16 mx-auto animate-pulse",style:{backgroundColor:e}})]},d))})})},g=()=>{const{theme:t,currentTheme:r}=j(),e=r!=="default"&&t.border||"#d1d5db",o=r!=="default"&&t.componentBackground||"#a7f3d0";return s.jsxs("div",{className:"rounded-xl shadow border-none p-6 skeleton-container",style:{backgroundColor:o},children:[s.jsx("div",{className:"h-8 rounded mb-4 animate-pulse",style:{backgroundColor:e}}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-10 rounded animate-pulse",style:{backgroundColor:e}}),s.jsx("div",{className:"h-96 rounded animate-pulse",style:{backgroundColor:e}}),s.jsx("div",{className:"h-8 rounded animate-pulse",style:{backgroundColor:e}})]})]})},y=()=>{const{theme:t,currentTheme:r}=j(),e=r!=="default"&&t.border||"#d1d5db",o=r!=="default"&&t.componentBackground||"#a7f3d0";return s.jsxs("div",{className:"rounded-xl shadow border-none p-6 skeleton-container",style:{backgroundColor:o},children:[s.jsx("div",{className:"h-8 rounded mb-4 animate-pulse",style:{backgroundColor:e}}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-10 rounded animate-pulse",style:{backgroundColor:e}}),s.jsx("div",{className:"h-96 rounded animate-pulse",style:{backgroundColor:e}}),s.jsx("div",{className:"h-8 rounded animate-pulse",style:{backgroundColor:e}})]})]})},f=()=>s.jsxs("div",{className:"container max-w-full",children:[s.jsx("div",{className:"mt-5",children:s.jsx(k,{})}),s.jsx("div",{className:"mt-5",children:s.jsx(g,{})}),s.jsx("div",{className:"mt-5",children:s.jsx(y,{})})]}),O=()=>{const[t,r]=a.useState({totalUsers:0,activeUsers:0,activities:0}),[e,o]=a.useState({users:[]}),[i,d]=a.useState([]),[c,p]=a.useState(!0),[u,b]=a.useState(null),[S,N]=a.useState(null),[C,_]=a.useState(null),m=a.useMemo(()=>({statistics:{...t},users:e.users||[],activities:i||[]}),[t,e.users,i]),n=a.useCallback(async()=>{try{p(!0),b(null);const[l,D,A]=await Promise.all([U(),w(),R()]);r(l),o(D),d(A),N(Date.now()),_(Date.now())}catch(l){console.error("Error fetching users data:",l),b(l.message)}finally{p(!1)}},[]);a.useEffect(()=>{T([L]),n()},[n]);const h=a.useCallback(()=>{n()},[n]);return c?s.jsx(f,{}):s.jsx(a.Suspense,{fallback:s.jsx(f,{}),children:s.jsxs("div",{className:"container max-w-full",children:[s.jsx("div",{className:"mt-5",children:s.jsx(a.Suspense,{fallback:s.jsx(k,{}),children:s.jsx(I,{statistics:m.statistics,loading:c,error:u,onRefresh:h})})}),s.jsx("div",{className:"mt-5",children:s.jsx(a.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(P,{usersData:m.users,loading:c,error:u,onRefresh:h,lastSyncTime:C})})}),s.jsx("div",{className:"mt-5",children:s.jsx(a.Suspense,{fallback:s.jsx(y,{}),children:s.jsx(B,{activitiesData:m.activities,loading:c,error:u,onRefresh:h,lastSyncTime:S})})})]})})};export{O as default};
