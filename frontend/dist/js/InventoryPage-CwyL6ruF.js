const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/InventoryTable-2HDkbSmC.js","js/index-Cq9w5H2m.js","css/index-Dqee62uv.css","js/index-CVya9Qnf.js","js/BatchPrintItemModal-BiVbELE3.js","js/ExportModal-RI1Jwy6y.js","js/FilterOutlined-CqFZr8Fa.js","js/PrinterOutlined-D6fI5T9P.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,b as j,i as p,p as b,g as f,S as I,u as E,_ as S}from"./index-Cq9w5H2m.js";const y=typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&window.location.hostname!==""&&!window.location.hostname.startsWith("192.168.")&&!0,k=j.lazy(()=>S(()=>import("./InventoryTable-2HDkbSmC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),h=()=>{const{theme:l,currentTheme:a}=E(),o=a!=="default"&&l.border||"#d1d5db",t=a!=="default"&&l.componentBackground||"#A8E1C5";return e.jsx("div",{className:"container max-w-full",children:e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"rounded-xl shadow border-none p-6 skeleton-container",style:{backgroundColor:t},children:[e.jsx("div",{className:"h-8 rounded mb-4 animate-pulse",style:{backgroundColor:o}}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 rounded animate-pulse",style:{backgroundColor:o}}),e.jsx("div",{className:"h-96 rounded animate-pulse",style:{backgroundColor:o}}),e.jsx("div",{className:"h-8 rounded animate-pulse",style:{backgroundColor:o}})]})]})})})},C=()=>{const[l,a]=n.useState([]),[o,t]=n.useState(!0),[c,s]=n.useState(null),[v,d]=n.useState(null);n.useEffect(()=>{(async()=>{var m;try{if(y&&await p()){console.log("Inventory initialization cancelled - offline"),s(new Error("Offline - cannot load inventory data")),t(!1);return}await Promise.all([b([I]),f()]).then(([,r])=>{a(r),s(null),d(Date.now())})}catch(r){console.error("Error initializing inventory:",r),y&&(r.isOffline||(m=r.message)!=null&&m.includes("Offline"))?s(new Error("You are currently offline. Please check your internet connection.")):s(r)}finally{t(!1)}})()},[]);const x=n.useMemo(()=>l,[l]),u=n.useMemo(()=>o,[o]),w=n.useMemo(()=>c,[c]),g=async()=>{t(!0);try{const i=await f();a(i),d(Date.now()),s(null)}catch(i){s(i)}finally{t(!1)}};return u?e.jsx(h,{}):e.jsx("div",{className:"container max-w-full",children:e.jsx("div",{className:"mt-5",children:e.jsx(n.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(k,{inventoryData:x,setInventoryData:a,loading:u,error:w,lastSyncTime:v,onRefresh:g})})})})};export{C as default};
