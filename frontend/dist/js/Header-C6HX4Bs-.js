import{r as i,v,w as y,u as k,j as e,f,B as z,x as B,y as R,l as S,k as C,o as N,e as w,z as I,A as O,E as A,G as g,n as j,M}from"./index-D_DjqwU6.js";import{D as $}from"./index-CYk8aGXX.js";import{R as T}from"./CalendarOutlined-CeJQtT4o.js";import{B as H}from"./index-CaMH7yIx.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},E=function(t,s){return i.createElement(v,y({},t,{ref:s,icon:D}))},L=i.forwardRef(E),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M766.4 744.3c43.7 0 79.4-36.2 79.4-80.5 0-53.5-79.4-140.8-79.4-140.8S687 610.3 687 663.8c0 44.3 35.7 80.5 79.4 80.5zm-377.1-44.1c7.1 7.1 18.6 7.1 25.6 0l256.1-256c7.1-7.1 7.1-18.6 0-25.6l-256-256c-.6-.6-1.3-1.2-2-1.7l-78.2-78.2a9.11 9.11 0 00-12.8 0l-48 48a9.11 9.11 0 000 12.8l67.2 67.2-207.8 207.9c-7.1 7.1-7.1 18.6 0 25.6l255.9 256zm12.9-448.6l178.9 178.9H223.4l178.8-178.9zM904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"}}]},name:"bg-colors",theme:"outlined"},V=function(t,s){return i.createElement(v,y({},t,{ref:s,icon:G}))},K=i.forwardRef(V);const P=()=>{const{theme:c,currentTheme:t,changeTheme:s,themes:o}=k(),[d,l]=i.useState(!1),u=({key:a})=>{s(a),l(!1)},m=Object.entries(o).map(([a,n])=>({key:a,label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:n.sider,border:t===a?"2px solid #fff":"1px solid #d9d9d9"}}),e.jsx("span",{children:n.name}),t===a&&e.jsx("span",{style:{marginLeft:"auto",color:"#1890ff"},children:"âœ“"})]})}));return e.jsx($,{menu:{items:m,onClick:u,style:{minWidth:"180px"}},open:d,onOpenChange:l,placement:"bottomRight",trigger:["click"],children:e.jsx(f,{title:"Themes",children:e.jsx(z,{type:"text",icon:e.jsx(K,{}),style:{color:c.textLight,border:"none",background:"transparent",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px"}})})})},{Header:U}=O,_=({onMobileMenuClick:c})=>{const t=B(),s=R(),{theme:o}=k(),d=S(),l=C(),u=N(),{notifications:m}=w(),a=!!(d.token&&d.userData),n=!!(l.token&&l.userData);u.token&&u.userData;const p=!a&&!n,b=p?0:m.filter(r=>!r.read).length,x=r=>{r.key==="/profile"?p?M.info({title:"Guests Don't Have Profile",content:"You are currently logged in as a guest and cannot access a profile.",onOk(){}}):a?t("/admin/profile",{replace:!0}):n&&t("/user/profile",{replace:!0}):r.key==="/calendar"?a?t("/admin/calendar",{replace:!0}):n?t("/user/calendar",{replace:!0}):t("/guest/calendar",{replace:!0}):r.key==="/notifications"&&(a?t("/admin/notifications",{replace:!0}):n?t("/user/notifications",{replace:!0}):t("/guest/notifications",{replace:!0}))},h=[{key:"/profile",icon:e.jsx(f,{title:"Profile",children:e.jsx("div",{className:`custom-avatar-icon ${s.pathname==="/admin/profile"||s.pathname==="/user/profile"?"active":""}`,children:e.jsx(I,{})})})},{key:"/calendar",icon:e.jsx(f,{title:"Calendar",children:e.jsx("div",{className:`custom-avatar-icon ${s.pathname==="/admin/calendar"||s.pathname==="/user/calendar"?"active":""}`,children:e.jsx(T,{})})})},{key:"/notifications",icon:e.jsx(f,{title:"Notifications",children:e.jsx(H,{count:b,offset:[-11,12],size:"small",showZero:!1,children:e.jsx("div",{className:`custom-avatar-icon ${s.pathname==="/admin/notifications"||s.pathname==="/user/notifications"?"active":""}`,children:e.jsx(L,{})})})})}];return e.jsxs(U,{className:"site-layout-background flex justify-between items-center",style:{padding:0,background:o.header,position:"sticky",top:0,zIndex:1e3},children:[e.jsxs("div",{className:"flex items-center pl-4",children:[e.jsx(A,{className:"block sm:hidden",style:{fontSize:20,color:o.textLight,cursor:"pointer"},onClick:c}),e.jsx(i.Suspense,{fallback:e.jsx(j,{size:"small"}),children:e.jsx(g,{onClick:x,selectedKeys:[s.pathname],mode:"horizontal",items:[h[0]],style:{margin:0,padding:0,background:o.header},className:"gap-2"})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",paddingRight:"20px",gap:"8px"},children:[e.jsx(P,{}),e.jsx(i.Suspense,{fallback:e.jsx(j,{size:"small"}),children:e.jsx(g,{onClick:x,selectedKeys:[s.pathname],mode:"horizontal",items:[h[1],h[2]],style:{margin:0,padding:0,background:o.header}})})]})]})};export{_ as default};
