import{n as nr,t as rr,v as Ja,r as n,C as Ya,x as Te,ae as sa,z as sr,E as lr,af as ir,ag as or,ah as cr,ai as ur,aj as dr,ak as mr,a5 as fr,a6 as en,a8 as tn,al as hr,aa as Pe,a9 as V,am as La,an as $e,a7 as ve,V as wt,R as Ea,ao as kt,ap as vr,aq as pr,ar as yt,a1 as bt,f as Ie,H as an,ac as gt,as as nn,at as xr,I as Pt,B as be,au as rn,G as sn,F as ln,av as on,Z as cn,$ as un,a0 as dn,aw as mn,ax as fn,ay as hn,D as la,u as _t,b as Bt,d as Ot,c as Nt,A as ia,i as tt,j as e,T as Je,M as Ht,s as Qt,az as Ma}from"./index-CvNWCSBk.js";import{g as mt,d as gr,u as yr,a as br,r as Cr}from"./addItemToInventory-BizEI-By.js";import{P as at,p as vn,f as Vt,e as it,h as Dr,t as qt,j as jr,u as Sr,k as Ir,l as pn,m as Ga,n as xn,o as wr,q as kr,s as Ta,R as Fa,v as Pr,w as gn,x as Or,y as yn,c as Nr,d as et}from"./index-VGNMskM1.js";import{F as A}from"./index-c9gE5si-.js";import{S as $t,u as Rr,F as Xt,D as Aa}from"./index-BL-r6B34.js";import{_ as Er}from"./callSuper-DSIyKpBK.js";import{R as Ct,C as Ue}from"./row-DGP4tP0a.js";import{u as Mr,S as ge,R as Va}from"./index-0-1sKDQJ.js";import{R as bn,T as Tr}from"./index-BM5eBLhp.js";import{R as aa}from"./DeleteOutlined-DPK9oQDC.js";import{D as Fr}from"./index-DHMA2N0b.js";import{I as Ce}from"./index-Dw12Oms-.js";import{R as Cn}from"./CalendarOutlined-CMOg-rqc.js";import{u as Dn,g as jn,a as Sn}from"./TextArea-B9qNAVSo.js";import{H as He}from"./HighlightText-7ExnHZk_.js";import{T as In}from"./index-DnkFZqVI.js";import{d as Ar}from"./debounce-DEQiWbqI.js";import{C as Vr,T as $r}from"./index-CJlEdl2c.js";import{R as $a}from"./FilterOutlined-BifN5nWz.js";import{R as Ha}from"./SearchOutlined-BNWm_Ebr.js";import{P as Hr}from"./Pagination-BYNP4Am6.js";import"./addEventListener-CV8oBG-h.js";import"./index-BDtAmPUz.js";import"./useBreakpoint-Dkqa_54G.js";import"./useForceUpdate-Ca9qVhq8.js";import"./responsiveObserver-CmNDpH0p.js";import"./CheckOutlined-BwOprb5D.js";import"./EyeOutlined-CuRghNh0.js";import"./PlusOutlined-BYHHjC0-.js";const Zt=(t,s,a,l,r)=>({background:t,border:`${Ja(l.lineWidth)} ${l.lineType} ${s}`,[`${r}-icon`]:{color:a}}),_r=t=>{const{componentCls:s,motionDurationSlow:a,marginXS:l,marginSM:r,fontSize:c,fontSizeLG:m,lineHeight:i,borderRadiusLG:d,motionEaseInOutCirc:f,withDescriptionIconSize:u,colorText:b,colorTextHeading:v,withDescriptionPadding:k,defaultPadding:D}=t;return{[s]:Object.assign(Object.assign({},rr(t)),{position:"relative",display:"flex",alignItems:"center",padding:D,wordWrap:"break-word",borderRadius:d,[`&${s}-rtl`]:{direction:"rtl"},[`${s}-content`]:{flex:1,minWidth:0},[`${s}-icon`]:{marginInlineEnd:l,lineHeight:0},"&-description":{display:"none",fontSize:c,lineHeight:i},"&-message":{color:v},[`&${s}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${f}, opacity ${a} ${f},
        padding-top ${a} ${f}, padding-bottom ${a} ${f},
        margin-bottom ${a} ${f}`},[`&${s}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${s}-with-description`]:{alignItems:"flex-start",padding:k,[`${s}-icon`]:{marginInlineEnd:r,fontSize:u,lineHeight:0},[`${s}-message`]:{display:"block",marginBottom:l,color:v,fontSize:m},[`${s}-description`]:{display:"block",color:b}},[`${s}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Br=t=>{const{componentCls:s,colorSuccess:a,colorSuccessBorder:l,colorSuccessBg:r,colorWarning:c,colorWarningBorder:m,colorWarningBg:i,colorError:d,colorErrorBorder:f,colorErrorBg:u,colorInfo:b,colorInfoBorder:v,colorInfoBg:k}=t;return{[s]:{"&-success":Zt(r,l,a,t,s),"&-info":Zt(k,v,b,t,s),"&-warning":Zt(i,m,c,t,s),"&-error":Object.assign(Object.assign({},Zt(u,f,d,t,s)),{[`${s}-description > pre`]:{margin:0,padding:0}})}}},qr=t=>{const{componentCls:s,iconCls:a,motionDurationMid:l,marginXS:r,fontSizeIcon:c,colorIcon:m,colorIconHover:i}=t;return{[s]:{"&-action":{marginInlineStart:r},[`${s}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:c,lineHeight:Ja(c),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:m,transition:`color ${l}`,"&:hover":{color:i}}},"&-close-text":{color:m,transition:`color ${l}`,"&:hover":{color:i}}}}},Ur=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),Yr=nr("Alert",t=>[_r(t),Br(t),qr(t)],Ur);var Ka=function(t,s){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&s.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(t);r<l.length;r++)s.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(t,l[r])&&(a[l[r]]=t[l[r]]);return a};const Lr={success:dr,info:ur,error:cr,warning:or},zr=t=>{const{icon:s,prefixCls:a,type:l}=t,r=Lr[l]||null;return s?ir(s,n.createElement("span",{className:`${a}-icon`},s),()=>({className:Te(`${a}-icon`,{[s.props.className]:s.props.className})})):n.createElement(r,{className:`${a}-icon`})},Gr=t=>{const{isClosable:s,prefixCls:a,closeIcon:l,handleClose:r,ariaProps:c}=t,m=l===!0||l===void 0?n.createElement(mr,null):l;return s?n.createElement("button",Object.assign({type:"button",onClick:r,className:`${a}-close-icon`,tabIndex:0},c),m):null},wn=n.forwardRef((t,s)=>{const{description:a,prefixCls:l,message:r,banner:c,className:m,rootClassName:i,style:d,onMouseEnter:f,onMouseLeave:u,onClick:b,afterClose:v,showIcon:k,closable:D,closeText:g,closeIcon:S,action:C,id:h}=t,y=Ka(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[I,M]=n.useState(!1),F=n.useRef(null);n.useImperativeHandle(s,()=>({nativeElement:F.current}));const{getPrefixCls:_,direction:B,alert:P}=n.useContext(Ya),o=_("alert",l),[p,j,R]=Yr(o),N=E=>{var $;M(!0),($=t.onClose)===null||$===void 0||$.call(t,E)},T=n.useMemo(()=>t.type!==void 0?t.type:c?"warning":"info",[t.type,c]),O=n.useMemo(()=>typeof D=="object"&&D.closeIcon||g?!0:typeof D=="boolean"?D:S!==!1&&S!==null&&S!==void 0?!0:!!(P!=null&&P.closable),[g,S,D,P==null?void 0:P.closable]),z=c&&k===void 0?!0:k,H=Te(o,`${o}-${T}`,{[`${o}-with-description`]:!!a,[`${o}-no-icon`]:!z,[`${o}-banner`]:!!c,[`${o}-rtl`]:B==="rtl"},P==null?void 0:P.className,m,i,R,j),K=sa(y,{aria:!0,data:!0}),q=n.useMemo(()=>{var E,$;return typeof D=="object"&&D.closeIcon?D.closeIcon:g||(S!==void 0?S:typeof(P==null?void 0:P.closable)=="object"&&(!((E=P==null?void 0:P.closable)===null||E===void 0)&&E.closeIcon)?($=P==null?void 0:P.closable)===null||$===void 0?void 0:$.closeIcon:P==null?void 0:P.closeIcon)},[S,D,g,P==null?void 0:P.closeIcon]),U=n.useMemo(()=>{const E=D??(P==null?void 0:P.closable);if(typeof E=="object"){const{closeIcon:$}=E;return Ka(E,["closeIcon"])}return{}},[D,P==null?void 0:P.closable]);return p(n.createElement(sr,{visible:!I,motionName:`${o}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:E=>({maxHeight:E.offsetHeight}),onLeaveEnd:v},(E,$)=>{let{className:ee,style:ie}=E;return n.createElement("div",Object.assign({id:h,ref:lr(F,$),"data-show":!I,className:Te(H,ee),style:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),d),ie),onMouseEnter:f,onMouseLeave:u,onClick:b,role:"alert"},K),z?n.createElement(zr,{description:a,icon:t.icon,prefixCls:o,type:T}):null,n.createElement("div",{className:`${o}-content`},r?n.createElement("div",{className:`${o}-message`},r):null,a?n.createElement("div",{className:`${o}-description`},a):null),C?n.createElement("div",{className:`${o}-action`},C):null,n.createElement(Gr,{isClosable:O,prefixCls:o,closeIcon:q,handleClose:N,ariaProps:U}))}))});let Kr=function(t){function s(){var a;return tn(this,s),a=Er(this,s,arguments),a.state={error:void 0,info:{componentStack:""}},a}return fr(s,t),en(s,[{key:"componentDidCatch",value:function(l,r){this.setState({error:l,info:r})}},{key:"render",value:function(){const{message:l,description:r,id:c,children:m}=this.props,{error:i,info:d}=this.state,f=(d==null?void 0:d.componentStack)||null,u=typeof l>"u"?(i||"").toString():l,b=typeof r>"u"?f:r;return i?n.createElement(wn,{id:c,type:"error",message:u,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},b)}):m}}])}(n.Component);const kn=wn;kn.ErrorBoundary=Kr;function oa(t,s){return t!==void 0?t:s?"bottomRight":"bottomLeft"}function Pn(t,s){var a=oa(t,s),l=a==null?void 0:a.toLowerCase().endsWith("right"),r=l?"insetInlineEnd":"insetInlineStart";return s&&(r=["insetInlineStart","insetInlineEnd"].find(function(c){return c!==r})),r}var Wr={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function On(t){var s=t.popupElement,a=t.popupStyle,l=t.popupClassName,r=t.popupAlign,c=t.transitionName,m=t.getPopupContainer,i=t.children,d=t.range,f=t.placement,u=t.builtinPlacements,b=u===void 0?Wr:u,v=t.direction,k=t.visible,D=t.onClose,g=n.useContext(at),S=g.prefixCls,C="".concat(S,"-dropdown"),h=oa(f,v==="rtl");return n.createElement(hr,{showAction:[],hideAction:["click"],popupPlacement:h,builtinPlacements:b,prefixCls:C,popupTransitionName:c,popup:s,popupAlign:r,popupVisible:k,popupClassName:Te(l,Pe(Pe({},"".concat(C,"-range"),d),"".concat(C,"-rtl"),v==="rtl")),popupStyle:a,stretch:"minWidth",getPopupContainer:m,onPopupVisibleChange:function(I){I||D()}},i)}function Nn(t){return vn(t,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function Rn(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=n.useState([!1,!1]),r=V(l,2),c=r[0],m=r[1],i=function(u,b){m(function(v){return Vt(v,b,u)})},d=n.useMemo(function(){return c.map(function(f,u){if(f)return!0;var b=t[u];return b?!!(!a[u]&&!b||b&&s(b,{activeIndex:u})):!1})},[t,c,s,a]);return[d,i]}function Qr(t,s,a){if(s===!1)return null;var l=s&&La(s)==="object"?s:{};return l.clearIcon||a||n.createElement("span",{className:"".concat(t,"-clear-btn")})}function Xr(t,s,a,l,r){var c=$e(function(m,i){return!!(a&&a(m,i)||l&&t.isAfter(l,m)&&!it(t,s,l,m,i.type)||r&&t.isAfter(m,r)&&!it(t,s,r,m,i.type))});return c}function Zr(t,s,a){return n.useMemo(function(){var l=Dr(t,s,a),r=qt(l),c=r[0],m=La(c)==="object"&&c.type==="mask"?c.format:null;return[r.map(function(i){return typeof i=="string"||typeof i=="function"?i:i.format}),m]},[t,s,a])}function Jr(t,s,a){return typeof t[0]=="function"||a?!0:s}function es(t,s,a,l){var r=$e(function(c,m){var i=ve({type:s},m);if(delete i.activeIndex,!t.isValidate(c)||a&&a(c,i))return!0;if((s==="date"||s==="time")&&l){var d,f=m&&m.activeIndex===1?"end":"start",u=((d=l.disabledTime)===null||d===void 0?void 0:d.call(l,c,f,{from:i.from}))||{},b=u.disabledHours,v=u.disabledMinutes,k=u.disabledSeconds,D=u.disabledMilliseconds,g=l.disabledHours,S=l.disabledMinutes,C=l.disabledSeconds,h=b||g,y=v||S,I=k||C,M=t.getHour(c),F=t.getMinute(c),_=t.getSecond(c),B=t.getMillisecond(c);if(h&&h().includes(M)||y&&y(M).includes(F)||I&&I(M,F).includes(_)||D&&D(M,F,_).includes(B))return!0}return!1});return r}function Jt(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n.useMemo(function(){var l=t&&qt(t);return s&&l&&(l[1]=l[1]||l[0]),l},[t,s]);return a}function En(t,s){var a=t.generateConfig,l=t.locale,r=t.picker,c=r===void 0?"date":r,m=t.prefixCls,i=m===void 0?"rc-picker":m,d=t.styles,f=d===void 0?{}:d,u=t.classNames,b=u===void 0?{}:u,v=t.order,k=v===void 0?!0:v,D=t.components,g=D===void 0?{}:D,S=t.inputRender,C=t.allowClear,h=t.clearIcon,y=t.needConfirm,I=t.multiple,M=t.format,F=t.inputReadOnly,_=t.disabledDate,B=t.minDate,P=t.maxDate,o=t.showTime,p=t.value,j=t.defaultValue,R=t.pickerValue,N=t.defaultPickerValue,T=Jt(p),O=Jt(j),z=Jt(R),H=Jt(N),K=c==="date"&&o?"datetime":c,q=K==="time"||K==="datetime",U=q||I,E=y??q,$=jr(t),ee=V($,4),ie=ee[0],G=ee[1],Y=ee[2],te=ee[3],ue=Sr(l,G),De=n.useMemo(function(){return Ir(K,Y,te,ie,ue)},[K,Y,te,ie,ue]),me=n.useMemo(function(){return ve(ve({},t),{},{prefixCls:i,locale:ue,picker:c,styles:f,classNames:b,order:k,components:ve({input:S},g),clearIcon:Qr(i,C,h),showTime:De,value:T,defaultValue:O,pickerValue:z,defaultPickerValue:H},s==null?void 0:s())},[t]),pe=Zr(K,ue,M),re=V(pe,2),W=re[0],oe=re[1],fe=Jr(W,F,I),w=Xr(a,l,_,B,P),L=es(a,c,w,De),ce=n.useMemo(function(){return ve(ve({},me),{},{needConfirm:E,inputReadOnly:fe,disabledDate:w})},[me,E,fe,w]);return[ce,K,U,W,oe,L]}function ts(t,s,a){var l=wt(s,{value:t}),r=V(l,2),c=r[0],m=r[1],i=Ea.useRef(t),d=Ea.useRef(),f=function(){kt.cancel(d.current)},u=$e(function(){m(i.current),a&&c!==i.current&&a(i.current)}),b=$e(function(v,k){f(),i.current=v,v||k?u():d.current=kt(u)});return Ea.useEffect(function(){return f},[]),[c,b]}function Mn(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=arguments.length>3?arguments[3]:void 0,r=a.every(function(u){return u})?!1:t,c=ts(r,s||!1,l),m=V(c,2),i=m[0],d=m[1];function f(u){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!b.inherit||i)&&d(u,b.force)}return[i,f]}function Tn(t){var s=n.useRef();return n.useImperativeHandle(t,function(){var a;return{nativeElement:(a=s.current)===null||a===void 0?void 0:a.nativeElement,focus:function(r){var c;(c=s.current)===null||c===void 0||c.focus(r)},blur:function(){var r;(r=s.current)===null||r===void 0||r.blur()}}}),s}function Fn(t,s){return n.useMemo(function(){return t||(s?(vr(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(s).map(function(a){var l=V(a,2),r=l[0],c=l[1];return{label:r,value:c}})):[])},[t,s])}function za(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=n.useRef(s);l.current=s,pr(function(){if(t)l.current(t);else{var r=kt(function(){l.current(t)},a);return function(){kt.cancel(r)}}},[t])}function An(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=n.useState(0),r=V(l,2),c=r[0],m=r[1],i=n.useState(!1),d=V(i,2),f=d[0],u=d[1],b=n.useRef([]),v=n.useRef(null),k=function(C){u(C)},D=function(C){return C&&(v.current=C),v.current},g=function(C){var h=b.current,y=new Set(h.filter(function(M){return C[M]||s[M]})),I=h[h.length-1]===0?1:0;return y.size>=2||t[I]?null:I};return za(f||a,function(){f||(b.current=[])}),n.useEffect(function(){f&&b.current.push(c)},[f,c]),[f,k,D,c,m,g,b.current]}function as(t,s,a,l,r,c){var m=a[a.length-1],i=function(f,u){var b=V(t,2),v=b[0],k=b[1],D=ve(ve({},u),{},{from:pn(t,a)});return m===1&&s[0]&&v&&!it(l,r,v,f,D.type)&&l.isAfter(v,f)||m===0&&s[1]&&k&&!it(l,r,k,f,D.type)&&l.isAfter(f,k)?!0:c==null?void 0:c(f,D)};return i}function At(t,s,a,l){switch(s){case"date":case"week":return t.addMonth(a,l);case"month":case"quarter":return t.addYear(a,l);case"year":return t.addYear(a,l*10);case"decade":return t.addYear(a,l*100);default:return a}}var _a=[];function Vn(t,s,a,l,r,c,m,i){var d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:_a,f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:_a,u=arguments.length>10&&arguments[10]!==void 0?arguments[10]:_a,b=arguments.length>11?arguments[11]:void 0,v=arguments.length>12?arguments[12]:void 0,k=arguments.length>13?arguments[13]:void 0,D=m==="time",g=c||0,S=function(z){var H=t.getNow();return D&&(H=Ga(t,H)),d[z]||a[z]||H},C=V(f,2),h=C[0],y=C[1],I=wt(function(){return S(0)},{value:h}),M=V(I,2),F=M[0],_=M[1],B=wt(function(){return S(1)},{value:y}),P=V(B,2),o=P[0],p=P[1],j=n.useMemo(function(){var O=[F,o][g];return D?O:Ga(t,O,u[g])},[D,F,o,g,t,u]),R=function(z){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",K=[_,p][g];K(z);var q=[F,o];q[g]=z,b&&(!it(t,s,F,q[0],m)||!it(t,s,o,q[1],m))&&b(q,{source:H,range:g===1?"end":"start",mode:l})},N=function(z,H){if(i){var K={date:"month",week:"month",month:"year",quarter:"year"},q=K[m];if(q&&!it(t,s,z,H,q))return At(t,m,H,-1);if(m==="year"&&z){var U=Math.floor(t.getYear(z)/10),E=Math.floor(t.getYear(H)/10);if(U!==E)return At(t,m,H,-1)}}return H},T=n.useRef(null);return yt(function(){if(r&&!d[g]){var O=D?null:t.getNow();if(T.current!==null&&T.current!==g?O=[F,o][g^1]:a[g]?O=g===0?a[0]:N(a[0],a[1]):a[g^1]&&(O=a[g^1]),O){v&&t.isAfter(v,O)&&(O=v);var z=i?At(t,m,O,1):O;k&&t.isAfter(z,k)&&(O=i?At(t,m,k,-1):k),R(O,"reset")}}},[r,g,a[g]]),n.useEffect(function(){r?T.current=g:T.current=null},[r,g]),yt(function(){r&&d&&d[g]&&R(d[g],"reset")},[r,g]),[j,R]}function $n(t,s){var a=n.useRef(t),l=n.useState({}),r=V(l,2),c=r[1],m=function(f){return f&&s!==void 0?s:a.current},i=function(f){a.current=f,c({})};return[m,i,m(!0)]}var ns=[];function Hn(t,s,a){var l=function(m){return m.map(function(i){return xn(i,{generateConfig:t,locale:s,format:a[0]})})},r=function(m,i){for(var d=Math.max(m.length,i.length),f=-1,u=0;u<d;u+=1){var b=m[u]||null,v=i[u]||null;if(b!==v&&!wr(t,b,v)){f=u;break}}return[f<0,f!==0]};return[l,r]}function _n(t,s){return bt(t).sort(function(a,l){return s.isAfter(a,l)?1:-1})}function rs(t){var s=$n(t),a=V(s,2),l=a[0],r=a[1],c=$e(function(){r(t)});return n.useEffect(function(){c()},[t]),[l,r]}function Bn(t,s,a,l,r,c,m,i,d){var f=wt(c,{value:m}),u=V(f,2),b=u[0],v=u[1],k=b||ns,D=rs(k),g=V(D,2),S=g[0],C=g[1],h=Hn(t,s,a),y=V(h,2),I=y[0],M=y[1],F=$e(function(B){var P=bt(B);if(l)for(var o=0;o<2;o+=1)P[o]=P[o]||null;else r&&(P=_n(P.filter(function(O){return O}),t));var p=M(S(),P),j=V(p,2),R=j[0],N=j[1];if(!R&&(C(P),i)){var T=I(P);i(P,T,{range:N?"end":"start"})}}),_=function(){d&&d(S())};return[k,v,S,F,_]}function qn(t,s,a,l,r,c,m,i,d,f){var u=t.generateConfig,b=t.locale,v=t.picker,k=t.onChange,D=t.allowEmpty,g=t.order,S=c.some(function(N){return N})?!1:g,C=Hn(u,b,m),h=V(C,2),y=h[0],I=h[1],M=$n(s),F=V(M,2),_=F[0],B=F[1],P=$e(function(){B(s)});n.useEffect(function(){P()},[s]);var o=$e(function(N){var T=N===null,O=bt(N||_());if(T)for(var z=Math.max(c.length,O.length),H=0;H<z;H+=1)c[H]||(O[H]=null);S&&O[0]&&O[1]&&(O=_n(O,u)),r(O);var K=O,q=V(K,2),U=q[0],E=q[1],$=!U,ee=!E,ie=D?(!$||D[0])&&(!ee||D[1]):!0,G=!g||$||ee||it(u,b,U,E,v)||u.isAfter(E,U),Y=(c[0]||!U||!f(U,{activeIndex:0}))&&(c[1]||!E||!f(E,{from:U,activeIndex:1})),te=T||ie&&G&&Y;if(te){a(O);var ue=I(O,s),De=V(ue,1),me=De[0];k&&!me&&k(T&&O.every(function(pe){return!pe})?null:O,y(O))}return te}),p=$e(function(N,T){var O=Vt(_(),N,l()[N]);B(O),T&&o()}),j=!i&&!d;za(!j,function(){j&&(o(),r(s),P())},2);function R(N){return!!_()[N]}return[p,o,R]}function Un(t,s,a,l,r){return s!=="date"&&s!=="time"?!1:a!==void 0?a:l!==void 0?l:!r&&(t==="date"||t==="time")}function ss(t){var s=t.mode,a=t.internalMode,l=t.renderExtraFooter,r=t.showNow,c=t.showTime,m=t.onSubmit,i=t.onNow,d=t.invalid,f=t.needConfirm,u=t.generateConfig,b=t.disabledDate,v=n.useContext(at),k=v.prefixCls,D=v.locale,g=v.button,S=g===void 0?"button":g,C=u.getNow(),h=kr(u,c,C),y=V(h,1),I=y[0],M=l==null?void 0:l(s),F=b(C,{type:s}),_=function(){if(!F){var N=I(C);i(N)}},B="".concat(k,"-now"),P="".concat(B,"-btn"),o=r&&n.createElement("li",{className:B},n.createElement("a",{className:Te(P,F&&"".concat(P,"-disabled")),"aria-disabled":F,onClick:_},a==="date"?D.today:D.now)),p=f&&n.createElement("li",{className:"".concat(k,"-ok")},n.createElement(S,{disabled:d,onClick:m},D.ok)),j=(o||p)&&n.createElement("ul",{className:"".concat(k,"-ranges")},o,p);return!M&&!j?null:n.createElement("div",{className:"".concat(k,"-footer")},M&&n.createElement("div",{className:"".concat(k,"-footer-extra")},M),j)}function ls(t){var s=t.picker,a=t.multiplePanel,l=t.pickerValue,r=t.onPickerValueChange,c=t.needConfirm,m=t.onSubmit,i=t.range,d=t.hoverValue,f=n.useContext(at),u=f.prefixCls,b=f.generateConfig,v=n.useCallback(function(h,y){return At(b,s,h,y)},[b,s]),k=n.useMemo(function(){return v(l,1)},[l,v]),D=function(y){r(v(y,-1))},g={onCellDblClick:function(){c&&m()}},S=s==="time",C=ve(ve({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:S});return i?C.hoverRangeValue=d:C.hoverValue=d,a?n.createElement("div",{className:"".concat(u,"-panels")},n.createElement(Ta.Provider,{value:ve(ve({},g),{},{hideNext:!0})},n.createElement(Fa,C)),n.createElement(Ta.Provider,{value:ve(ve({},g),{},{hidePrev:!0})},n.createElement(Fa,Ie({},C,{pickerValue:k,onPickerValueChange:D})))):n.createElement(Ta.Provider,{value:ve({},g)},n.createElement(Fa,C))}function Wa(t){return typeof t=="function"?t():t}function is(t){var s=t.prefixCls,a=t.presets,l=t.onClick,r=t.onHover;return a.length?n.createElement("div",{className:"".concat(s,"-presets")},n.createElement("ul",null,a.map(function(c,m){var i=c.label,d=c.value;return n.createElement("li",{key:m,onClick:function(){l(Wa(d))},onMouseEnter:function(){r(Wa(d))},onMouseLeave:function(){r(null)}},i)}))):null}function Yn(t){var s=t.panelRender,a=t.internalMode,l=t.picker,r=t.showNow,c=t.range,m=t.multiple,i=t.activeOffset,d=i===void 0?0:i,f=t.placement,u=t.presets,b=t.onPresetHover,v=t.onPresetSubmit,k=t.onFocus,D=t.onBlur,g=t.onPanelMouseDown,S=t.direction,C=t.value,h=t.onSelect,y=t.isInvalid,I=t.defaultOpenValue,M=t.onOk,F=t.onSubmit,_=n.useContext(at),B=_.prefixCls,P="".concat(B,"-panel"),o=S==="rtl",p=n.useRef(null),j=n.useRef(null),R=n.useState(0),N=V(R,2),T=N[0],O=N[1],z=n.useState(0),H=V(z,2),K=H[0],q=H[1],U=function(w){w.offsetWidth&&O(w.offsetWidth)};n.useEffect(function(){if(c){var fe,w=((fe=p.current)===null||fe===void 0?void 0:fe.offsetWidth)||0,L=T-w;d<=L?q(0):q(d+w-T)}},[T,d,c]);function E(fe){return fe.filter(function(w){return w})}var $=n.useMemo(function(){return E(qt(C))},[C]),ee=l==="time"&&!$.length,ie=n.useMemo(function(){return ee?E([I]):$},[ee,$,I]),G=ee?I:$,Y=n.useMemo(function(){return ie.length?ie.some(function(fe){return y(fe)}):!0},[ie,y]),te=function(){ee&&h(I),M(),F()},ue=n.createElement("div",{className:"".concat(B,"-panel-layout")},n.createElement(is,{prefixCls:B,presets:u,onClick:v,onHover:b}),n.createElement("div",null,n.createElement(ls,Ie({},t,{value:G})),n.createElement(ss,Ie({},t,{showNow:m?!1:r,invalid:Y,onSubmit:te}))));s&&(ue=s(ue));var De="".concat(P,"-container"),me="marginLeft",pe="marginRight",re=n.createElement("div",{onMouseDown:g,tabIndex:-1,className:Te(De,"".concat(B,"-").concat(a,"-panel-container")),style:Pe(Pe({},o?pe:me,K),o?me:pe,"auto"),onFocus:k,onBlur:D},ue);if(c){var W=oa(f,o),oe=Pn(W,o);re=n.createElement("div",{onMouseDown:g,ref:j,className:Te("".concat(B,"-range-wrapper"),"".concat(B,"-").concat(l,"-range-wrapper"))},n.createElement("div",{ref:p,className:"".concat(B,"-range-arrow"),style:Pe({},oe,d)}),n.createElement(an,{onResize:U},re))}return re}function Ln(t,s){var a=t.format,l=t.maskFormat,r=t.generateConfig,c=t.locale,m=t.preserveInvalidOnBlur,i=t.inputReadOnly,d=t.required,f=t["aria-required"],u=t.onSubmit,b=t.onFocus,v=t.onBlur,k=t.onInputChange,D=t.onInvalid,g=t.open,S=t.onOpenChange,C=t.onKeyDown,h=t.onChange,y=t.activeHelp,I=t.name,M=t.autoComplete,F=t.id,_=t.value,B=t.invalid,P=t.placeholder,o=t.disabled,p=t.activeIndex,j=t.allHelp,R=t.picker,N=function(E,$){var ee=r.locale.parse(c.locale,E,[$]);return ee&&r.isValidate(ee)?ee:null},T=a[0],O=n.useCallback(function(U){return xn(U,{locale:c,format:T,generateConfig:r})},[c,r,T]),z=n.useMemo(function(){return _.map(O)},[_,O]),H=n.useMemo(function(){var U=R==="time"?8:10,E=typeof T=="function"?T(r.getNow()).length:T.length;return Math.max(U,E)+2},[T,R,r]),K=function(E){for(var $=0;$<a.length;$+=1){var ee=a[$];if(typeof ee=="string"){var ie=N(E,ee);if(ie)return ie}}return!1},q=function(E){function $(G){return E!==void 0?G[E]:G}var ee=sa(t,{aria:!0,data:!0}),ie=ve(ve({},ee),{},{format:l,validateFormat:function(Y){return!!K(Y)},preserveInvalidOnBlur:m,readOnly:i,required:d,"aria-required":f,name:I,autoComplete:M,size:H,id:$(F),value:$(z)||"",invalid:$(B),placeholder:$(P),active:p===E,helped:j||y&&p===E,disabled:$(o),onFocus:function(Y){b(Y,E)},onBlur:function(Y){v(Y,E)},onSubmit:u,onChange:function(Y){k();var te=K(Y);if(te){D(!1,E),h(te,E);return}D(!!Y,E)},onHelp:function(){S(!0,{index:E})},onKeyDown:function(Y){var te=!1;if(C==null||C(Y,function(){te=!0}),!Y.defaultPrevented&&!te)switch(Y.key){case"Escape":S(!1,{index:E});break;case"Enter":g||S(!0);break}}},s==null?void 0:s({valueTexts:z}));return Object.keys(ie).forEach(function(G){ie[G]===void 0&&delete ie[G]}),ie};return[q,O]}var os=["onMouseEnter","onMouseLeave"];function zn(t){return n.useMemo(function(){return vn(t,os)},[t])}var cs=["icon","type"],us=["onClear"];function ca(t){var s=t.icon,a=t.type,l=gt(t,cs),r=n.useContext(at),c=r.prefixCls;return s?n.createElement("span",Ie({className:"".concat(c,"-").concat(a)},l),s):null}function qa(t){var s=t.onClear,a=gt(t,us);return n.createElement(ca,Ie({},a,{type:"clear",role:"button",onMouseDown:function(r){r.preventDefault()},onClick:function(r){r.stopPropagation(),s()}}))}var Ba=["YYYY","MM","DD","HH","mm","ss","SSS"],Qa="顧",ds=function(){function t(s){tn(this,t),Pe(this,"format",void 0),Pe(this,"maskFormat",void 0),Pe(this,"cells",void 0),Pe(this,"maskCells",void 0),this.format=s;var a=Ba.map(function(i){return"(".concat(i,")")}).join("|"),l=new RegExp(a,"g");this.maskFormat=s.replace(l,function(i){return Qa.repeat(i.length)});var r=new RegExp("(".concat(Ba.join("|"),")")),c=(s.split(r)||[]).filter(function(i){return i}),m=0;this.cells=c.map(function(i){var d=Ba.includes(i),f=m,u=m+i.length;return m=u,{text:i,mask:d,start:f,end:u}}),this.maskCells=this.cells.filter(function(i){return i.mask})}return en(t,[{key:"getSelection",value:function(a){var l=this.maskCells[a]||{},r=l.start,c=l.end;return[r||0,c||0]}},{key:"match",value:function(a){for(var l=0;l<this.maskFormat.length;l+=1){var r=this.maskFormat[l],c=a[l];if(!c||r!==Qa&&r!==c)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(a){for(var l=Number.MAX_SAFE_INTEGER,r=0,c=0;c<this.maskCells.length;c+=1){var m=this.maskCells[c],i=m.start,d=m.end;if(a>=i&&a<=d)return c;var f=Math.min(Math.abs(a-i),Math.abs(a-d));f<l&&(l=f,r=c)}return r}}]),t}();function ms(t){var s={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return s[t]}var fs=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],Ua=n.forwardRef(function(t,s){var a=t.active,l=t.showActiveCls,r=l===void 0?!0:l,c=t.suffixIcon,m=t.format,i=t.validateFormat,d=t.onChange;t.onInput;var f=t.helped,u=t.onHelp,b=t.onSubmit,v=t.onKeyDown,k=t.preserveInvalidOnBlur,D=k===void 0?!1:k,g=t.invalid,S=t.clearIcon,C=gt(t,fs),h=t.value,y=t.onFocus,I=t.onBlur,M=t.onMouseUp,F=n.useContext(at),_=F.prefixCls,B=F.input,P=B===void 0?"input":B,o="".concat(_,"-input"),p=n.useState(!1),j=V(p,2),R=j[0],N=j[1],T=n.useState(h),O=V(T,2),z=O[0],H=O[1],K=n.useState(""),q=V(K,2),U=q[0],E=q[1],$=n.useState(null),ee=V($,2),ie=ee[0],G=ee[1],Y=n.useState(null),te=V(Y,2),ue=te[0],De=te[1],me=z||"";n.useEffect(function(){H(h)},[h]);var pe=n.useRef(),re=n.useRef();n.useImperativeHandle(s,function(){return{nativeElement:pe.current,inputElement:re.current,focus:function(xe){re.current.focus(xe)},blur:function(){re.current.blur()}}});var W=n.useMemo(function(){return new ds(m||"")},[m]),oe=n.useMemo(function(){return f?[0,0]:W.getSelection(ie)},[W,ie,f]),fe=V(oe,2),w=fe[0],L=fe[1],ce=function(xe){xe&&xe!==m&&xe!==h&&u()},x=$e(function(se){i(se)&&d(se),H(se),ce(se)}),ae=function(xe){if(!m){var Ne=xe.target.value;ce(Ne),H(Ne),d(Ne)}},ye=function(xe){var Ne=xe.clipboardData.getData("text");i(Ne)&&x(Ne)},Fe=n.useRef(!1),_e=function(){Fe.current=!0},We=function(xe){var Ne=xe.target,ke=Ne.selectionStart,Ee=W.getMaskCellIndex(ke);G(Ee),De({}),M==null||M(xe),Fe.current=!1},Le=function(xe){N(!0),G(0),E(""),y(xe)},we=function(xe){I(xe)},ft=function(xe){N(!1),we(xe)};za(a,function(){!a&&!D&&H(h)});var Oe=function(xe){xe.key==="Enter"&&i(me)&&b(),v==null||v(xe)},ze=function(xe){Oe(xe);var Ne=xe.key,ke=null,Ee=null,nt=L-w,Ge=m.slice(w,L),ot=function(Ke){G(function(qe){var Ae=qe+Ke;return Ae=Math.max(Ae,0),Ae=Math.min(Ae,W.size()-1),Ae})},ht=function(Ke){var qe=ms(Ge),Ae=V(qe,3),ct=Ae[0],Dt=Ae[1],ut=Ae[2],dt=me.slice(w,L),vt=Number(dt);if(isNaN(vt))return String(ut||(Ke>0?ct:Dt));var jt=vt+Ke,pt=Dt-ct+1;return String(ct+(pt+jt-ct)%pt)};switch(Ne){case"Backspace":case"Delete":ke="",Ee=Ge;break;case"ArrowLeft":ke="",ot(-1);break;case"ArrowRight":ke="",ot(1);break;case"ArrowUp":ke="",Ee=ht(1);break;case"ArrowDown":ke="",Ee=ht(-1);break;default:isNaN(Number(Ne))||(ke=U+Ne,Ee=ke);break}if(ke!==null&&(E(ke),ke.length>=nt&&(ot(1),E(""))),Ee!==null){var Qe=me.slice(0,w)+Pr(Ee,nt)+me.slice(L);x(Qe.slice(0,m.length))}De({})},Be=n.useRef();yt(function(){if(!(!R||!m||Fe.current)){if(!W.match(me)){x(m);return}return re.current.setSelectionRange(w,L),Be.current=kt(function(){re.current.setSelectionRange(w,L)}),function(){kt.cancel(Be.current)}}},[W,m,R,me,ie,w,L,ue,x]);var je=m?{onFocus:Le,onBlur:ft,onKeyDown:ze,onMouseDown:_e,onMouseUp:We,onPaste:ye}:{};return n.createElement("div",{ref:pe,className:Te(o,Pe(Pe({},"".concat(o,"-active"),a&&r),"".concat(o,"-placeholder"),f))},n.createElement(P,Ie({ref:re,"aria-invalid":g,autoComplete:"off"},C,{onKeyDown:Oe,onBlur:we},je,{value:me,onChange:ae})),n.createElement(ca,{type:"suffix",icon:c}),S)}),hs=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveOffset","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],vs=["index"],ps=["insetInlineStart","insetInlineEnd"];function xs(t,s){var a=t.id,l=t.prefix,r=t.clearIcon,c=t.suffixIcon,m=t.separator,i=m===void 0?"~":m,d=t.activeIndex;t.activeHelp,t.allHelp;var f=t.focused;t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig;var u=t.placeholder,b=t.className,v=t.style,k=t.onClick,D=t.onClear,g=t.value;t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var S=t.disabled,C=t.invalid;t.inputReadOnly;var h=t.direction;t.onOpenChange;var y=t.onActiveOffset,I=t.placement,M=t.onMouseDown;t.required,t["aria-required"];var F=t.autoFocus,_=t.tabIndex,B=gt(t,hs),P=h==="rtl",o=n.useContext(at),p=o.prefixCls,j=n.useMemo(function(){if(typeof a=="string")return[a];var re=a||{};return[re.start,re.end]},[a]),R=n.useRef(),N=n.useRef(),T=n.useRef(),O=function(W){var oe;return(oe=[N,T][W])===null||oe===void 0?void 0:oe.current};n.useImperativeHandle(s,function(){return{nativeElement:R.current,focus:function(W){if(La(W)==="object"){var oe,fe=W||{},w=fe.index,L=w===void 0?0:w,ce=gt(fe,vs);(oe=O(L))===null||oe===void 0||oe.focus(ce)}else{var x;(x=O(W??0))===null||x===void 0||x.focus()}},blur:function(){var W,oe;(W=O(0))===null||W===void 0||W.blur(),(oe=O(1))===null||oe===void 0||oe.blur()}}});var z=zn(B),H=n.useMemo(function(){return Array.isArray(u)?u:[u,u]},[u]),K=Ln(ve(ve({},t),{},{id:j,placeholder:H})),q=V(K,1),U=q[0],E=oa(I,P),$=Pn(E,P),ee=E==null?void 0:E.toLowerCase().endsWith("right"),ie=n.useState({position:"absolute",width:0}),G=V(ie,2),Y=G[0],te=G[1],ue=$e(function(){var re=O(d);if(re){var W=re.nativeElement,oe=W.offsetWidth,fe=W.offsetLeft,w=W.offsetParent,L=(w==null?void 0:w.offsetWidth)||0,ce=ee?L-oe-fe:fe;te(function(x){x.insetInlineStart,x.insetInlineEnd;var ae=gt(x,ps);return ve(ve({},ae),{},Pe({width:oe},$,ce))}),y(ce)}});n.useEffect(function(){ue()},[d]);var De=r&&(g[0]&&!S[0]||g[1]&&!S[1]),me=F&&!S[0],pe=F&&!me&&!S[1];return n.createElement(an,{onResize:ue},n.createElement("div",Ie({},z,{className:Te(p,"".concat(p,"-range"),Pe(Pe(Pe(Pe({},"".concat(p,"-focused"),f),"".concat(p,"-disabled"),S.every(function(re){return re})),"".concat(p,"-invalid"),C.some(function(re){return re})),"".concat(p,"-rtl"),P),b),style:v,ref:R,onClick:k,onMouseDown:function(W){var oe=W.target;oe!==N.current.inputElement&&oe!==T.current.inputElement&&W.preventDefault(),M==null||M(W)}}),l&&n.createElement("div",{className:"".concat(p,"-prefix")},l),n.createElement(Ua,Ie({ref:N},U(0),{autoFocus:me,tabIndex:_,"date-range":"start"})),n.createElement("div",{className:"".concat(p,"-range-separator")},i),n.createElement(Ua,Ie({ref:T},U(1),{autoFocus:pe,tabIndex:_,"date-range":"end"})),n.createElement("div",{className:"".concat(p,"-active-bar"),style:Y}),n.createElement(ca,{type:"suffix",icon:c}),De&&n.createElement(qa,{icon:r,onClear:D})))}var gs=n.forwardRef(xs);function Xa(t,s){var a=t??s;return Array.isArray(a)?a:[a,a]}function ea(t){return t===1?"end":"start"}function ys(t,s){var a=En(t,function(){var he=t.disabled,ne=t.allowEmpty,de=Xa(he,!1),Se=Xa(ne,!1);return{disabled:de,allowEmpty:Se}}),l=V(a,6),r=l[0],c=l[1],m=l[2],i=l[3],d=l[4],f=l[5],u=r.prefixCls,b=r.styles,v=r.classNames,k=r.placement,D=r.defaultValue,g=r.value,S=r.needConfirm,C=r.onKeyDown,h=r.disabled,y=r.allowEmpty,I=r.disabledDate,M=r.minDate,F=r.maxDate,_=r.defaultOpen,B=r.open,P=r.onOpenChange,o=r.locale,p=r.generateConfig,j=r.picker,R=r.showNow,N=r.showToday,T=r.showTime,O=r.mode,z=r.onPanelChange,H=r.onCalendarChange,K=r.onOk,q=r.defaultPickerValue,U=r.pickerValue,E=r.onPickerValueChange,$=r.inputReadOnly,ee=r.suffixIcon,ie=r.onFocus,G=r.onBlur,Y=r.presets,te=r.ranges,ue=r.components,De=r.cellRender,me=r.dateRender,pe=r.monthCellRender,re=r.onClick,W=Tn(s),oe=Mn(B,_,h,P),fe=V(oe,2),w=fe[0],L=fe[1],ce=function(ne,de){(h.some(function(Se){return!Se})||!ne)&&L(ne,de)},x=Bn(p,o,i,!0,!1,D,g,H,K),ae=V(x,5),ye=ae[0],Fe=ae[1],_e=ae[2],We=ae[3],Le=ae[4],we=_e(),ft=An(h,y,w),Oe=V(ft,7),ze=Oe[0],Be=Oe[1],je=Oe[2],se=Oe[3],xe=Oe[4],Ne=Oe[5],ke=Oe[6],Ee=function(ne,de){Be(!0),ie==null||ie(ne,{range:ea(de??se)})},nt=function(ne,de){Be(!1),G==null||G(ne,{range:ea(de??se)})},Ge=n.useMemo(function(){if(!T)return null;var he=T.disabledTime,ne=he?function(de){var Se=ea(se),Re=pn(we,ke,se);return he(de,Se,{from:Re})}:void 0;return ve(ve({},T),{},{disabledTime:ne})},[T,se,we,ke]),ot=wt([j,j],{value:O}),ht=V(ot,2),Qe=ht[0],rt=ht[1],Ke=Qe[se]||j,qe=Ke==="date"&&Ge?"datetime":Ke,Ae=qe===j&&qe!=="time",ct=Un(j,Ke,R,N,!0),Dt=qn(r,ye,Fe,_e,We,h,i,ze,w,f),ut=V(Dt,3),dt=ut[0],vt=ut[1],jt=ut[2],pt=as(we,h,ke,p,o,I),ua=Rn(we,f,y),Ut=V(ua,2),da=Ut[0],ma=Ut[1],Yt=Vn(p,o,we,Qe,w,se,c,Ae,q,U,Ge==null?void 0:Ge.defaultOpenValue,E,M,F),Lt=V(Yt,2),fa=Lt[0],zt=Lt[1],st=$e(function(he,ne,de){var Se=Vt(Qe,se,ne);if((Se[0]!==Qe[0]||Se[1]!==Qe[1])&&rt(Se),z&&de!==!1){var Re=bt(we);he&&(Re[se]=he),z(Re,Se)}}),Rt=function(ne,de){return Vt(we,de,ne)},Xe=function(ne,de){var Se=we;ne&&(Se=Rt(ne,se));var Re=Ne(Se);We(Se),dt(se,Re===null),Re===null?ce(!1,{force:!0}):de||W.current.focus({index:Re})},ha=function(ne){var de,Se=ne.target.getRootNode();if(!W.current.nativeElement.contains((de=Se.activeElement)!==null&&de!==void 0?de:document.activeElement)){var Re=h.findIndex(function(ar){return!ar});Re>=0&&W.current.focus({index:Re})}ce(!0),re==null||re(ne)},Gt=function(){vt(null),ce(!1,{force:!0})},va=n.useState(null),Et=V(va,2),pa=Et[0],Mt=Et[1],lt=n.useState(null),St=V(lt,2),It=St[0],Tt=St[1],Kt=n.useMemo(function(){return It||we},[we,It]);n.useEffect(function(){w||Tt(null)},[w]);var xa=n.useState(0),Ft=V(xa,2),ga=Ft[0],ya=Ft[1],ba=Fn(Y,te),Ca=function(ne){Tt(ne),Mt("preset")},Da=function(ne){var de=vt(ne);de&&ce(!1,{force:!0})},ja=function(ne){Xe(ne)},Sa=function(ne){Tt(ne?Rt(ne,se):null),Mt("cell")},Ia=function(ne){ce(!0),Ee(ne)},wa=function(){je("panel")},ka=function(ne){var de=Vt(we,se,ne);We(de),!S&&!m&&c===qe&&Xe(ne)},Pa=function(){ce(!1)},Oa=gn(De,me,pe,ea(se)),Na=we[se]||null,Ra=$e(function(he){return f(he,{activeIndex:se})}),le=n.useMemo(function(){var he=sa(r,!1),ne=nn(r,[].concat(bt(Object.keys(he)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return ne},[r]),Q=n.createElement(Yn,Ie({},le,{showNow:ct,showTime:Ge,range:!0,multiplePanel:Ae,activeOffset:ga,placement:k,disabledDate:pt,onFocus:Ia,onBlur:nt,onPanelMouseDown:wa,picker:j,mode:Ke,internalMode:qe,onPanelChange:st,format:d,value:Na,isInvalid:Ra,onChange:null,onSelect:ka,pickerValue:fa,defaultOpenValue:qt(T==null?void 0:T.defaultOpenValue)[se],onPickerValueChange:zt,hoverValue:Kt,onHover:Sa,needConfirm:S,onSubmit:Xe,onOk:Le,presets:ba,onPresetHover:Ca,onPresetSubmit:Da,onNow:ja,cellRender:Oa})),Ve=function(ne,de){var Se=Rt(ne,de);We(Se)},Ze=function(){je("input")},Wt=function(ne,de){var Se=ke.length,Re=ke[Se-1];if(Se&&Re!==de&&S&&!y[Re]&&!jt(Re)&&we[Re]){W.current.focus({index:Re});return}je("input"),ce(!0,{inherit:!0}),se!==de&&w&&!S&&m&&Xe(null,!0),xe(de),Ee(ne,de)},Jn=function(ne,de){if(ce(!1),!S&&je()==="input"){var Se=Ne(we);dt(se,Se===null)}nt(ne,de)},er=function(ne,de){ne.key==="Tab"&&Xe(null,!0),C==null||C(ne,de)},tr=n.useMemo(function(){return{prefixCls:u,locale:o,generateConfig:p,button:ue.button,input:ue.input}},[u,o,p,ue.button,ue.input]);return yt(function(){w&&se!==void 0&&st(null,j,!1)},[w,se,j]),yt(function(){var he=je();!w&&he==="input"&&(ce(!1),Xe(null,!0)),!w&&m&&!S&&he==="panel"&&(ce(!0),Xe())},[w]),n.createElement(at.Provider,{value:tr},n.createElement(On,Ie({},Nn(r),{popupElement:Q,popupStyle:b.popup,popupClassName:v.popup,visible:w,onClose:Pa,range:!0}),n.createElement(gs,Ie({},r,{ref:W,suffixIcon:ee,activeIndex:ze||w?se:null,activeHelp:!!It,allHelp:!!It&&pa==="preset",focused:ze,onFocus:Wt,onBlur:Jn,onKeyDown:er,onSubmit:Xe,value:Kt,maskFormat:d,onChange:Ve,onInputChange:Ze,format:i,inputReadOnly:$,disabled:h,open:w,onOpenChange:ce,onClick:ha,onClear:Gt,invalid:da,onInvalid:ma,onActiveOffset:ya}))))}var bs=n.forwardRef(ys);function Cs(t){var s=t.prefixCls,a=t.value,l=t.onRemove,r=t.removeIcon,c=r===void 0?"×":r,m=t.formatDate,i=t.disabled,d=t.maxTagCount,f=t.placeholder,u="".concat(s,"-selector"),b="".concat(s,"-selection"),v="".concat(b,"-overflow");function k(S,C){return n.createElement("span",{className:Te("".concat(b,"-item")),title:typeof S=="string"?S:null},n.createElement("span",{className:"".concat(b,"-item-content")},S),!i&&C&&n.createElement("span",{onMouseDown:function(y){y.preventDefault()},onClick:C,className:"".concat(b,"-item-remove")},c))}function D(S){var C=m(S),h=function(I){I&&I.stopPropagation(),l(S)};return k(C,h)}function g(S){var C="+ ".concat(S.length," ...");return k(C)}return n.createElement("div",{className:u},n.createElement(xr,{prefixCls:v,data:a,renderItem:D,renderRest:g,itemKey:function(C){return m(C)},maxCount:d}),!a.length&&n.createElement("span",{className:"".concat(s,"-selection-placeholder")},f))}var Ds=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function js(t,s){t.id;var a=t.open,l=t.prefix,r=t.clearIcon,c=t.suffixIcon;t.activeHelp,t.allHelp;var m=t.focused;t.onFocus,t.onBlur,t.onKeyDown;var i=t.locale,d=t.generateConfig,f=t.placeholder,u=t.className,b=t.style,v=t.onClick,k=t.onClear,D=t.internalPicker,g=t.value,S=t.onChange,C=t.onSubmit;t.onInputChange;var h=t.multiple,y=t.maxTagCount;t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var I=t.disabled,M=t.invalid;t.inputReadOnly;var F=t.direction;t.onOpenChange;var _=t.onMouseDown;t.required,t["aria-required"];var B=t.autoFocus,P=t.tabIndex,o=t.removeIcon,p=gt(t,Ds),j=F==="rtl",R=n.useContext(at),N=R.prefixCls,T=n.useRef(),O=n.useRef();n.useImperativeHandle(s,function(){return{nativeElement:T.current,focus:function(Y){var te;(te=O.current)===null||te===void 0||te.focus(Y)},blur:function(){var Y;(Y=O.current)===null||Y===void 0||Y.blur()}}});var z=zn(p),H=function(Y){S([Y])},K=function(Y){var te=g.filter(function(ue){return ue&&!it(d,i,ue,Y,D)});S(te),a||C()},q=Ln(ve(ve({},t),{},{onChange:H}),function(G){var Y=G.valueTexts;return{value:Y[0]||"",active:m}}),U=V(q,2),E=U[0],$=U[1],ee=!!(r&&g.length&&!I),ie=h?n.createElement(n.Fragment,null,n.createElement(Cs,{prefixCls:N,value:g,onRemove:K,formatDate:$,maxTagCount:y,disabled:I,removeIcon:o,placeholder:f}),n.createElement("input",{className:"".concat(N,"-multiple-input"),value:g.map($).join(","),ref:O,readOnly:!0,autoFocus:B,tabIndex:P}),n.createElement(ca,{type:"suffix",icon:c}),ee&&n.createElement(qa,{icon:r,onClear:k})):n.createElement(Ua,Ie({ref:O},E(),{autoFocus:B,tabIndex:P,suffixIcon:c,clearIcon:ee&&n.createElement(qa,{icon:r,onClear:k}),showActiveCls:!1}));return n.createElement("div",Ie({},z,{className:Te(N,Pe(Pe(Pe(Pe(Pe({},"".concat(N,"-multiple"),h),"".concat(N,"-focused"),m),"".concat(N,"-disabled"),I),"".concat(N,"-invalid"),M),"".concat(N,"-rtl"),j),u),style:b,ref:T,onClick:v,onMouseDown:function(Y){var te,ue=Y.target;ue!==((te=O.current)===null||te===void 0?void 0:te.inputElement)&&Y.preventDefault(),_==null||_(Y)}}),l&&n.createElement("div",{className:"".concat(N,"-prefix")},l),ie)}var Ss=n.forwardRef(js);function Is(t,s){var a=En(t),l=V(a,6),r=l[0],c=l[1],m=l[2],i=l[3],d=l[4],f=l[5],u=r,b=u.prefixCls,v=u.styles,k=u.classNames,D=u.order,g=u.defaultValue,S=u.value,C=u.needConfirm,h=u.onChange,y=u.onKeyDown,I=u.disabled,M=u.disabledDate,F=u.minDate,_=u.maxDate,B=u.defaultOpen,P=u.open,o=u.onOpenChange,p=u.locale,j=u.generateConfig,R=u.picker,N=u.showNow,T=u.showToday,O=u.showTime,z=u.mode,H=u.onPanelChange,K=u.onCalendarChange,q=u.onOk,U=u.multiple,E=u.defaultPickerValue,$=u.pickerValue,ee=u.onPickerValueChange,ie=u.inputReadOnly,G=u.suffixIcon,Y=u.removeIcon,te=u.onFocus,ue=u.onBlur,De=u.presets,me=u.components,pe=u.cellRender,re=u.dateRender,W=u.monthCellRender,oe=u.onClick,fe=Tn(s);function w(le){return le===null?null:U?le:le[0]}var L=Or(j,p,c),ce=Mn(P,B,[I],o),x=V(ce,2),ae=x[0],ye=x[1],Fe=function(Q,Ve,Ze){if(K){var Wt=ve({},Ze);delete Wt.range,K(w(Q),w(Ve),Wt)}},_e=function(Q){q==null||q(w(Q))},We=Bn(j,p,i,!1,D,g,S,Fe,_e),Le=V(We,5),we=Le[0],ft=Le[1],Oe=Le[2],ze=Le[3],Be=Le[4],je=Oe(),se=An([I]),xe=V(se,4),Ne=xe[0],ke=xe[1],Ee=xe[2],nt=xe[3],Ge=function(Q){ke(!0),te==null||te(Q,{})},ot=function(Q){ke(!1),ue==null||ue(Q,{})},ht=wt(R,{value:z}),Qe=V(ht,2),rt=Qe[0],Ke=Qe[1],qe=rt==="date"&&O?"datetime":rt,Ae=Un(R,rt,N,T),ct=h&&function(le,Q){h(w(le),w(Q))},Dt=qn(ve(ve({},r),{},{onChange:ct}),we,ft,Oe,ze,[],i,Ne,ae,f),ut=V(Dt,2),dt=ut[1],vt=Rn(je,f),jt=V(vt,2),pt=jt[0],ua=jt[1],Ut=n.useMemo(function(){return pt.some(function(le){return le})},[pt]),da=function(Q,Ve){if(ee){var Ze=ve(ve({},Ve),{},{mode:Ve.mode[0]});delete Ze.range,ee(Q[0],Ze)}},ma=Vn(j,p,je,[rt],ae,nt,c,!1,E,$,qt(O==null?void 0:O.defaultOpenValue),da,F,_),Yt=V(ma,2),Lt=Yt[0],fa=Yt[1],zt=$e(function(le,Q,Ve){if(Ke(Q),H&&Ve!==!1){var Ze=le||je[je.length-1];H(Ze,Q)}}),st=function(){dt(Oe()),ye(!1,{force:!0})},Rt=function(Q){!I&&!fe.current.nativeElement.contains(document.activeElement)&&fe.current.focus(),ye(!0),oe==null||oe(Q)},Xe=function(){dt(null),ye(!1,{force:!0})},ha=n.useState(null),Gt=V(ha,2),va=Gt[0],Et=Gt[1],pa=n.useState(null),Mt=V(pa,2),lt=Mt[0],St=Mt[1],It=n.useMemo(function(){var le=[lt].concat(bt(je)).filter(function(Q){return Q});return U?le:le.slice(0,1)},[je,lt,U]),Tt=n.useMemo(function(){return!U&&lt?[lt]:je.filter(function(le){return le})},[je,lt,U]);n.useEffect(function(){ae||St(null)},[ae]);var Kt=Fn(De),xa=function(Q){St(Q),Et("preset")},Ft=function(Q){var Ve=U?L(Oe(),Q):[Q],Ze=dt(Ve);Ze&&!U&&ye(!1,{force:!0})},ga=function(Q){Ft(Q)},ya=function(Q){St(Q),Et("cell")},ba=function(Q){ye(!0),Ge(Q)},Ca=function(Q){if(Ee("panel"),!(U&&qe!==R)){var Ve=U?L(Oe(),Q):[Q];ze(Ve),!C&&!m&&c===qe&&st()}},Da=function(){ye(!1)},ja=gn(pe,re,W),Sa=n.useMemo(function(){var le=sa(r,!1),Q=nn(r,[].concat(bt(Object.keys(le)),["onChange","onCalendarChange","style","className","onPanelChange"]));return ve(ve({},Q),{},{multiple:r.multiple})},[r]),Ia=n.createElement(Yn,Ie({},Sa,{showNow:Ae,showTime:O,disabledDate:M,onFocus:ba,onBlur:ot,picker:R,mode:rt,internalMode:qe,onPanelChange:zt,format:d,value:je,isInvalid:f,onChange:null,onSelect:Ca,pickerValue:Lt,defaultOpenValue:O==null?void 0:O.defaultOpenValue,onPickerValueChange:fa,hoverValue:It,onHover:ya,needConfirm:C,onSubmit:st,onOk:Be,presets:Kt,onPresetHover:xa,onPresetSubmit:Ft,onNow:ga,cellRender:ja})),wa=function(Q){ze(Q)},ka=function(){Ee("input")},Pa=function(Q){Ee("input"),ye(!0,{inherit:!0}),Ge(Q)},Oa=function(Q){ye(!1),ot(Q)},Na=function(Q,Ve){Q.key==="Tab"&&st(),y==null||y(Q,Ve)},Ra=n.useMemo(function(){return{prefixCls:b,locale:p,generateConfig:j,button:me.button,input:me.input}},[b,p,j,me.button,me.input]);return yt(function(){ae&&nt!==void 0&&zt(null,R,!1)},[ae,nt,R]),yt(function(){var le=Ee();!ae&&le==="input"&&(ye(!1),st()),!ae&&m&&!C&&le==="panel"&&(ye(!0),st())},[ae]),n.createElement(at.Provider,{value:Ra},n.createElement(On,Ie({},Nn(r),{popupElement:Ia,popupStyle:v.popup,popupClassName:k.popup,visible:ae,onClose:Da}),n.createElement(Ss,Ie({},r,{ref:fe,suffixIcon:G,removeIcon:Y,activeHelp:!!lt,allHelp:!!lt&&va==="preset",focused:Ne,onFocus:Pa,onBlur:Oa,onKeyDown:Na,onSubmit:st,value:Tt,maskFormat:d,onChange:wa,onInputChange:ka,internalPicker:c,format:i,inputReadOnly:ie,disabled:I,open:ae,onOpenChange:ye,onClick:Rt,onClear:Xe,invalid:Ut,onInvalid:function(Q){ua(Q,0)}}))))}var ws=n.forwardRef(Is),ks={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Ps=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:ks}))},Gn=n.forwardRef(Ps),Os={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},Ns=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:Os}))},Rs=n.forwardRef(Ns);function Es(t,s,a){return a!==void 0?a:s==="year"&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:s==="quarter"&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:s==="month"&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:s==="week"&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:s==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function Ms(t,s,a){return a!==void 0?a:s==="year"&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:s==="quarter"&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:s==="month"&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:s==="week"&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:s==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function Kn(t,s){const{allowClear:a=!0}=t,{clearIcon:l,removeIcon:r}=Mr(Object.assign(Object.assign({},t),{prefixCls:s,componentName:"DatePicker"}));return[n.useMemo(()=>a===!1?!1:Object.assign({clearIcon:l},a===!0?{}:a),[a,l]),r]}const[Ts,Fs]=["week","WeekPicker"],[As,Vs]=["month","MonthPicker"],[$s,Hs]=["year","YearPicker"],[_s,Bs]=["quarter","QuarterPicker"],[Wn,Za]=["time","TimePicker"],qs=t=>n.createElement(be,Object.assign({size:"small",type:"primary"},t));function Qn(t){return n.useMemo(()=>Object.assign({button:qs},t),[t])}var Us=function(t,s){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&s.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(t);r<l.length;r++)s.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(t,l[r])&&(a[l[r]]=t[l[r]]);return a};const Ys=t=>n.forwardRef((a,l)=>{var r;const{prefixCls:c,getPopupContainer:m,components:i,className:d,style:f,placement:u,size:b,disabled:v,bordered:k=!0,placeholder:D,popupClassName:g,dropdownClassName:S,status:C,rootClassName:h,variant:y,picker:I}=a,M=Us(a,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),F=n.useRef(null),{getPrefixCls:_,direction:B,getPopupContainer:P,rangePicker:o}=n.useContext(Ya),p=_("picker",c),{compactSize:j,compactItemClassnames:R}=rn(p,B),N=_(),[T,O]=Dn("rangePicker",y,k),z=sn(p),[H,K,q]=yn(p,z),[U]=Kn(a,p),E=Qn(i),$=ln(W=>{var oe;return(oe=b??j)!==null&&oe!==void 0?oe:W}),ee=n.useContext(on),ie=v??ee,G=n.useContext(cn),{hasFeedback:Y,status:te,feedbackIcon:ue}=G,De=n.createElement(n.Fragment,null,I===Wn?n.createElement(Gn,null):n.createElement(Cn,null),Y&&ue);n.useImperativeHandle(l,()=>F.current);const[me]=un("Calendar",dn),pe=Object.assign(Object.assign({},me),a.locale),[re]=mn("DatePicker",(r=a.popupStyle)===null||r===void 0?void 0:r.zIndex);return H(n.createElement(fn,{space:!0},n.createElement(bs,Object.assign({separator:n.createElement("span",{"aria-label":"to",className:`${p}-separator`},n.createElement(Rs,null)),disabled:ie,ref:F,placement:u,placeholder:Ms(pe,I,D),suffixIcon:De,prevIcon:n.createElement("span",{className:`${p}-prev-icon`}),nextIcon:n.createElement("span",{className:`${p}-next-icon`}),superPrevIcon:n.createElement("span",{className:`${p}-super-prev-icon`}),superNextIcon:n.createElement("span",{className:`${p}-super-next-icon`}),transitionName:`${N}-slide-up`,picker:I},M,{className:Te({[`${p}-${$}`]:$,[`${p}-${T}`]:O},jn(p,Sn(te,C),Y),K,R,d,o==null?void 0:o.className,q,z,h),style:Object.assign(Object.assign({},o==null?void 0:o.style),f),locale:pe.lang,prefixCls:p,getPopupContainer:m||P,generateConfig:t,components:E,direction:B,classNames:{popup:Te(K,g||S,q,z,h)},styles:{popup:Object.assign(Object.assign({},a.popupStyle),{zIndex:re})},allowClear:U}))))});var Ls=function(t,s){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&s.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(t);r<l.length;r++)s.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(t,l[r])&&(a[l[r]]=t[l[r]]);return a};const zs=t=>{const s=(d,f)=>{const u=f===Za?"timePicker":"datePicker";return n.forwardRef((v,k)=>{var D;const{prefixCls:g,getPopupContainer:S,components:C,style:h,className:y,rootClassName:I,size:M,bordered:F,placement:_,placeholder:B,popupClassName:P,dropdownClassName:o,disabled:p,status:j,variant:R,onCalendarChange:N}=v,T=Ls(v,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:O,direction:z,getPopupContainer:H,[u]:K}=n.useContext(Ya),q=O("picker",g),{compactSize:U,compactItemClassnames:E}=rn(q,z),$=n.useRef(null),[ee,ie]=Dn("datePicker",R,F),G=sn(q),[Y,te,ue]=yn(q,G);n.useImperativeHandle(k,()=>$.current);const De={showToday:!0},me=d||v.picker,pe=O(),{onSelect:re,multiple:W}=T,oe=re&&d==="time"&&!W,fe=(Be,je,se)=>{N==null||N(Be,je,se),oe&&re(Be)},[w,L]=Kn(v,q),ce=Qn(C),x=ln(Be=>{var je;return(je=M??U)!==null&&je!==void 0?je:Be}),ae=n.useContext(on),ye=p??ae,Fe=n.useContext(cn),{hasFeedback:_e,status:We,feedbackIcon:Le}=Fe,we=n.createElement(n.Fragment,null,me==="time"?n.createElement(Gn,null):n.createElement(Cn,null),_e&&Le),[ft]=un("DatePicker",dn),Oe=Object.assign(Object.assign({},ft),v.locale),[ze]=mn("DatePicker",(D=v.popupStyle)===null||D===void 0?void 0:D.zIndex);return Y(n.createElement(fn,{space:!0},n.createElement(ws,Object.assign({ref:$,placeholder:Es(Oe,me,B),suffixIcon:we,placement:_,prevIcon:n.createElement("span",{className:`${q}-prev-icon`}),nextIcon:n.createElement("span",{className:`${q}-next-icon`}),superPrevIcon:n.createElement("span",{className:`${q}-super-prev-icon`}),superNextIcon:n.createElement("span",{className:`${q}-super-next-icon`}),transitionName:`${pe}-slide-up`,picker:d,onCalendarChange:fe},De,T,{locale:Oe.lang,className:Te({[`${q}-${x}`]:x,[`${q}-${ee}`]:ie},jn(q,Sn(We,j),_e),te,E,K==null?void 0:K.className,y,ue,G,I),style:Object.assign(Object.assign({},K==null?void 0:K.style),h),prefixCls:q,getPopupContainer:S||H,generateConfig:t,components:ce,direction:z,disabled:ye,classNames:{popup:Te(te,ue,G,I,P||o)},styles:{popup:Object.assign(Object.assign({},v.popupStyle),{zIndex:ze})},allowClear:w,removeIcon:L}))))})},a=s(),l=s(Ts,Fs),r=s(As,Vs),c=s($s,Hs),m=s(_s,Bs),i=s(Wn,Za);return{DatePicker:a,WeekPicker:l,MonthPicker:r,YearPicker:c,TimePicker:i,QuarterPicker:m}},Xn=t=>{const{DatePicker:s,WeekPicker:a,MonthPicker:l,YearPicker:r,TimePicker:c,QuarterPicker:m}=zs(t),i=Ys(t),d=s;return d.WeekPicker=a,d.MonthPicker=l,d.YearPicker=r,d.RangePicker=i,d.TimePicker=c,d.QuarterPicker=m,d},Ye=Xn(Nr),Gs=hn(Ye,"picker",null);Ye._InternalPanelDoNotUseOrYouWillBeFired=Gs;const Ks=hn(Ye.RangePicker,"picker",null);Ye._InternalRangePanelDoNotUseOrYouWillBeFired=Ks;Ye.generatePicker=Xn;var Ws={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM382 896h-.2L232 746.2v-.2h150v150z"}}]},name:"copy",theme:"filled"},Qs=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:Ws}))},Zn=n.forwardRef(Qs),Xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},Zs=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:Xs}))},Js=n.forwardRef(Zs),el={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},tl=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:el}))},na=n.forwardRef(tl),al={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},nl=function(s,a){return n.createElement(Pt,Ie({},s,{ref:a,icon:al}))},rl=n.forwardRef(nl);const sl=()=>{const{message:t}=la.useApp(),[s,a]=n.useState(""),[l,r]=n.useState("newest"),[c,m]=n.useState({field:"id",order:"descend"}),[i,d]=n.useState(1),[f,u]=n.useState(10),[b,v]=n.useState([]),[k,D]=n.useState([]),[g,S]=n.useState(!1),[C,h]=n.useState(!1),[y,I]=n.useState(!1),[M,F]=n.useState(null),[_,B]=n.useState(null),[P,o]=n.useState(!1),[p,j]=n.useState("default"),{logUserActivity:R}=_t(),{logUserNotification:N}=Bt(),{userData:T}=Ot(),{userData:O}=Nt(),z=(T==null?void 0:T.username)||(O==null?void 0:O.username)||"Unknown User",H=!!T,K=!!O,q=H?"admin":K?"user":"guest";n.useEffect(()=>{(async()=>{o(!0);try{const L=await mt();Array.isArray(L)?D(L):(console.error("Received invalid data:",L),t.error("Failed to load inventory data."))}catch{t.error("Failed to load inventory data.")}finally{o(!1)}})()},[]);const U=Array.isArray(k)?k.filter(w=>Object.values(w).join(" ").toLowerCase().includes(s.toLowerCase())):[],E=[...U].sort((w,L)=>{if(c.field&&c.order){const{field:ce,order:x}=c;if(x==="ascend")return w[ce]>L[ce]?1:-1;if(x==="descend")return w[ce]<L[ce]?1:-1}return 0}),$=E.length,ee=E.slice((i-1)*f,i*f);return{searchText:s,setSearchText:a,sortOrder:l,setSortOrder:r,sorterConfig:c,setSorterConfig:m,currentPage:i,setCurrentPage:d,pageSize:f,setPageSize:u,selectedRowKeys:b,setSelectedRowKeys:v,dataSource:k,setDataSource:D,isModalVisible:g,setIsModalVisible:S,isEditModalVisible:C,setIsEditModalVisible:h,redistributeItemData:M,setRedistributeItemData:F,isRedistributeModalVisible:y,setIsRedistributeModalVisible:I,editingItem:_,setEditingItem:B,isLoading:P,setIsLoading:o,activeTab:p,setActiveTab:j,username:z,isAdmin:H,isUser:K,userRole:q,filteredData:U,sortedData:E,paginatedData:ee,totalEntries:$,handleRedistribute:w=>{F(w),I(!0)},handleRedistributeItem:async w=>{var L,ce;o(!0);try{await Cr(w),t.success("Item redistributed successfully.");const x=await mt();D(x),I(!1),F(null),await R(z,"Inventory",`Redistributed item with ID: ${w.id}`),await N("Inventory Update",`You redistributed an item with ID: ${w.id}`)}catch(x){const ae=((ce=(L=x==null?void 0:x.response)==null?void 0:L.data)==null?void 0:ce.message)||x.message||"";ae.toLowerCase().includes("quantity")&&ae.includes("1")?t.error("You can't redistribute an item with quantity of 1."):t.error("Failed to redistribute item."),console.error(x)}finally{o(!1)}},handlePageChange:(w,L)=>{d(w),u(L)},handleSortOrderChange:w=>{r(w.toLowerCase());const L=w.toLowerCase()==="newest"?"descend":"ascend";m({field:"id",order:L}),d(1)},handleTableChange:w=>{w.field&&m({field:w.field,order:w.order})},handleAddItem:async w=>{try{o(!0);const L=await br(w);if(L&&L.id){t.success(`Item added successfully! ID: ${L.id}`),await R(z,"Inventory",`Added item with ID: ${L.id}`),await N("Inventory Update",`You added an item with ID: ${L.id}`);const ce=await mt();D(ce)}else t.error("Failed to retrieve item ID.")}catch(L){console.error("Error adding item:",L),t.error("Failed to add item.")}finally{o(!1)}},handleEdit:w=>{B(w),h(!0)},handleEditItem:async w=>{const L=_;if(!Object.keys(w).some(x=>{const ae=w[x],ye=L[x];return typeof ae=="string"?ae.trim()!==(ye||"").trim():ae!==ye})){t.info("No changes detected.");return}o(!0);try{const x=await yr({...w,id:_==null?void 0:_.id});if(x.message==="Item updated successfully"){const ae=await mt();D(ae),t.success(`Item with ID ${w.id} updated successfully!`),await R(z,"Inventory",`Updated item with ID: ${w.id}`),await N("Inventory Update",`You edited an item with ID: ${w.id}`),h(!1)}else t.error(x.message||"Failed to update item.")}catch(x){console.error("Error updating item:",x),t.error("Failed to update item. Please try again.")}finally{o(!1)}},handleBatchDelete:async()=>{if(!H){t.error("You do not have permission to delete items.");return}if(b.length===0){t.warning("Please select items to delete.");return}try{if((await gr(b)).message==="Items deleted successfully"){const L=await mt();D(L),v([]),t.success("Items deleted successfully!"),await R(z,"Inventory",`Deleted item(s) with ID(s): ${b.join(", ")}`),await N("Inventory Update",`You deleted item(s) with ID(s): ${b.join(", ")}`)}else t.error("Error deleting items.")}catch(w){console.error("Error deleting items:",w),t.error("Failed to delete items. Please try again.")}finally{o(!1)}},handleTabChange:w=>{j(w)},handleReset:()=>{a(""),r("newest"),m({field:"id",order:"descend"}),d(1),u(10),v([]),j("default")},rowSelection:H?{selectedRowKeys:b,onChange:v}:null}},ll=async t=>{try{return(await ia.post("/save_template.php",t)).data}catch(s){throw s}},il=async()=>{try{return(await ia.get("/get_templates.php")).data}catch(t){throw t}},ol=async(t,s)=>{try{return(await ia.put(`/update_template.php?id=${t}`,s)).data}catch(a){throw a}},cl=async t=>{try{return(await ia.delete(`/delete_template.php?id=${t}`)).data}catch(s){throw s}},ul=t=>{const[s,a]=n.useState(null),[l,r]=n.useState(null),[c,m]=n.useState([]),[i,d]=n.useState(!1),[f,u]=n.useState(null),[b]=A.useForm(),{message:v}=la.useApp(),[k,D]=n.useState(0),{logUserActivity:g}=_t(),{logUserNotification:S}=Bt(),C=Ot(),h=Nt(),y=()=>{const o=C.token&&C.userData,p=h.token&&h.userData;if(o)return C.userData;if(p)return h.userData;const j=tt.get("username"),R=tt.get("user_id");return j&&R?{username:j,id:R}:null};n.useEffect(()=>{I()},[k]);const I=async()=>{try{const o=await il();o.success&&(m(o.templates),s==="User Templates"&&(a(null),r(null),t(null)))}catch(o){console.error("Error loading templates:",o),v.error("Error loading templates")}};return{selectedCategory:s,selectedType:l,userTemplates:c,isEditModalVisible:i,editingTemplate:f,form:b,refreshTrigger:k,setRefreshTrigger:D,handleCategoryChange:o=>{if(o==="No Template"||!o){a(null),r(null),t(null);return}a(o),r(null)},handleTypeChange:o=>{if(!o||o==="No Template")return a(null),r(null),t(null),{isUserTemplate:!1};if(r(o),s==="User Templates"){const p=c.find(j=>j.template_name===o);if(p){const j={...p,locationType:p.location.includes("Head Office")?"Head Office":"Other",department:p.location.includes("Head Office")?p.location.split(" - ")[1]:null,location:(p.location.includes("Head Office"),p.location)};return t(j),{isUserTemplate:!0}}}else if(s&&ra[s][o])return t(ra[s][o]),{isUserTemplate:!1}},handleEdit:o=>{const p=y();if(!p){v.error("User not authenticated");return}if(p.username!==o.created_by){v.error("You can only edit templates that you created");return}const j=o.location.includes("Head Office"),R=j?o.location.split(" - ")[1]:null;u(o),b.setFieldsValue({...o,locationType:j?"Head Office":"Other",department:R,location:j?null:o.location,purchaseDate:o.purchaseDate?et(o.purchaseDate):void 0,issuedDate:o.issuedDate?et(o.issuedDate):void 0}),d(!0)},handleDelete:async o=>{const p=y();if(!p){v.error("User not authenticated");return}if(p.username!==o.created_by){v.error("You can only delete templates that you created");return}try{const j=await cl(o.id);j.success?(v.success("Template deleted successfully"),m(R=>R.filter(N=>N.id!==o.id)),l===o.template_name&&(a(null),r(null),t(null)),D(R=>R+1),await g(p.username,"Template Deleted",`Template "${o.template_name}" has been deleted.`),await S("Template Deleted",`Template "${o.template_name}" has been deleted.`)):v.error(j.message||"Failed to delete template")}catch(j){console.error("Error deleting template:",j),v.error("Error deleting template")}},handleEditSubmit:async o=>{const p=y();if(!p){v.error("User not authenticated");return}if(p.username!==f.created_by){v.error("You can only edit templates that you created");return}try{const j={...o,location:o.locationType==="Head Office"?`Head Office - ${o.department}`:o.location,purchaseDate:o.purchaseDate?o.purchaseDate.format("YYYY-MM-DD"):null,issuedDate:o.issuedDate?o.issuedDate.format("YYYY-MM-DD"):null};delete j.locationType,delete j.department;const R=await ol(f.id,j);if(R.success){if(v.success("Template updated successfully"),d(!1),m(N=>N.map(T=>T.id===f.id?{...T,...j}:T)),l===f.template_name){const N={...f,...j,locationType:j.location.includes("Head Office")?"Head Office":"Other",department:j.location.includes("Head Office")?j.location.split(" - ")[1]:null};t(N)}D(N=>N+1),await g(p.username,"Template Updated",`Template "${o.template_name}" has been updated.`),await S("Template Updated",`Template "${o.template_name}" has been updated.`)}else v.error(R.message||"Failed to update template")}catch(j){console.error("Error updating template:",j),v.error("Error updating template")}},setIsEditModalVisible:d}},{Option:J}=ge,dl={SOD:"SOD",CID:"CID",GAD:"GAD",HRD:"HRD",AFD:"AFD",EOD:"EOD",BDO:"BDO"},ra={"IT Equipment":{"System Unit":{type:"System Unit",brand:"Dell",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Standard office computer",serialNumber:"",purchaseDate:"",issuedDate:""},Laptop:{type:"Laptop",brand:"Lenovo",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Business laptop",serialNumber:"",purchaseDate:"",issuedDate:""},Monitor:{type:"Monitor",brand:"Dell",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Office monitor",serialNumber:"",purchaseDate:"",issuedDate:""},Printer:{type:"Printer",brand:"HP",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Office printer",serialNumber:"",purchaseDate:"",issuedDate:""}},"Network Equipment":{Router:{type:"Router",brand:"Cisco",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"Network Department",remarks:"Network router",serialNumber:"",purchaseDate:"",issuedDate:""},Switch:{type:"Switch",brand:"Cisco",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"Network Department",remarks:"Network switch",serialNumber:"",purchaseDate:"",issuedDate:""},Modem:{type:"Modem",brand:"TP-Link",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"Network Department",remarks:"Internet modem",serialNumber:"",purchaseDate:"",issuedDate:""},"WIFI-Mesh":{type:"WIFI-Mesh",brand:"Ubiquiti",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"Network Department",remarks:"Wireless mesh system",serialNumber:"",purchaseDate:"",issuedDate:""}},"Security Equipment":{CCTV:{type:"CCTV",brand:"Hikvision",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Security camera",serialNumber:"",purchaseDate:"",issuedDate:""},Biometrics:{type:"Biometrics",brand:"ZKTeco",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Biometric scanner",serialNumber:"",purchaseDate:"",issuedDate:""},"Metal Detector":{type:"Metal Detector",brand:"Garrett",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Security metal detector",serialNumber:"",purchaseDate:"",issuedDate:""},"Guard Tour System":{type:"Guard Tour System",brand:"Detex",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Guard tour monitoring system",serialNumber:"",purchaseDate:"",issuedDate:""}},"Communication Equipment":{Radio:{type:"Radio",brand:"Motorola",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Communication Department",remarks:"Two-way radio",serialNumber:"",purchaseDate:"",issuedDate:""},Smartphone:{type:"Smartphone",brand:"Samsung",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Communication Department",remarks:"Office mobile phone",serialNumber:"",purchaseDate:"",issuedDate:""},Headset:{type:"Headset",brand:"Jabra",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Communication Department",remarks:"Office headset",serialNumber:"",purchaseDate:"",issuedDate:""},Megaphone:{type:"Megaphone",brand:"Pyle",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Communication Department",remarks:"Public address system",serialNumber:"",purchaseDate:"",issuedDate:""}},"Power Equipment":{UPS:{type:"UPS",brand:"APC",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Uninterruptible power supply",serialNumber:"",purchaseDate:"",issuedDate:""},AVR:{type:"AVR",brand:"Stavol",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Automatic voltage regulator",serialNumber:"",purchaseDate:"",issuedDate:""},Battery:{type:"Battery",brand:"Yuasa",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Backup battery",serialNumber:"",purchaseDate:"",issuedDate:""},Charger:{type:"Charger",brand:"Anker",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Device charger",serialNumber:"",purchaseDate:"",issuedDate:""}},Accessories:{Keyboard:{type:"Keyboard",brand:"Logitech",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Computer keyboard",serialNumber:"",purchaseDate:"",issuedDate:""},Mouse:{type:"Mouse",brand:"Logitech",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Computer mouse",serialNumber:"",purchaseDate:"",issuedDate:""},Speaker:{type:"Speaker",brand:"JBL",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Audio speaker",serialNumber:"",purchaseDate:"",issuedDate:""},Microphone:{type:"Microphone",brand:"Shure",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"IT Department",remarks:"Audio microphone",serialNumber:"",purchaseDate:"",issuedDate:""}},Others:{Pedestal:{type:"Pedestal",brand:"Generic",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"General",remarks:"Equipment pedestal",serialNumber:"",purchaseDate:"",issuedDate:""},Podium:{type:"Podium",brand:"Generic",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"GAD",location:"General",remarks:"Presentation podium",serialNumber:"",purchaseDate:"",issuedDate:""},"Search Stick":{type:"Search Stick",brand:"Generic",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Security search tool",serialNumber:"",purchaseDate:"",issuedDate:""},Searchlight:{type:"Searchlight",brand:"Generic",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Security search light",serialNumber:"",purchaseDate:"",issuedDate:""},"Guard Tour Chips":{type:"Guard Tour Chips",brand:"Detex",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Guard tour system chips",serialNumber:"",purchaseDate:"",issuedDate:""},"Under Chassis":{type:"Under Chassis",brand:"Generic",condition:"Brand New",status:"On Stock",quantity:1,locationType:"Head Office",department:"SOD",location:"Security Department",remarks:"Vehicle under chassis scanner",serialNumber:"",purchaseDate:"",issuedDate:""}}},ml=n.forwardRef(({onTemplateSelect:t},s)=>{const{selectedCategory:a,selectedType:l,userTemplates:r,isEditModalVisible:c,form:m,setRefreshTrigger:i,handleCategoryChange:d,handleTypeChange:f,handleEdit:u,handleDelete:b,handleEditSubmit:v,setIsEditModalVisible:k}=ul(t),D=Ot(),g=Nt(),S=()=>{const y=D.token&&D.userData,I=g.token&&g.userData;if(y)return D.userData;if(I)return g.userData;const M=tt.get("username"),F=tt.get("user_id");return M&&F?{username:M,id:F}:null},C=y=>{const I=S();return I&&I.username===y.created_by};n.useImperativeHandle(s,()=>({setRefreshTrigger:i,handleTypeChange:f}));const h=Object.keys(ra).sort();return e.jsxs($t,{direction:"vertical",style:{width:"100%",marginBottom:"16px"},children:[e.jsx(kn,{message:"Quick Templates",description:"Select a category and type to quickly fill item details, or choose No Template to use your own values",type:"info",showIcon:!0}),e.jsxs(Ct,{gutter:16,children:[e.jsx(Ue,{span:12,children:e.jsxs(ge,{placeholder:"Select Category",style:{width:"100%"},onChange:d,value:a,allowClear:!0,children:[e.jsx(J,{value:"No Template",children:"No Template"}),h.map(y=>e.jsx(J,{value:y,children:y},y)),r.length>0&&e.jsx(J,{value:"User Templates",children:"User Templates"})]})}),e.jsx(Ue,{span:12,children:e.jsx(ge,{placeholder:"Select Type",style:{width:"100%"},onChange:f,disabled:!a,value:l,allowClear:!0,optionLabelProp:"label",children:a==="User Templates"?r.sort((y,I)=>y.template_name.localeCompare(I.template_name)).map(y=>e.jsx(J,{value:y.template_name,label:y.template_name,children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:y.template_name}),e.jsxs("div",{style:{fontSize:"12px",color:"#8c8c8c",marginTop:"2px"},children:["Created by: ",y.created_by||"System"]})]}),e.jsxs($t,{children:[e.jsx(Je,{title:C(y)?"Edit Template":"Only the creator can edit this template",children:e.jsx(be,{type:"text",style:{backgroundColor:"transparent"},icon:e.jsx(bn,{}),onClick:I=>{I.stopPropagation(),u(y)},disabled:!C(y)})}),e.jsx(Je,{title:C(y)?"Delete Template":"Only the creator can delete this template",children:e.jsx(be,{type:"text",style:{backgroundColor:"transparent"},danger:!0,icon:e.jsx(aa,{}),onClick:I=>{I.stopPropagation(),b(y)},disabled:!C(y)})})]})]})},y.template_name)):a&&Object.keys(ra[a]).sort().map(y=>e.jsx(J,{value:y,children:y},y))})})]}),e.jsx(Fr,{style:{margin:"16px 0"}}),e.jsx(Ht,{title:"Edit Template",open:c,onCancel:()=>k(!1),footer:null,width:900,children:e.jsx(A,{form:m,onFinish:v,layout:"vertical",children:e.jsxs(Ct,{gutter:16,children:[e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{name:"template_name",label:"Template Name",rules:[{required:!0,message:"Please enter template name"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{name:"type",label:"Type",rules:[{required:!0,message:"Please select type"}],children:e.jsxs(ge,{children:[e.jsx(J,{value:"AVR",children:"AVR"}),e.jsx(J,{value:"Battery",children:"Battery"}),e.jsx(J,{value:"Biometrics",children:"Biometrics"}),e.jsx(J,{value:"Camera",children:"Camera"}),e.jsx(J,{value:"CCTV",children:"CCTV"}),e.jsx(J,{value:"Charger",children:"Charger"}),e.jsx(J,{value:"Guard Tour Chips",children:"Guard Tour Chips"}),e.jsx(J,{value:"Guard Tour System",children:"Guard Tour System"}),e.jsx(J,{value:"Headset",children:"Headset"}),e.jsx(J,{value:"Keyboard",children:"Keyboard"}),e.jsx(J,{value:"Laptop",children:"Laptop"}),e.jsx(J,{value:"Megaphone",children:"Megaphone"}),e.jsx(J,{value:"WIFI-Mesh",children:"WIFI-Mesh"}),e.jsx(J,{value:"Metal Detector",children:"Metal Detector"}),e.jsx(J,{value:"Microphone",children:"Microphone"}),e.jsx(J,{value:"Modem",children:"Modem"}),e.jsx(J,{value:"Monitor",children:"Monitor"}),e.jsx(J,{value:"Mouse",children:"Mouse"}),e.jsx(J,{value:"Others",children:"Others"}),e.jsx(J,{value:"Pedestal",children:"Pedestal"}),e.jsx(J,{value:"Podium",children:"Podium"}),e.jsx(J,{value:"Printer",children:"Printer"}),e.jsx(J,{value:"Radio",children:"Radio"}),e.jsx(J,{value:"Router",children:"Router"}),e.jsx(J,{value:"Search Stick",children:"Search Stick"}),e.jsx(J,{value:"Searchlight",children:"Searchlight"}),e.jsx(J,{value:"Smartphone",children:"Smartphone"}),e.jsx(J,{value:"Speaker",children:"Speaker"}),e.jsx(J,{value:"Switch",children:"Switch"}),e.jsx(J,{value:"System Unit",children:"System Unit"}),e.jsx(J,{value:"Under Chassis",children:"Under Chassis"}),e.jsx(J,{value:"UPS",children:"UPS"})]})}),e.jsx(A.Item,{name:"brand",label:"Brand",rules:[{required:!0,message:"Please enter brand"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{name:"serialNumber",label:"Serial Number",children:e.jsx(Ce,{})}),e.jsx(A.Item,{name:"purchaseDate",label:"Purchase Date",rules:[{required:!0,message:"Please select purchase date"}],children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})}),e.jsx(A.Item,{name:"issuedDate",label:"Issued Date",tooltip:"Optional - Leave empty if not issued yet",children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{name:"condition",label:"Condition",rules:[{required:!0,message:"Please select condition"}],children:e.jsxs(ge,{children:[e.jsx(J,{value:"Brand New",children:"Brand New"}),e.jsx(J,{value:"Good Condition",children:"Good Condition"}),e.jsx(J,{value:"Defective",children:"Defective"})]})}),e.jsx(A.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:e.jsxs(ge,{children:[e.jsx(J,{value:"On Stock",children:"On Stock"}),e.jsx(J,{value:"Deployed",children:"Deployed"}),e.jsx(J,{value:"For Repair",children:"For Repair"})]})}),e.jsx(A.Item,{name:"locationType",label:"Detachment/Office",rules:[{required:!0,message:"Please select a location type"}],children:e.jsxs(ge,{onChange:y=>{const I=y==="Head Office";m.setFieldsValue({department:I?m.getFieldValue("department"):null,location:I?null:m.getFieldValue("location")})},children:[e.jsx(J,{value:"Head Office",children:"Head Office"}),e.jsx(J,{value:"Other",children:"Other (Specify Below)"})]})}),e.jsx(A.Item,{noStyle:!0,shouldUpdate:(y,I)=>y.locationType!==I.locationType,children:({getFieldValue:y})=>y("locationType")==="Head Office"?e.jsx(A.Item,{name:"department",label:"Department (Head Office)",rules:[{required:!0,message:"Please select a department"}],children:e.jsx(ge,{children:Object.entries(dl).map(([M,F])=>e.jsx(J,{value:M,children:F},M))})}):e.jsx(A.Item,{name:"location",label:"Specific Location",rules:[{required:!0,message:"Please input a location"}],children:e.jsx(Ce,{})})}),e.jsx(A.Item,{name:"remarks",label:"Remarks",children:e.jsx(Ce.TextArea,{})}),e.jsx(A.Item,{children:e.jsx(be,{type:"primary",htmlType:"submit",children:"Save Changes"})})]})]})})})]})}),{Option:X}=ge,fl=({visible:t,onClose:s,onAdd:a})=>{const[l]=A.useForm(),[r,c]=n.useState(!1),[m,i]=n.useState(!1),[d,f]=n.useState(!1),[u,b]=n.useState(""),{message:v}=la.useApp(),[k,D]=n.useState(null),g=n.useRef(null),{logUserActivity:S}=_t(),{logUserNotification:C}=Bt(),h=Ot(),y=Nt(),I=()=>{const o=h.token&&h.userData,p=y.token&&y.userData;if(o)return h.userData;if(p)return y.userData;const j=tt.get("username"),R=tt.get("user_id");return j&&R?{username:j,id:R}:null},M=o=>{o?(l.setFieldsValue({...o,locationType:o.locationType||(o.location.includes("Head Office")?"Head Office":"Other"),department:o.department||(o.location.includes("Head Office")?o.location.split(" - ")[1]:null),location:o.location,purchaseDate:o.purchaseDate?et(o.purchaseDate):void 0,issuedDate:o.issuedDate?et(o.issuedDate):void 0}),c(o.locationType==="Head Office"||o.location.includes("Head Office"))):(l.resetFields(),c(!1))},F=async o=>{var p,j;try{if(o.purchaseDate&&o.purchaseDate.isAfter(et())){v.error("Purchase date cannot be in the future.");return}const R=await mt();if(o.serialNumber&&R.some(H=>H.serialNumber===o.serialNumber)){v.error("Serial number already exists. Please use a unique serial number.");return}const N=r?`Head Office - ${o.department}`:o.location,T={type:o.type,brand:o.brand,quantity:m?1:Math.max(1,o.quantity||1),serialNumber:o.serialNumber,issuedDate:o.issuedDate?o.issuedDate.format("YYYY-MM-DD"):null,purchaseDate:o.purchaseDate?o.purchaseDate.format("YYYY-MM-DD"):null,condition:o.condition,location:N,status:o.status,remarks:o.remarks||null};a(T),D(o);const O=(j=(p=g.current)==null?void 0:p.handleTypeChange)==null?void 0:j.call(p,o.type);O&&!O.isUserTemplate&&f(!0),l.resetFields(),s()}catch(R){console.error(R)}},_=async()=>{if(!u.trim()){v.error("Please enter a template name");return}const o=I();if(!o){v.error("User not authenticated");return}const p=k,j={template_name:u,type:p.type,brand:p.brand,condition:p.condition,status:p.status,quantity:p.quantity||1,location:r?`Head Office - ${p.department}`:p.location,remarks:p.remarks||"",created_by:o.username,serialNumber:p.serialNumber||null,purchaseDate:p.purchaseDate?p.purchaseDate.format("YYYY-MM-DD"):null,issuedDate:p.issuedDate?p.issuedDate.format("YYYY-MM-DD"):null};try{const R=await ll(j);R.success?(v.success("Template saved successfully!"),f(!1),b(""),g.current&&g.current.setRefreshTrigger(N=>N+1),await S(o.username,"Template Created",`Template "${u}" has been created successfully.`),await C("Template Created",`Template "${u}" has been created successfully.`)):v.error(R.message||"Failed to save template")}catch(R){console.error("Error saving template:",R),v.error("Error saving template")}},B=()=>{l.resetFields(),i(!1),s()},P=o=>{const p=o.target.value.trim();i(p!==""),p!==""?l.setFieldsValue({quantity:1}):l.setFieldsValue({quantity:1})};return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{title:"Add New Item",open:t,onCancel:B,footer:null,width:900,children:e.jsxs(A,{form:l,onFinish:F,layout:"vertical",initialValues:{quantity:1},children:[e.jsx(ml,{ref:g,onTemplateSelect:M}),e.jsxs(Ct,{gutter:16,children:[e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please select the item type!"}],children:e.jsxs(ge,{children:[e.jsx(X,{value:"AVR",children:"AVR"}),e.jsx(X,{value:"Battery",children:"Battery"}),e.jsx(X,{value:"Biometrics",children:"Biometrics"}),e.jsx(X,{value:"Camera",children:"Camera"}),e.jsx(X,{value:"CCTV",children:"CCTV"}),e.jsx(X,{value:"Charger",children:"Charger"}),e.jsx(X,{value:"Guard Tour Chips",children:"Guard Tour Chips"}),e.jsx(X,{value:"Guard Tour System",children:"Guard Tour System"}),e.jsx(X,{value:"Headset",children:"Headset"}),e.jsx(X,{value:"Keyboard",children:"Keyboard"}),e.jsx(X,{value:"Laptop",children:"Laptop"}),e.jsx(X,{value:"Megaphone",children:"Megaphone"}),e.jsx(X,{value:"WIFI-Mesh",children:"WIFI-Mesh"}),e.jsx(X,{value:"Metal Detector",children:"Metal Detector"}),e.jsx(X,{value:"Microphone",children:"Microphone"}),e.jsx(X,{value:"Modem",children:"Modem"}),e.jsx(X,{value:"Monitor",children:"Monitor"}),e.jsx(X,{value:"Mouse",children:"Mouse"}),e.jsx(X,{value:"Others",children:"Others"}),e.jsx(X,{value:"Pedestal",children:"Pedestal"}),e.jsx(X,{value:"Podium",children:"Podium"}),e.jsx(X,{value:"Printer",children:"Printer"}),e.jsx(X,{value:"Radio",children:"Radio"}),e.jsx(X,{value:"Router",children:"Router"}),e.jsx(X,{value:"Search Stick",children:"Search Stick"}),e.jsx(X,{value:"Searchlight",children:"Searchlight"}),e.jsx(X,{value:"Smartphone",children:"Smartphone"}),e.jsx(X,{value:"Speaker",children:"Speaker"}),e.jsx(X,{value:"Switch",children:"Switch"}),e.jsx(X,{value:"System Unit",children:"System Unit"}),e.jsx(X,{value:"Under Chassis",children:"Under Chassis"}),e.jsx(X,{value:"UPS",children:"UPS"})]})}),e.jsx(A.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Please input the brand!"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{label:"Remarks",name:"remarks",children:e.jsx(Ce.TextArea,{})}),e.jsx(A.Item,{label:"Serial Number",name:"serialNumber",children:e.jsx(Ce,{onChange:P})}),!m&&e.jsx(A.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input the quantity!"}],children:e.jsx(Ce,{type:"number",min:1})}),e.jsx(A.Item,{label:"Issued Date",name:"issuedDate",tooltip:"Optional - Leave empty if not issued yet",children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{label:"Purchased Date",name:"purchaseDate",rules:[{required:!0,message:"Please select the purchase date!"}],children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})}),e.jsx(A.Item,{label:"Condition",name:"condition",rules:[{required:!0,message:"Please select the condition!"}],children:e.jsxs(ge,{children:[e.jsx(X,{value:"Brand New",children:"Brand New"}),e.jsx(X,{value:"Good Condition",children:"Good Condition"}),e.jsx(X,{value:"Defective",children:"Defective"})]})}),e.jsx(A.Item,{label:"Detachment/Office",name:"locationType",rules:[{required:!0,message:"Please select a location!"}],children:e.jsxs(ge,{onChange:o=>c(o==="Head Office"),children:[e.jsx(X,{value:"Head Office",children:"Head Office"}),e.jsx(X,{value:"Other",children:"Other (Specify Below)"})]})}),r&&e.jsx(A.Item,{label:"Department (Head Office)",name:"department",rules:[{required:!0,message:"Please select a department!"}],children:e.jsxs(ge,{children:[e.jsx(X,{value:"SOD",children:"SOD"}),e.jsx(X,{value:"CID",children:"CID"}),e.jsx(X,{value:"GAD",children:"GAD"}),e.jsx(X,{value:"HRD",children:"HRD"}),e.jsx(X,{value:"AFD",children:"AFD"}),e.jsx(X,{value:"EOD",children:"EOD"}),e.jsx(X,{value:"BDO",children:"BDO"})]})}),!r&&e.jsx(A.Item,{label:"Specific Location",name:"location",rules:[{required:!0,message:"Please input a location!"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select the status!"}],children:e.jsxs(ge,{children:[e.jsx(X,{value:"On Stock",children:"On Stock"}),e.jsx(X,{value:"Deployed",children:"Deployed"}),e.jsx(X,{value:"For Repair",children:"For Repair"})]})}),e.jsx(A.Item,{children:e.jsx(Ct,{justify:"center",children:e.jsx(Ue,{children:e.jsx(be,{type:"primary",htmlType:"submit",icon:e.jsx(na,{}),children:"Add Item"})})})})]})]})]})}),e.jsxs(Ht,{title:"Save as Template",open:d,onCancel:()=>f(!1),footer:[e.jsx(be,{onClick:()=>f(!1),children:"Cancel"},"cancel"),e.jsx(be,{type:"primary",onClick:_,icon:e.jsx(rl,{}),children:"Save Template"},"save")],children:[e.jsx("p",{children:"Would you like to save this item as a template for future use?"}),e.jsx(A.Item,{label:"Template Name",required:!0,tooltip:"Enter a unique name for this template",children:e.jsx(Ce,{value:u,onChange:o=>b(o.target.value),placeholder:"Enter template name"})})]})]})},{Option:Z}=ge,hl=({visible:t,onClose:s,onEdit:a,item:l})=>{const[r]=A.useForm(),[c,m]=n.useState(!1),[i,d]=n.useState(!1),{message:f}=la.useApp(),{logUserActivity:u}=_t(),{logUserNotification:b}=Bt(),v=Ot(),k=Nt(),D=()=>{const h=v.token&&v.userData,y=k.token&&k.userData;if(h)return v.userData;if(y)return k.userData;const I=tt.get("username"),M=tt.get("user_id");return I&&M?{username:I,id:M}:null};n.useEffect(()=>{if(t&&l){const h=l.location.includes("Head Office"),y=h?l.location.split(" - ")[1]:null;r.setFieldsValue({...l,locationType:h?"Head Office":"Other",department:y,location:h?null:l.location,purchaseDate:l.purchaseDate?et(l.purchaseDate):void 0,issuedDate:l.issuedDate?et(l.issuedDate):void 0}),m(h),d(!!l.serialNumber)}},[t,l,r]);const g=async h=>{try{if(h.purchaseDate&&h.purchaseDate.isAfter(et())){f.error("Purchase date cannot be in the future.");return}const y=await mt();if(h.serialNumber&&h.serialNumber!==l.serialNumber&&y.some(B=>B.serialNumber===h.serialNumber)){f.error("Serial number already exists. Please use a unique serial number.");return}const I=c?`Head Office - ${h.department}`:h.location,M={...l,type:h.type,brand:h.brand,quantity:i?1:Math.max(1,h.quantity||1),serialNumber:h.serialNumber,issuedDate:h.issuedDate?h.issuedDate.format("YYYY-MM-DD"):null,purchaseDate:h.purchaseDate?h.purchaseDate.format("YYYY-MM-DD"):null,condition:h.condition,location:I,status:h.status,remarks:h.remarks||null};a(M);const F=D();F&&(await u(F.username,"Item Updated",`Item "${M.type}" has been updated.`),await b("Item Updated",`Item "${M.type}" has been updated.`)),r.resetFields(),s()}catch(y){console.error(y)}},S=()=>{r.resetFields(),d(!1),s()},C=h=>{const y=h.target.value.trim();d(y!==""),y!==""?r.setFieldsValue({quantity:1}):r.setFieldsValue({quantity:1})};return e.jsx(Ht,{title:"Edit Item",open:t,onCancel:S,footer:null,width:900,children:e.jsx(A,{form:r,onFinish:g,layout:"vertical",initialValues:{quantity:1},children:e.jsxs(Ct,{gutter:16,children:[e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please select the item type!"}],children:e.jsxs(ge,{children:[e.jsx(Z,{value:"AVR",children:"AVR"}),e.jsx(Z,{value:"Battery",children:"Battery"}),e.jsx(Z,{value:"Biometrics",children:"Biometrics"}),e.jsx(Z,{value:"Camera",children:"Camera"}),e.jsx(Z,{value:"CCTV",children:"CCTV"}),e.jsx(Z,{value:"Charger",children:"Charger"}),e.jsx(Z,{value:"Guard Tour Chips",children:"Guard Tour Chips"}),e.jsx(Z,{value:"Guard Tour System",children:"Guard Tour System"}),e.jsx(Z,{value:"Headset",children:"Headset"}),e.jsx(Z,{value:"Keyboard",children:"Keyboard"}),e.jsx(Z,{value:"Laptop",children:"Laptop"}),e.jsx(Z,{value:"Megaphone",children:"Megaphone"}),e.jsx(Z,{value:"WIFI-Mesh",children:"WIFI-Mesh"}),e.jsx(Z,{value:"Metal Detector",children:"Metal Detector"}),e.jsx(Z,{value:"Microphone",children:"Microphone"}),e.jsx(Z,{value:"Modem",children:"Modem"}),e.jsx(Z,{value:"Monitor",children:"Monitor"}),e.jsx(Z,{value:"Mouse",children:"Mouse"}),e.jsx(Z,{value:"Others",children:"Others"}),e.jsx(Z,{value:"Pedestal",children:"Pedestal"}),e.jsx(Z,{value:"Podium",children:"Podium"}),e.jsx(Z,{value:"Printer",children:"Printer"}),e.jsx(Z,{value:"Radio",children:"Radio"}),e.jsx(Z,{value:"Router",children:"Router"}),e.jsx(Z,{value:"Search Stick",children:"Search Stick"}),e.jsx(Z,{value:"Searchlight",children:"Searchlight"}),e.jsx(Z,{value:"Smartphone",children:"Smartphone"}),e.jsx(Z,{value:"Speaker",children:"Speaker"}),e.jsx(Z,{value:"Switch",children:"Switch"}),e.jsx(Z,{value:"System Unit",children:"System Unit"}),e.jsx(Z,{value:"Under Chassis",children:"Under Chassis"}),e.jsx(Z,{value:"UPS",children:"UPS"})]})}),e.jsx(A.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Please input the brand!"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{label:"Remarks",name:"remarks",children:e.jsx(Ce.TextArea,{})}),e.jsx(A.Item,{label:"Serial Number",name:"serialNumber",children:e.jsx(Ce,{onChange:C})}),!i&&e.jsx(A.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input the quantity!"}],children:e.jsx(Ce,{type:"number",min:1})}),e.jsx(A.Item,{label:"Issued Date",name:"issuedDate",tooltip:"Optional - Leave empty if not issued yet",children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),e.jsxs(Ue,{span:12,children:[e.jsx(A.Item,{label:"Purchased Date",name:"purchaseDate",rules:[{required:!0,message:"Please select the purchase date!"}],children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"}})}),e.jsx(A.Item,{label:"Condition",name:"condition",rules:[{required:!0,message:"Please select the condition!"}],children:e.jsxs(ge,{children:[e.jsx(Z,{value:"Brand New",children:"Brand New"}),e.jsx(Z,{value:"Good Condition",children:"Good Condition"}),e.jsx(Z,{value:"Defective",children:"Defective"})]})}),e.jsx(A.Item,{label:"Detachment/Office",name:"locationType",rules:[{required:!0,message:"Please select a location!"}],children:e.jsxs(ge,{onChange:h=>m(h==="Head Office"),children:[e.jsx(Z,{value:"Head Office",children:"Head Office"}),e.jsx(Z,{value:"Other",children:"Other (Specify Below)"})]})}),c&&e.jsx(A.Item,{label:"Department (Head Office)",name:"department",rules:[{required:!0,message:"Please select a department!"}],children:e.jsxs(ge,{children:[e.jsx(Z,{value:"SOD",children:"SOD"}),e.jsx(Z,{value:"CID",children:"CID"}),e.jsx(Z,{value:"GAD",children:"GAD"}),e.jsx(Z,{value:"HRD",children:"HRD"}),e.jsx(Z,{value:"AFD",children:"AFD"}),e.jsx(Z,{value:"EOD",children:"EOD"}),e.jsx(Z,{value:"BDO",children:"BDO"})]})}),!c&&e.jsx(A.Item,{label:"Specific Location",name:"location",rules:[{required:!0,message:"Please input a location!"}],children:e.jsx(Ce,{})}),e.jsx(A.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select the status!"}],children:e.jsxs(ge,{children:[e.jsx(Z,{value:"On Stock",children:"On Stock"}),e.jsx(Z,{value:"Deployed",children:"Deployed"}),e.jsx(Z,{value:"For Repair",children:"For Repair"})]})}),e.jsx(A.Item,{children:e.jsx(Ct,{justify:"center",children:e.jsx(Ue,{children:e.jsx(be,{type:"primary",htmlType:"submit",icon:e.jsx(bn,{}),children:"Update Item"})})})})]})]})})})},{Option:Me}=ge,vl=({visible:t,onClose:s,item:a,onEdit:l,isLoading:r})=>{const[c]=A.useForm(),[m,i]=n.useState(!1),{logUserActivity:d}=_t(),{logUserNotification:f}=Bt(),u=Ot(),b=Nt(),v=()=>{const g=u.token&&u.userData,S=b.token&&b.userData;if(g)return u.userData;if(S)return b.userData;const C=tt.get("username"),h=tt.get("user_id");return C&&h?{username:C,id:h}:null};n.useEffect(()=>{var g;if(t&&a){const S=(g=a.location)==null?void 0:g.includes("Head Office");i(S);let C="Other",h,y;if(S){C="Head Office";const I=a.location.split(" - ");I.length>1&&(h=I[1])}else y=a.location;c.setFieldsValue({type:a.type,brand:a.brand,originalQuantity:a.quantity,quantity:1,condition:a.condition,status:a.status,remarks:a.remarks,locationType:C,department:h,location:y,issuedDate:a.issuedDate?et(a.issuedDate):void 0})}},[t,a,c]);const k=async g=>{var S;try{if(!a)return;const h=(await mt()).find(_=>_.id===a.id);if(!h){Qt.error("Item not found in inventory.");return}if(h.quantity===1){Qt.warning("Cannot redistribute item with quantity of 1.");return}if(!g.quantity||g.quantity<=0||g.quantity>=h.quantity){Qt.error("New quantity must be greater than 0 and less than existing quantity.");return}const y=g.locationType==="Head Office"?`Head Office - ${g.department}`:g.location,I=g.issuedDate?et(g.issuedDate).format("YYYY-MM-DD"):null,M={id:h.id,newQuantity:g.quantity,newLocation:y,issuedDate:I,condition:g.condition,status:g.status,remarks:((S=g.remarks)==null?void 0:S.trim())||null};await l(M);const F=v();F&&(await d(F.username,"Item Redistributed",`Item "${h.type}" has been redistributed to ${y} with quantity ${g.quantity}.`),await f("Item Redistributed",`Item "${h.type}" has been redistributed to ${y} with quantity ${g.quantity}.`)),c.resetFields(),s()}catch(C){console.error(C),Qt.error("Failed to redistribute item.")}},D=()=>{c.resetFields(),i(!1),s()};return e.jsx(Ht,{title:"Redistribute Item",open:t,onCancel:D,footer:null,width:800,centered:!0,destroyOnClose:!0,children:e.jsx(A,{form:c,onFinish:k,layout:"vertical",children:e.jsxs(Ct,{gutter:[24,16],children:[e.jsxs(Ue,{xs:24,md:12,children:[e.jsx(A.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Type is required"}],children:e.jsx(Ce,{disabled:!0})}),e.jsx(A.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Brand is required"}],children:e.jsx(Ce,{disabled:!0})}),e.jsx(A.Item,{label:"Original Quantity",name:"originalQuantity",rules:[{required:!0,message:"Original quantity is required"}],children:e.jsx(Ce,{disabled:!0})}),e.jsx(A.Item,{label:"New Quantity to Redistribute",name:"quantity",rules:[{required:!0,message:"Please input the quantity to redistribute"},{type:"number",min:1,max:a!=null&&a.quantity?a.quantity-1:1,message:"Invalid quantity"}],children:e.jsx(Ce,{type:"number",min:1,max:a!=null&&a.quantity?a.quantity-1:1,placeholder:"Enter quantity"})}),e.jsx(A.Item,{label:"Remarks",name:"remarks",children:e.jsx(Ce.TextArea,{rows:3,placeholder:"Enter remarks (optional)"})}),e.jsx(A.Item,{label:"Issued Date",name:"issuedDate",children:e.jsx(Ye,{format:"YYYY-MM-DD",style:{width:"100%"},placeholder:"Select date"})})]}),e.jsxs(Ue,{xs:24,md:12,children:[e.jsx(A.Item,{label:"Condition",name:"condition",rules:[{required:!0,message:"Please select the condition"}],children:e.jsxs(ge,{placeholder:"Select condition",children:[e.jsx(Me,{value:"Brand New",children:"Brand New"}),e.jsx(Me,{value:"Good Condition",children:"Good Condition"}),e.jsx(Me,{value:"Defective",children:"Defective"})]})}),e.jsx(A.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select the status"}],children:e.jsxs(ge,{placeholder:"Select status",children:[e.jsx(Me,{value:"On Stock",children:"On Stock"}),e.jsx(Me,{value:"Deployed",children:"Deployed"}),e.jsx(Me,{value:"For Repair",children:"For Repair"})]})}),e.jsx(A.Item,{label:"Location Type",name:"locationType",rules:[{required:!0,message:"Please select a location type"}],children:e.jsxs(ge,{placeholder:"Select location type",onChange:g=>i(g==="Head Office"),children:[e.jsx(Me,{value:"Head Office",children:"Head Office"}),e.jsx(Me,{value:"Other",children:"Other (Specify)"})]})}),m?e.jsx(A.Item,{label:"Department (Head Office)",name:"department",rules:[{required:!0,message:"Please select a department"}],children:e.jsxs(ge,{placeholder:"Select department",children:[e.jsx(Me,{value:"SOD",children:"SOD"}),e.jsx(Me,{value:"CID",children:"CID"}),e.jsx(Me,{value:"GAD",children:"GAD"}),e.jsx(Me,{value:"HRD",children:"HRD"}),e.jsx(Me,{value:"AFD",children:"AFD"}),e.jsx(Me,{value:"EOD",children:"EOD"}),e.jsx(Me,{value:"BDO",children:"BDO"})]})}):e.jsx(A.Item,{label:"Specific Location",name:"location",rules:[{required:!0,message:"Please input a specific location"}],children:e.jsx(Ce,{placeholder:"Enter location"})}),e.jsx(A.Item,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(be,{type:"primary",htmlType:"submit",icon:e.jsx(Zn,{}),loading:r,disabled:r,size:"large",className:"min-w-[120px]",children:"Redistribute"})})})]})]})})})},pl=(t,s="")=>{let a;switch(t){case"On Stock":a="green";break;case"For Repair":a="volcano";break;case"Deployed":a="blue";break;default:a="gray"}return e.jsx(In,{color:a,className:"text-wrap text-center",children:e.jsx(He,{text:t,searchTerm:s})})},xl=(t,s="")=>{let a;switch(t){case"Brand New":a="gold";break;case"Good Condition":a="green";break;case"Defective":a="red";break;default:a="gray"}return e.jsx(In,{color:a,className:"text-wrap text-center",children:e.jsx(He,{text:t,searchTerm:s})})},ta=(t,s,a,l,r,c="")=>{const m=[{title:"ID",dataIndex:"id",key:"id",align:"center",width:"auto",className:"text-xs overflow-auto",sorter:(i,d)=>i.id.localeCompare(d.id),render:i=>e.jsx(He,{text:i,searchTerm:c})},{title:"Type",dataIndex:"type",key:"type",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:i=>e.jsx(He,{text:i,searchTerm:c}),filters:[{text:"AVR",value:"AVR"},{text:"Battery",value:"Battery"},{text:"Biometrics",value:"Biometrics"},{text:"Camera",value:"Camera"},{text:"CCTV",value:"CCTV"},{text:"Charger",value:"Charger"},{text:"Guard Tour Chips",value:"Guard Tour Chips"},{text:"Guard Tour System",value:"Guard Tour System"},{text:"Headset",value:"Headset"},{text:"Keyboard",value:"Keyboard"},{text:"Laptop",value:"Laptop"},{text:"Megaphone",value:"Megaphone"},{text:"WIFI-Mesh",value:"WIFI-Mesh"},{text:"Metal Detector",value:"Metal Detector"},{text:"Microphone",value:"Microphone"},{text:"Modem",value:"Modem"},{text:"Monitor",value:"Monitor"},{text:"Mouse",value:"Mouse"},{text:"Others",value:"Others"},{text:"Pedestal",value:"Pedestal"},{text:"Podium",value:"Podium"},{text:"Printer",value:"Printer"},{text:"Radio",value:"Radio"},{text:"Router",value:"Router"},{text:"Search Stick",value:"Search Stick"},{text:"Searchlight",value:"Searchlight"},{text:"Smartphone",value:"Smartphone"},{text:"Speaker",value:"Speaker"},{text:"Switch",value:"Switch"},{text:"System Unit",value:"System Unit"},{text:"Under Chassis",value:"Under Chassis"},{text:"UPS",value:"UPS"}],onFilter:(i,d)=>d.type.includes(i)},{title:"Brand",dataIndex:"brand",key:"brand",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(i,d)=>i.brand.localeCompare(d.brand),render:i=>e.jsx(He,{text:i,searchTerm:c})},{title:"Qty",dataIndex:"quantity",key:"quantity",align:"center",width:"80px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],sorter:(i,d)=>i.quantity-d.quantity,render:i=>e.jsx(He,{text:i,searchTerm:c})},{title:"Remarks",dataIndex:"remarks",key:"remarks",align:"center",width:"170px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],render:i=>e.jsx(He,{text:i&&i.trim()!==""?i:"-",searchTerm:c})},{title:"Serial Number",dataIndex:"serialNumber",key:"serialNumber",align:"center",width:"150px",className:"text-xs overflow-auto text-wrap",responsive:["sm"],sorter:(i,d)=>{var f;return(f=i.serialNumber)==null?void 0:f.localeCompare(d.serialNumber||"")},render:i=>e.jsx(He,{text:i&&i.trim()!==""?i:"-",searchTerm:c})},...r==="default"?[{title:"Issued Date",dataIndex:"issuedDate",key:"issuedDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(i,d)=>{const f=new Date(i.issuedDate),u=new Date(d.issuedDate);return a==="newest"?u-f:f-u},render:i=>e.jsx(He,{text:!i||i==="0000-00-00"?"NO DATE":i,searchTerm:c})},{title:"Purchased Date",dataIndex:"purchaseDate",key:"purchaseDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(i,d)=>{const f=new Date(i.purchaseDate),u=new Date(d.purchaseDate);return a==="newest"?u-f:f-u},render:i=>e.jsx(He,{text:i,searchTerm:c})}]:r==="issuedDate"?[{title:"Issued Date",dataIndex:"issuedDate",key:"issuedDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(i,d)=>{const f=new Date(i.issuedDate),u=new Date(d.issuedDate);return a==="newest"?u-f:f-u},render:i=>e.jsx(He,{text:!i||i==="0000-00-00"?"NO DATE":i,searchTerm:c})}]:[{title:"Purchased Date",dataIndex:"purchaseDate",key:"purchaseDate",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],sorter:(i,d)=>{const f=new Date(i.purchaseDate),u=new Date(d.purchaseDate);return a==="newest"?u-f:f-u},render:i=>e.jsx(He,{text:i,searchTerm:c})}],{title:"Condition",dataIndex:"condition",key:"condition",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:i=>xl(i,c),filters:[{text:"Brand New",value:"Brand New"},{text:"Good Condition",value:"Good Condition"},{text:"Defective",value:"Defective"}],onFilter:(i,d)=>d.condition.includes(i)},{title:"Detachment/Office",dataIndex:"location",key:"location",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:i=>e.jsx(He,{text:i,searchTerm:c})},{title:"Status",dataIndex:"status",key:"status",align:"center",width:"auto",className:"text-xs overflow-auto",responsive:["sm"],render:i=>pl(i,c),filters:[{text:"On Stock",value:"On Stock"},{text:"For Repair",value:"For Repair"},{text:"Deployed",value:"Deployed"}],onFilter:(i,d)=>d.status.includes(i)}];return l!=="guest"&&m.push({title:"Action",key:"action",align:"center",width:"auto",className:"text-xs overflow-auto",render:i=>e.jsxs(e.Fragment,{children:[e.jsx(Je,{title:"Edit",children:e.jsx(be,{type:"text",icon:e.jsx(Js,{}),onClick:()=>t(i),size:"small"})}),i.quantity>1&&e.jsx(Je,{title:"Redistribute",children:e.jsx(be,{type:"text",icon:e.jsx(Zn,{}),onClick:()=>s(i),size:"small"})})]})}),m},{Option:xt}=ge,gl=[{key:"default",label:"Default"},{key:"issuedDate",label:"Issued Date"},{key:"purchaseDate",label:"Purchased Date"}],Kl=()=>{var W,oe,fe,w,L,ce;const[t,s]=n.useState(0),[a,l]=n.useState("all"),[r,c]=n.useState([]),[m,i]=n.useState(!1),[d,f]=n.useState("default"),u=Rr({maxWidth:639}),{searchText:b,setSearchText:v,sortOrder:k,currentPage:D,pageSize:g,isModalVisible:S,setIsModalVisible:C,isEditModalVisible:h,setIsEditModalVisible:y,redistributeItemData:I,setRedistributeItemData:M,isRedistributeModalVisible:F,setIsRedistributeModalVisible:_,editingItem:B,isLoading:P,activeTab:o,isAdmin:p,userRole:j,paginatedData:R,totalEntries:N,handleRedistribute:T,handleRedistributeItem:O,handlePageChange:z,handleSortOrderChange:H,handleTableChange:K,handleAddItem:q,handleEdit:U,handleEditItem:E,handleBatchDelete:$,handleTabChange:ee,handleReset:ie,rowSelection:G,dataSource:Y}=sl(),te=n.useMemo(()=>m?r:R,[m,r,R]),ue=n.useCallback(Ar(x=>{if(x===""){i(!1);return}i(!0);const ae=Y.filter(ye=>{if(!ye)return!1;if(a==="all"){for(const Fe in ye){const _e=ye[Fe];if(_e&&String(_e).toLowerCase().includes(x.toLowerCase()))return!0}return!1}else{const Fe=ye[a];return Fe&&String(Fe).toLowerCase().includes(x.toLowerCase())}});c(ae)},300),[Y,a]),De=n.useCallback(x=>{const ae=x.target.value;v(ae),ue(ae)},[ue,v]),me=n.useCallback(()=>{ie(),l("all"),i(!1),s(x=>x+1)},[ie]),pe=n.useMemo(()=>{const x=[{key:"all",label:"All Columns"},{key:"id",label:"ID"},{key:"type",label:"Type"},{key:"brand",label:"Brand"},{key:"serialNumber",label:"Serial Number"},{key:"remarks",label:"Remarks"},{key:"quantity",label:"Quantity"},{key:"location",label:"Location"},{key:"status",label:"Status"},{key:"condition",label:"Condition"},{key:"issuedDate",label:"Issued Date"},{key:"purchaseDate",label:"Purchased Date"}],ae=u?d:o;return x.filter(ye=>ae==="issuedDate"?ye.key!=="purchaseDate":ae==="purchaseDate"?ye.key!=="issuedDate":!0)},[o,d,u]);n.useMemo(()=>pe.map(x=>({key:x.key,label:x.label})),[pe]);const re=x=>({items:pe.map(ae=>({key:ae.key,label:e.jsx("span",{className:"break-words whitespace-normal text-xs",children:ae.label})})),onClick:({key:ae})=>l(ae),selectedKeys:[a]});return e.jsxs(Vr,{title:e.jsx("span",{className:"font-bold flex justify-center text-lgi md:text-base lg:text-lgi xl:text-xl",children:"INVENTORY"}),className:"flex flex-col w-full mx-auto bg-[#A8E1C5] rounded-xl shadow border-none",children:[e.jsxs("div",{className:"block sm:hidden mb-4",children:[e.jsx(ge,{value:d,onChange:f,className:"w-full transparent-select",size:"small",children:gl.map(x=>e.jsx(xt,{value:x.key,children:e.jsx("span",{className:"text-xs",children:x.label})},x.key))}),e.jsx("div",{className:"w-auto overflow-x-auto mt-4",children:e.jsx(Xt,{rowSelection:G,rowKey:"id",dataSource:te,columns:ta(U,T,k,j,d,b),pagination:!1,bordered:!0,onChange:K,scroll:{x:"max-content",y:600},loading:P,responsive:["sm","md","lg","xl","xxl"],expandable:{expandedRowRender:x=>e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",x.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",x.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Brand:"})," ",x.brand]}),e.jsxs("div",{children:[e.jsx("b",{children:"Quantity:"})," ",x.quantity]}),e.jsxs("div",{children:[e.jsx("b",{children:"Remarks:"})," ",x.remarks]}),e.jsxs("div",{children:[e.jsx("b",{children:"Serial Number:"})," ",x.serialNumber]}),d==="issuedDate"&&e.jsxs("div",{children:[e.jsx("b",{children:"Issued Date:"})," ",x.issuedDate||"NO DATE"]}),d==="purchaseDate"&&e.jsxs("div",{children:[e.jsx("b",{children:"Purchased Date:"})," ",x.purchaseDate||"NO DATE"]}),d==="default"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("b",{children:"Issued Date:"})," ",x.issuedDate||"NO DATE"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Purchased Date:"})," ",x.purchaseDate||"NO DATE"]})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Condition:"})," ",x.condition]}),e.jsxs("div",{children:[e.jsx("b",{children:"Detachment/Office:"})," ",x.location]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",x.status]})]}),rowExpandable:()=>!0},className:"text-xs"})})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx($r,{defaultActiveKey:"default",activeKey:o,onChange:ee,type:"card",tabBarGutter:4,moreIcon:null,items:[{key:"default",label:e.jsx("span",{className:"text-xs",children:"Default"}),children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-4",children:[e.jsx(Aa,{menu:re(),trigger:["click"],children:e.jsx(be,{type:"text",className:"border-black bg-[#a7f3d0] text-xs sm:block hidden",icon:e.jsx($a,{}),children:e.jsxs($t,{children:[((W=pe.find(x=>x.key===a))==null?void 0:W.label)||"All Columns",e.jsx(Va,{})]})})}),e.jsx(Ce,{placeholder:`Search in ${a==="all"?"all columns":(oe=pe.find(x=>x.key===a))==null?void 0:oe.label}`,prefix:e.jsx(Ha,{}),value:b,onChange:De,className:"ml-1 w-auto sm:w-auto border-black text-xs",suffix:b?e.jsx(be,{type:"text",size:"small",onClick:()=>{v(""),i(!1)},className:"text-xs",children:"×"}):null}),e.jsxs("div",{className:"flex justify-center gap-2 w-auto",children:[e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"New"}),children:(p||j==="user")&&e.jsx(be,{type:"text",icon:e.jsx(na,{}),onClick:()=>C(!0),className:"text-xs"})}),p&&e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"Delete"}),children:e.jsx(be,{type:"text",icon:e.jsx(aa,{}),onClick:$,className:"text-xs"})}),e.jsx(be,{onClick:me,className:"custom-button mt-1",type:"default",size:"small",icon:e.jsx(Ma,{className:"text-xs"}),children:e.jsx("span",{className:"text-xs",children:"Reset"})}),e.jsxs(ge,{defaultValue:"Newest",className:"w-auto text-xs transparent-select mt-1",onChange:H,value:k==="newest"?"Newest":"Oldest",size:"small",children:[e.jsx(xt,{value:"Newest",children:e.jsx("span",{className:"text-xs",children:"Newest"})}),e.jsx(xt,{value:"Oldest",children:e.jsx("span",{className:"text-xs",children:"Oldest"})})]})]})]}),e.jsx("div",{className:"w-auto overflow-x-auto",children:e.jsx(Xt,{rowSelection:G,rowKey:"id",dataSource:te,columns:ta(U,T,k,j,"default",b),pagination:!1,bordered:!0,onChange:K,scroll:{x:"max-content",y:600},loading:P,responsive:["sm","md","lg","xl","xxl"],expandable:u?{expandedRowRender:x=>e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",x.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",x.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Brand:"})," ",x.brand]}),e.jsxs("div",{children:[e.jsx("b",{children:"Quantity:"})," ",x.quantity]}),e.jsxs("div",{children:[e.jsx("b",{children:"Remarks:"})," ",x.remarks]}),e.jsxs("div",{children:[e.jsx("b",{children:"Serial Number:"})," ",x.serialNumber]}),e.jsxs("div",{children:[e.jsx("b",{children:"Issued Date:"})," ",x.issuedDate||"NO DATE"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Purchased Date:"})," ",x.purchaseDate||"NO DATE"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Condition:"})," ",x.condition]}),e.jsxs("div",{children:[e.jsx("b",{children:"Detachment/Office:"})," ",x.location]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",x.status]})]}),rowExpandable:()=>!0}:void 0,className:"text-xs"})})]})},{key:"issuedDate",label:e.jsx("span",{className:"text-xs",children:"Issued Date"}),children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-4",children:[e.jsx(Aa,{menu:re(),trigger:["click"],children:e.jsx(be,{type:"text",className:"border-black bg-[#a7f3d0] text-xs sm:block hidden",icon:e.jsx($a,{}),children:e.jsxs($t,{children:[((fe=pe.find(x=>x.key===a))==null?void 0:fe.label)||"All Columns",e.jsx(Va,{})]})})}),e.jsx(Ce,{placeholder:`Search in ${a==="all"?"all columns":(w=pe.find(x=>x.key===a))==null?void 0:w.label}`,prefix:e.jsx(Ha,{}),value:b,onChange:De,className:"ml-1 w-auto sm:w-auto border-black text-xs",suffix:b?e.jsx(be,{type:"text",size:"small",onClick:()=>{v(""),i(!1)},className:"text-xs",children:"×"}):null}),e.jsxs("div",{className:"flex justify-center gap-2 w-auto",children:[e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"New"}),children:(p||j==="user")&&e.jsx(be,{type:"text",icon:e.jsx(na,{}),onClick:()=>C(!0),className:"text-xs"})}),p&&e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"Delete"}),children:e.jsx(be,{type:"text",icon:e.jsx(aa,{}),onClick:$,className:"text-xs"})}),e.jsx(be,{onClick:me,className:"custom-button mt-1",type:"default",size:"small",icon:e.jsx(Ma,{className:"text-xs"}),children:e.jsx("span",{className:"text-xs",children:"Reset"})}),e.jsxs(ge,{defaultValue:"Newest",className:"w-auto text-xs transparent-select mt-1",onChange:H,value:k==="newest"?"Newest":"Oldest",size:"small",children:[e.jsx(xt,{value:"Newest",children:e.jsx("span",{className:"text-xs",children:"Newest"})}),e.jsx(xt,{value:"Oldest",children:e.jsx("span",{className:"text-xs",children:"Oldest"})})]})]})]}),e.jsx("div",{className:"w-auto overflow-x-auto",children:e.jsx(Xt,{rowSelection:G,rowKey:"id",dataSource:te,columns:ta(U,T,k,j,"issuedDate",b),pagination:!1,bordered:!0,onChange:K,scroll:{x:"max-content",y:600},loading:P,responsive:["sm","md","lg","xl","xxl"],expandable:u?{expandedRowRender:x=>e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",x.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",x.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Brand:"})," ",x.brand]}),e.jsxs("div",{children:[e.jsx("b",{children:"Quantity:"})," ",x.quantity]}),e.jsxs("div",{children:[e.jsx("b",{children:"Remarks:"})," ",x.remarks]}),e.jsxs("div",{children:[e.jsx("b",{children:"Serial Number:"})," ",x.serialNumber]}),e.jsxs("div",{children:[e.jsx("b",{children:"Issued Date:"})," ",x.issuedDate||"NO DATE"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Condition:"})," ",x.condition]}),e.jsxs("div",{children:[e.jsx("b",{children:"Detachment/Office:"})," ",x.location]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",x.status]})]}),rowExpandable:()=>!0}:void 0,className:"text-xs"})})]})},{key:"purchaseDate",label:e.jsx("span",{className:"text-xs",children:"Purchased Date"}),children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-4",children:[e.jsx(Aa,{menu:re(),trigger:["click"],children:e.jsx(be,{type:"text",className:"border-black bg-[#a7f3d0] text-xs sm:block hidden",icon:e.jsx($a,{}),children:e.jsxs($t,{children:[((L=pe.find(x=>x.key===a))==null?void 0:L.label)||"All Columns",e.jsx(Va,{})]})})}),e.jsx(Ce,{placeholder:`Search in ${a==="all"?"all columns":(ce=pe.find(x=>x.key===a))==null?void 0:ce.label}`,prefix:e.jsx(Ha,{}),value:b,onChange:De,className:"ml-1 w-auto sm:w-auto border-black text-xs",suffix:b?e.jsx(be,{type:"text",size:"small",onClick:()=>{v(""),i(!1)},className:"text-xs",children:"×"}):null}),e.jsxs("div",{className:"flex justify-center gap-2 w-auto",children:[e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"New"}),children:(p||j==="user")&&e.jsx(be,{type:"text",icon:e.jsx(na,{}),onClick:()=>C(!0),className:"text-xs"})}),p&&e.jsx(Je,{title:e.jsx("span",{className:"text-xs",children:"Delete"}),children:e.jsx(be,{type:"text",icon:e.jsx(aa,{}),onClick:$,className:"text-xs"})}),e.jsx(be,{onClick:me,className:"custom-button mt-1",type:"default",size:"small",icon:e.jsx(Ma,{className:"text-xs"}),children:e.jsx("span",{className:"text-xs",children:"Reset"})}),e.jsxs(ge,{defaultValue:"Newest",className:"w-auto text-xs transparent-select mt-1",onChange:H,value:k==="newest"?"Newest":"Oldest",size:"small",children:[e.jsx(xt,{value:"Newest",children:e.jsx("span",{className:"text-xs",children:"Newest"})}),e.jsx(xt,{value:"Oldest",children:e.jsx("span",{className:"text-xs",children:"Oldest"})})]})]})]}),e.jsx("div",{className:"w-auto overflow-x-auto",children:e.jsx(Xt,{rowSelection:G,rowKey:"id",dataSource:te,columns:ta(U,T,k,j,"purchaseDate",b),pagination:!1,bordered:!0,onChange:K,scroll:{x:"max-content",y:600},loading:P,responsive:["sm","md","lg","xl","xxl"],expandable:u?{expandedRowRender:x=>e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",x.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",x.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Brand:"})," ",x.brand]}),e.jsxs("div",{children:[e.jsx("b",{children:"Quantity:"})," ",x.quantity]}),e.jsxs("div",{children:[e.jsx("b",{children:"Remarks:"})," ",x.remarks]}),e.jsxs("div",{children:[e.jsx("b",{children:"Serial Number:"})," ",x.serialNumber]}),e.jsxs("div",{children:[e.jsx("b",{children:"Purchased Date:"})," ",x.purchaseDate||"NO DATE"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Condition:"})," ",x.condition]}),e.jsxs("div",{children:[e.jsx("b",{children:"Detachment/Office:"})," ",x.location]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",x.status]})]}),rowExpandable:()=>!0}:void 0,className:"text-xs"})})]})}]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mt-5 space-y-2 sm:space-y-0",children:[e.jsxs(Tr.Text,{className:"w-full text-xs text-nowrap text-center sm:text-left overflow-auto",style:{color:"#072C1C"},children:["Showing data of ",N>0?(D-1)*g+1:0," to ",Math.min(D*g,N)," of ",N," entries"]}),e.jsx("div",{className:"w-full flex justify-center sm:justify-end",children:e.jsx(Hr,{current:D,pageSize:g,total:N,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100","200","500","1000","2000"],onChange:z,className:"text-xs",responsive:!0})})]}),e.jsx(fl,{visible:S,onClose:()=>C(!1),onAdd:q,loading:P}),e.jsx(hl,{visible:h,onClose:()=>y(!1),onEdit:E,item:B,loading:P}),e.jsx(vl,{visible:F,onClose:()=>{_(!1),M(null)},onEdit:O,item:I,loading:P})]})};export{Kl as default};
